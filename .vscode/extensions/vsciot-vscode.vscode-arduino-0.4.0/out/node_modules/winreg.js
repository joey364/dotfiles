module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=457)}({0:function(t,e){t.exports=require("util")},1:function(t,e){t.exports=require("path")},42:function(t,e){t.exports=require("child_process")},457:function(t,e,n){var r=n(0),i=n(1),o=n(42).spawn,u=["HKLM","HKCU","HKCR","HKU","HKCC"],s=["REG_SZ","REG_MULTI_SZ","REG_EXPAND_SZ","REG_DWORD","REG_QWORD","REG_BINARY","REG_NONE"],c=/(\\[a-zA-Z0-9_\s]+)*/,f=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,a=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function l(t,e){if(!(this instanceof l))return new l(t,e);Error.captureStackTrace(this,l),this.__defineGetter__("name",(function(){return l.name})),this.__defineGetter__("message",(function(){return t})),this.__defineGetter__("code",(function(){return e}))}function p(t){var e={stdout:"",stderr:""};return t.stdout.on("data",(function(t){e.stdout+=t.toString()})),t.stderr.on("data",(function(t){e.stderr+=t.toString()})),e}function h(t,e,n){var i=n.stdout.trim(),o=n.stderr.trim();return new l(r.format("%s command exited with code %d:\n%s\n%s",t,e,i,o),e)}function _(t,e){e&&t.push("/reg:"+function(t){if("x64"==t)return"64";if("x86"==t)return"32";throw new Error("illegal architecture: "+t+" (use x86 or x64)")}(e))}function d(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function E(t,e,n,r,i,o,u){if(!(this instanceof E))return new E(t,e,n,r,i,o,u);var s=t,c=e,f=n,a=r,l=i,p=o,h=u;this.__defineGetter__("host",(function(){return s})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return f})),this.__defineGetter__("name",(function(){return a})),this.__defineGetter__("type",(function(){return l})),this.__defineGetter__("value",(function(){return p})),this.__defineGetter__("arch",(function(){return h}))}function v(t){if(!(this instanceof v))return new v(t);var e=t||{},n=""+(e.host||""),r=""+(e.hive||"HKLM"),i=""+(e.key||""),o=e.arch||null;if(this.__defineGetter__("host",(function(){return n})),this.__defineGetter__("hive",(function(){return r})),this.__defineGetter__("key",(function(){return i})),this.__defineGetter__("path",(function(){return(0==n.length?"":"\\\\"+n+"\\")+r+i})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var t=i.lastIndexOf("\\");return new v({host:this.host,hive:this.hive,key:-1==t?"":i.substring(0,t),arch:this.arch})})),-1==u.indexOf(r))throw new Error("illegal hive specified.");if(!c.test(i))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}r.inherits(l,Error),r.inherits(E,Object),v.HKLM="HKLM",v.HKCU="HKCU",v.HKCR="HKCR",v.HKU="HKU",v.HKCC="HKCC",v.HIVES=u,v.REG_SZ="REG_SZ",v.REG_MULTI_SZ="REG_MULTI_SZ",v.REG_EXPAND_SZ="REG_EXPAND_SZ",v.REG_DWORD="REG_DWORD",v.REG_QWORD="REG_QWORD",v.REG_BINARY="REG_BINARY",v.REG_NONE="REG_NONE",v.REG_TYPES=s,v.DEFAULT_VALUE="",v.prototype.values=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["QUERY",this.path];_(e,this.arch);var n=o(d(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,u=null,s=p(n);return n.on("close",(function(e){if(!u)if(0!==e)t(h("QUERY",e,s),null);else{for(var n=[],o=[],c=r.split("\n"),f=0,l=0,p=c.length;l<p;l++){var _=c[l].trim();_.length>0&&(0!=f&&n.push(_),++f)}for(l=0,p=n.length;l<p;l++){var d,v,y,R=a.exec(n[l]);R&&(d=R[1].trim(),v=R[2].trim(),y=R[3],o.push(new E(i.host,i.hive,i.key,d,v,y,i.arch)))}t(null,o)}})),n.stdout.on("data",(function(t){r+=t.toString()})),n.on("error",(function(e){u=e,t(e)})),this},v.prototype.keys=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["QUERY",this.path];_(e,this.arch);var n=o(d(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,u=null,s=p(n);return n.on("close",(function(e){u||0!==e&&t(h("QUERY",e,s),null)})),n.stdout.on("data",(function(t){r+=t.toString()})),n.stdout.on("end",(function(){for(var e=[],n=[],o=r.split("\n"),u=0,s=o.length;u<s;u++){var c=o[u].trim();c.length>0&&e.push(c)}for(u=0,s=e.length;u<s;u++){var a,l=f.exec(e[u]);l&&(l[1],(a=l[2])&&a!==i.key&&n.push(new v({host:i.host,hive:i.hive,key:a,arch:i.arch})))}t(null,n)})),n.on("error",(function(e){u=e,t(e)})),this},v.prototype.get=function(t,e){if("function"!=typeof e)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==t?n.push("/ve"):n=n.concat(["/v",t]),_(n,this.arch);var r=o(d(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",u=this,s=null,c=p(r);return r.on("close",(function(t){if(!s)if(0!==t)e(h("QUERY",t,c),null);else{for(var n=[],r=null,o=i.split("\n"),f=0,l=0,p=o.length;l<p;l++){var _=o[l].trim();_.length>0&&(0!=f&&n.push(_),++f)}var d,v,y,R=n[n.length-1]||"",G=a.exec(R);G&&(d=G[1].trim(),v=G[2].trim(),y=G[3],r=new E(u.host,u.hive,u.key,d,v,y,u.arch)),e(null,r)}})),r.stdout.on("data",(function(t){i+=t.toString()})),r.on("error",(function(t){s=t,e(t)})),this},v.prototype.set=function(t,e,n,r){if("function"!=typeof r)throw new TypeError("must specify a callback");if(-1==s.indexOf(e))throw Error("illegal type specified.");var i=["ADD",this.path];""==t?i.push("/ve"):i=i.concat(["/v",t]),_(i=i.concat(["/t",e,"/d",n,"/f"]),this.arch);var u=o(d(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),c=null,f=p(u);return u.on("close",(function(t){c||r(0!==t?h("ADD",t,f):null)})),u.stdout.on("data",(function(t){})),u.on("error",(function(t){c=t,r(t)})),this},v.prototype.remove=function(t,e){if("function"!=typeof e)throw new TypeError("must specify a callback");var n=t?["DELETE",this.path,"/f","/v",t]:["DELETE",this.path,"/f","/ve"];_(n,this.arch);var r=o(d(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,u=p(r);return r.on("close",(function(t){i||(0!==t?e(h("DELETE",t,u),null):e(null))})),r.stdout.on("data",(function(t){})),r.on("error",(function(t){i=t,e(t)})),this},v.prototype.clear=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["DELETE",this.path,"/f","/va"];_(e,this.arch);var n=o(d(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",(function(e){r||(0!==e?t(h("DELETE",e,i),null):t(null))})),n.stdout.on("data",(function(t){})),n.on("error",(function(e){r=e,t(e)})),this},v.prototype.erase=v.prototype.clear,v.prototype.destroy=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["DELETE",this.path,"/f"];_(e,this.arch);var n=o(d(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",(function(e){r||(0!==e?t(h("DELETE",e,i),null):t(null))})),n.stdout.on("data",(function(t){})),n.on("error",(function(e){r=e,t(e)})),this},v.prototype.create=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["ADD",this.path,"/f"];_(e,this.arch);var n=o(d(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",(function(e){r||(0!==e?t(h("ADD",e,i),null):t(null))})),n.stdout.on("data",(function(t){})),n.on("error",(function(e){r=e,t(e)})),this},v.prototype.keyExists=function(t){return this.values((function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},v.prototype.valueExists=function(t,e){return this.get(t,(function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},t.exports=v}});