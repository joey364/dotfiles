{"version":3,"sources":[".././node_modules/async/lib/async.js",".././node_modules/asynckit/index.js",".././node_modules/asynckit/lib/abort.js",".././node_modules/asynckit/lib/async.js",".././node_modules/asynckit/lib/defer.js",".././node_modules/asynckit/lib/iterate.js",".././node_modules/asynckit/lib/state.js",".././node_modules/asynckit/lib/terminator.js",".././node_modules/asynckit/parallel.js",".././node_modules/asynckit/serial.js",".././node_modules/asynckit/serialOrdered.js",".././node_modules/charenc/charenc.js",".././node_modules/combined-stream/lib/combined_stream.js",".././node_modules/crypt/crypt.js",".././node_modules/delayed-stream/lib/delayed_stream.js",".././node_modules/form-data/lib/form_data.js",".././node_modules/form-data/lib/populate.js",".././node_modules/is-buffer/index.js",".././node_modules/is-docker/index.js",".././node_modules/is-wsl/index.js",".././node_modules/is_js/is.js",".././node_modules/json-stringify-safe/stringify.js",".././node_modules/kite-api/lib/editor-config.js",".././node_modules/kite-api/lib/index.js",".././node_modules/kite-api/lib/stores/memory.js",".././node_modules/kite-api/lib/url-helpers.js",".././node_modules/kite-api/lib/utils.js",".././node_modules/kite-connector/lib/clients/browser.js",".././node_modules/kite-connector/lib/clients/node.js",".././node_modules/kite-connector/lib/constants.js",".././node_modules/kite-connector/lib/index.js",".././node_modules/kite-connector/lib/kite-process-error.js",".././node_modules/kite-connector/lib/kite-request-error.js",".././node_modules/kite-connector/lib/kite-state-error.js",".././node_modules/kite-connector/lib/logger.js",".././node_modules/kite-connector/lib/loggers/console.js",".././node_modules/kite-connector/lib/loggers/null.js",".././node_modules/kite-connector/lib/support/linux.js",".././node_modules/kite-connector/lib/support/no-support.js",".././node_modules/kite-connector/lib/support/osx.js",".././node_modules/kite-connector/lib/support/windows.js",".././node_modules/kite-connector/lib/utils.js",".././node_modules/lru-cache/lib/lru-cache.js",".././node_modules/md5/md5.js",".././node_modules/mime-db/index.js",".././node_modules/mime-types/index.js",".././node_modules/mixpanel/lib/mixpanel-node.js",".././node_modules/open/index.js",".././node_modules/request-ip/index.js",".././node_modules/rollbar/src/api.js",".././node_modules/rollbar/src/apiUtility.js",".././node_modules/rollbar/src/merge.js",".././node_modules/rollbar/src/notifier.js",".././node_modules/rollbar/src/predicates.js",".././node_modules/rollbar/src/queue.js",".././node_modules/rollbar/src/rateLimiter.js",".././node_modules/rollbar/src/rollbar.js",".././node_modules/rollbar/src/scrub.js",".././node_modules/rollbar/src/server/logger.js",".././node_modules/rollbar/src/server/parser.js",".././node_modules/rollbar/src/server/rollbar.js",".././node_modules/rollbar/src/server/sourceMap/stackTrace.js",".././node_modules/rollbar/src/server/transforms.js",".././node_modules/rollbar/src/server/transport.js",".././node_modules/rollbar/src/telemetry.js",".././node_modules/rollbar/src/transforms.js",".././node_modules/rollbar/src/truncation.js",".././node_modules/rollbar/src/utility.js",".././node_modules/rollbar/src/utility/traverse.js",".././node_modules/rollbar/vendor/JSON-js/json3.js",".././node_modules/source-map/lib/array-set.js",".././node_modules/source-map/lib/base64-vlq.js",".././node_modules/source-map/lib/base64.js",".././node_modules/source-map/lib/binary-search.js",".././node_modules/source-map/lib/mapping-list.js",".././node_modules/source-map/lib/quick-sort.js",".././node_modules/source-map/lib/source-map-consumer.js",".././node_modules/source-map/lib/source-map-generator.js",".././node_modules/source-map/lib/source-node.js",".././node_modules/source-map/lib/util.js",".././node_modules/source-map/source-map.js",".././src/codenav-decoration.ts",".././src/docs.ts",".././src/data-utils.js",".././src/constants.js",".././src/completion.js",".././src/signature.js",".././src/definition.js",".././src/kite-editor.js",".././src/events.js",".././src/kite.js",".././src/localconfig.js","../external \"crypto\"",".././src/metrics.js",".././src/notifications.js",".././src/urls.js",".././src/utils.js","../external \"buffer\"","../external \"child_process\"","../external \"events\"","../external \"fs\"","../external \"http\"","../external \"https\"","../external \"os\"","../external \"path\"","../external \"process\"","../external \"querystring\"","../external \"stream\"","../external \"url\"","../external \"util\"","../external \"vscode\"","../webpack/bootstrap","../webpack/startup","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object"],"names":["root","previous_async","async","noop","only_once","fn","called","Error","apply","this","arguments","_once","window","global","noConflict","_toString","Object","prototype","toString","_isArray","Array","isArray","obj","call","_isArrayLike","arr","length","_arrayEach","iterator","index","_map","result","_range","count","v","i","_setImmediate","_keys","keys","k","hasOwnProperty","push","_keyIterator","coll","len","_baseSlice","start","_withoutIndex","value","callback","_eachOfLimit","limit","nextKey","done","running","errored","replenish","key","err","doParallel","eachOf","doSeries","eachOfSeries","_asyncMap","eachfn","results","_filter","x","sort","a","b","_reject","_detect","main_callback","_parallel","tasks","task","args","_concat","cb","y","concat","_queue","worker","concurrency","payload","_insert","q","data","pos","started","idle","setImmediate","drain","item","unshift","saturated","process","_next","workers","empty","paused","kill","splice","pause","resume","resumeCount","Math","min","w","_console_fn","name","console","error","_times","mapper","_applyEach","fns","go","that","pop","_","ensureAsync","innerArgs","sync","nextTick","setTimeout","forEach","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","object","size","completed","_forEachOf","_each","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","map","mapSeries","mapLimit","doParallelLimit","_mapLimit","inject","foldl","reduce","memo","foldr","reduceRight","reversed","reverse","select","filter","selectSeries","filterSeries","reject","rejectSeries","detect","detectSeries","any","some","all","every","sortBy","comparator","left","right","criteria","auto","remainingTasks","listeners","addListener","taskComplete","slice","taskCallback","safeResults","rkey","dep","requires","abs","indexOf","ready","listener","removeListener","retry","times","attempts","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","series","parseInt","waterfall","wrapIterator","next","parallel","parallelLimit","makeCallback","concatSeries","whilst","test","doWhilst","until","doUntil","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","end","mid","_binarySearch","cargo","log","dir","memoize","hasher","queues","memoized","l","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","module","exports","serial","serialOrdered","clean","jobs","state","bind","defer","isAsync","abort","list","runJob","output","sortMethod","isNamedList","initState","keyedList","terminator","ascending","iteratorHandler","descending","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","charCodeAt","String","fromCharCode","join","util","Stream","DelayedStream","CombinedStream","writable","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","inherits","create","options","combinedStream","option","isStreamLike","stream","Buffer","isBuffer","append","newStream","Infinity","pauseStream","on","_checkDataSize","_handleErrors","pipe","dest","_getNext","_realGetNext","shift","_pipeNext","write","self","_emitError","emit","_reset","destroy","_updateDataSize","message","base64map","crypt","rotl","n","rotr","endian","constructor","Number","randomBytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","c","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","pow","source","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","defineProperty","configurable","enumerable","get","setEncoding","release","r","_checkIfMaxDataSizeExceeded","path","http","https","parseUrl","fs","mime","asynckit","populate","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","filename","_error","header","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","byteLength","_lengthRetriever","undefined","stat","fileSize","headers","response","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","prop","getBoundary","filepath","normalize","basename","client","_httpMessage","lookup","_lastBoundary","getHeaders","userHeaders","formHeaders","toLowerCase","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","boundary","from","substring","getLengthSync","hasKnownLength","getLength","values","submit","params","request","defaults","method","port","pathname","host","hostname","protocol","setHeader","dst","src","readFloatLE","isSlowBuffer","_isBuffer","isDocker","statSync","hasDockerEnv","readFileSync","includes","hasDockerCGroup","os","isWsl","platform","env","__IS_WSL_TEST__","is","not","func","getParams","compareVersion","version","range","string","match","NaN","op","array","boolean","char","date","domNode","nodeType","json","nan","number","regexp","sameType","other","tag","api","windowObject","getOwnPropertyNames","existy","falsy","truthy","above","decimal","equal","even","finite","isFinite","infinite","integer","negative","odd","positive","under","max","within","regexes","affirmative","alphaNumeric","caPostalCode","creditCard","dateString","email","eppPhone","hexadecimal","hexColor","ipv4","ipv6","nanpPhone","socialSecurityNumber","timeString","ukPostCode","url","usZipCode","regexpCheck","ip","capitalized","split","word","chr","toUpperCase","endWith","target","position","include","lowerCase","palindrome","half","space","charCode","startWith","upperCase","days","months","day","getDay","dayLightSavingTime","january","Date","getFullYear","july","stdTimezoneOffset","getTimezoneOffset","future","now","getTime","inDateRange","stamp","inLastMonth","setMonth","getMonth","inLastWeek","setDate","getDate","inLastYear","setFullYear","inNextMonth","inNextWeek","inNextYear","leapYear","year","month","past","quarterOfYear","quarter","today","todayString","toDateString","tomorrow","tomorrowString","weekend","weekday","yesterday","yesterdayString","freeGlobal","freeSelf","thisGlobal","Function","document","previousIs","navigator","appVersion","userAgent","vendor","android","androidPhone","androidTablet","blackberry","chrome","desktop","mobile","tablet","edge","firefox","ie","ios","iphone","ipad","ipod","linux","mac","windowsPhone","offline","online","onLine","opera","phantom","safari","windowsTablet","touchDevice","DocumentTouch","windows","propertyCount","property","propertyDefined","inArray","sorted","sign","predicate","interfaces","setInterfaces","setNamespace","setRegexp","factory","serializer","replacer","cycleReplacer","stack","thisPos","spaces","JSON","stringify","getSerialize","store","content","Promise","resolve","then","parse","readValueAtPath","set","writeValueAtPath","querystring","KiteConnector","KiteStateError","KiteRequestError","utils","NodeClient","BrowserClient","EventEmitter","EditorConfig","MemoryStore","STATES","merge","checkArguments","checkArgumentKeys","urls","KiteAPI","emitter","editorConfig","DEFAULT_MAX_FILE_SIZE","toggleRequestDebug","Account","resp","handleResponseData","catch","requestJSON","getKiteSetting","res","editor","language","getOnboardingFilePath","onboardingFilePath","canAuthenticateUser","isKiteReachable","reversePromise","isUserAuthenticated","AUTHENTICATED","password","authenticateUser","saveUserID","authenticateSessionID","id","encoding","getHoverDataAtPosition","hoverPath","getReportDataAtPosition","getReportDataFromHover","symbol","idIsEmpty","getSymbolReportDataForId","report","getValueReportDataForId","page","getMembersDataForId","membersPath","getUsagesDataForValueId","usagesPath","getUsageDataForId","getExampleDataForId","statusPath","status","getCompletions","text","completions","editor_install_path","line","selection","location","getSignaturesAtPosition","cursor_runes","offset_encoding","query","getKSGCompletions","getKSGCodeBlocks","editorMeta","getAutocorrectData","metadata","getAutocorrectMetadata","buffer","getAutocorrectModelInfo","event","os_name","getOsName","darwin","win32","postSaveValidationData","feedback","postAutocorrectFeedbackData","requestStartTime","postAutocorrectHashMismatchData","response_time","sendFeatureMetric","featureRequested","featureFulfilled","suffix","featureApplied","base","ssl","checkStatusAndInvokeCallback","promise","statusCode","respData","responseStatus","responseData","md5","cleanPath","p","encodeURI","projectDirPath","shouldNotifyPath","arg","argName","missingKeys","parameters","signature","exec","parseSignature","missingArguments","cookies","opts","timeout","domain","XMLHttpRequest","addEventListener","raw","responseText","req","createResponse","open","ontimeout","form","setRequestHeader","send","parseSetCookies","Name","hdrs","Cookies","dumpCookies","writeCookies","readCookies","UNSUPPORTED","UNINSTALLED","NOT_RUNNING","UNREACHABLE","UNLOGGED","READY","INSTALLED","RUNNING","REACHABLE","LEVELS","SILLY","VERBOSE","DEBUG","INFO","WARNING","ERROR","adapter","dispose","shouldAddCatchProcessing","isKiteSupported","isKiteInstalled","isKiteRunning","requestData","extractErr","anyPromise","checkHealth","hasKiteRun","installKite","downloadKiteRelease","downloadKite","runKiteWithCopilot","runKite","interval","waitForKite","retryPromise","isKiteEnterpriseInstalled","isKiteEnterpriseRunning","runKiteEnterprise","hasBothKiteInstalled","hasManyKiteInstallation","hasManyKiteEnterpriseInstallation","isAdmin","arch","isOSSupported","isOSVersionSupported","type","super","cmd","stdout","stderr","captureStackTrace","NullReporter","ConsoleReporter","LEVEL","msgs","level","SILENT","TRACE_ALL","METHODS","child_process","KiteProcessError","LinuxSupport","RELEASE_URL","KITED_HAS_RUN_PATH","homedir","SESSION_FILE_PATH","KITE_INSTALLER_PATH","tmpdir","KITED_PATH","KITED_PROCESS","KITE_CURRENT_LINK","memKitedInstallPath","installPath","allInstallPaths","user","whoami","execSync","lastIndexOf","acc","val","token","trim","e","userInfo","uid","username","ignored","existsSync","exists","releaseURL","downloadKiteInstallerScript","onDownloadProgress","streamKiteDownload","downloadPath","guardCall","onDownload","install","progress","followRedirections","promisifyStream","createWriteStream","chmodSync","scriptPath","child","spawn","shell","code","callStack","last","chunk","lastMatch","pattern","received","total","onInstallStart","spawnPromise","resetInstallPath","onMount","unlinkSync","onRemove","launchCopilot","channel","assign","SKIP_KITE_ONBOARDING","detached","stdio","notSupported","OSXSupport","APPS_PATH","KITE_DMG_PATH","KITE_VOLUME_PATH","KITE_APP_PATH","mounted","defaultInstalled","KITE_SIDEBAR_PATH","KITE_BUNDLE_ID","paths","spawnSync","checkDefaultAppPath","allEnterpriseInstallPaths","parseFloat","onCopy","onUnmount","s","enterpriseInstallPath","KEY_BAT","__dirname","COMPUTED_INSTALL_PATH","WindowsSupport","LOCALAPPDATA","installDir","fallbackInstallDir","ProgramW6432","registryDir","KITE_EXE_PATH","launch","KITE_SKIP_ONBOARDING","execPromise","promisifyRequest","arrayOfPromises","resolvingPromises","resolved","m","deepMerge","Value","cmdOptions","rejectionType","rejectionMessage","findCookie","isRedirection","parseJSON","fallback","cookie","parsed","Path","Domain","Expires","RawExpires","MaxAge","Secure","HttpOnly","Raw","Unparsed","idx","doAttempt","makeAttempt","retryOrReject","resolutionMessage","startsWith","cmdArgs","proc","processErr","hOP","naiveLength","LRUCache","lengthCalculator","allowStale","stale","maxAge","cache","lruList","mru","lru","itemCount","del","shiftLU","hit","lu","mL","lC","thisp","reset","dump","dumpLru","age","Entry","has","Uint8Array","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","t","_blocksize","_digestsize","digestbytes","asBytes","asString","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","to","REQUEST_LIBS","create_client","config","metrics","debug","verbose","send_request","endpoint","request_data","request_lib","api_key","request_options","ex","track","properties","mp_lib","parse_time","time","import","import_batch","event_list","batch_size","total_events","max_simultaneous_events","completed_events","event_group_idx","request_errors","max_batch_size","send_next_batch","event_batch","ei","ceil","alias","distinct_id","people","set_once","modifiers","$set","_set","set_key","$ip","$ignore_time","merge_modifiers","increment","by","$add","isNaN","$append","track_charge","amount","$amount","$time","toISOString","clear_charges","delete_user","union","$union","merge_values","unset","$unset","$ignore_alias","set_config","Client","warn","init","promisify","childProcess","pAccess","access","pExecFile","execFile","localXdgOpenPath","TypeError","command","wait","background","allowNonzeroExitCode","app","appArguments","cliArguments","childProcessOptions","windowsRoot","wslGetWindowsEnvVar","SYSTEMROOT","windowsToWslPath","windowsVerbatimArguments","encodedArguments","wslToWindowsPath","isBundled","exeLocalXdgOpen","constants","X_OK","versions","electron","subprocess","once","exitCode","unref","getClientIpFromXForwardedFor","splitted","find","getClientIp","xForwardedFor","forwarded","connection","remoteAddress","socket","info","mw","configuration","attributeName","helpers","defaultOptions","search","Api","transport","urllib","truncation","jsonBackup","accessToken","transportOptions","_getTransport","getTransportFromOptions","postItem","buildPayload","post","buildJsonPayload","stringifyResult","truncate","postJsonPayload","jsonPayload","configure","oldOptions","isType","context","contextResult","access_token","proxy","appendPathToPath","baseTrailingSlash","pathBeginningSlash","hasOwn","toStr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","copy","clone","current","Notifier","transforms","diagnostic","addTransform","transform","isFunction","enabled","addPendingItem","originalError","_applyTransforms","removePendingItem","addItem","transformIndex","transformsLength","matchFrames","trace","black","frames","listLength","frameLength","RegExp","urlIsOnAList","settings","whiteOrBlack","logger","traces","hostBlackList","hostWhiteList","tracesLength","listName","checkLevel","levelVal","reportLevel","userCheckIgnore","isUncaught","_isUncaught","_originalArgs","onSendCallback","checkIgnore","urlIsNotBlacklisted","urlIsWhitelisted","messageIsIgnored","exceptionMessage","ignoredMessages","body","traceMessage","bodyMessage","Queue","rateLimiter","predicates","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","addPredicate","originalItem","predicateResult","_applyPredicates","stop","_maybeLog","transmit","_makeApiRequest","_dequeuePendingRequest","_maybeCallWait","clearInterval","setInterval","rateLimitResponse","shouldSend","_maybeRetry","RETRIABLE_ERRORS","shouldRetry","retryInterval","_retryApiRequest","retryObject","RateLimiter","startTime","counter","perMinCounter","platformOptions","configureGlobal","checkRate","ignoreRateLimit","shouldSendValue","globalRateLimit","limitPerMin","perMinute","extra","maxItems","itemsPerMinute","environment","notifier","framework","rateLimitPayload","globalSettings","elapsedTime","globalRateLimitPerMin","setPlatformOptions","Rollbar","telemeter","tracer","validateTracer","_configuredOptions","setStackTraceLimit","lastError","lastErrorHash","stackTraceLimit","scope","active","payloadData","_defaultLogLevel","_log","warning","critical","captureEvent","captureDomContentLoaded","ts","captureLoad","sendJsonPayload","defaultLevel","ignoreDuplicateErrors","_sameAsLastError","_addTracingInfo","_captureRollbarItem","telemetryEvents","copyEvents","logLevel","itemHash","generateItemHash","span","spanContext","toSpanId","toTraceId","validateSpan","setTag","uuid","opentracingSpanId","opentracingTraceId","custom","opentracing_span_id","opentracing_trace_id","traverse","scrubPath","redact","scrubFields","scrubPaths","paramRes","pat","ret","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","scrubber","seen","tmpV","valScrubber","paramScrubber","setVerbose","stackTrace","tracePattern","jadeTracePattern","jadeFramePattern","pendingReads","parseFrameLine","matched","curLine","frame","column","useSourceMaps","mapSourcePosition","mapPosition","lineno","colno","compiled_lineno","compiled_colno","shouldReadFrameFile","frameFilename","isValidFilename","isCached","checkFileExists","parseException","exc","multipleErrs","errors","errArray","getMultipleErrors","parseStack","clss","firstErr","jadeData","class","lines","lineNumSep","numLines","msg","contextLine","preContext","postContext","jadeMatch","pre","parseJadeDebugFrame","_stack","nodeSourceMaps","node_source_maps","source_mapping_urls","frameFilenames","tempFileCache","gatherFileData","readFile","fileData","fileLines","readFileLines","gatherContextLines","extractContextLines","filenames","gatherContexts","packageJson","API","Transport","Telemeter","sharedTransforms","sharedPredicates","polyfillJSON","minimumLevel","handleOptions","lambdaContext","lambdaTimeoutHandle","baseData","handleItemWithError","addBody","addMessageWithError","addTelemetryData","addRequestData","addLambdaData","addConfigToPayload","scrubPayload","userTransform","addConfiguredOptions","addDiagnosticKeys","itemToPayload","setupUnhandledCapture","setupJSON","_instance","handleUninitialized","maybeCallback","_getFirstFunction","addOrReplaceRollbarHandler","action","_rollbarHandler","RollbarError","nested","_createItem","_uncaughtError","errorHandler","rollbarError","lambdaHandler","handler","timeoutHandler","asyncLambdaHandler","syncLambdaHandler","_timeoutHandler","originalEvent","originalRequestId","awsRequestId","shouldReportTimeouts","captureLambdaTimeouts","timeoutCb","getRemainingTimeInMillis","clearTimeout","_cb","wrapCallback","f","createTelemetryEvent","reportMessage","reportMessageWithPayloadData","handleError","handleErrorWithPayloadData","handleUncaughtExceptions","handleUnhandledRejections","handleUncaughtExceptionsAndRejections","createItem","captureUncaught","captureUnhandledRejections","exitOnUncaught","exitOnUncaughtException","exit","reason","showReportedMessageTraces","scrubHeaders","server","sendConfig","includeItemsInTelemetry","captureEmail","captureUsername","captureIp","scrubRequestBody","SourceMapConsumer","fileContentsCache","sourceMapCache","reSourceMap","retrieveFile","_protocol","drive","er","supportRelativeURL","file","dirname","startPath","sourceMap","urlAndMap","sourceMapData","sourceMappingURL","re","retrieveSourceMapURL","rawData","retrieveSourceMap","sourcesContent","sources","originalPositionFor","originalPosition","parser","requestIp","scrub","addMessageData","addErrorData","stackInfo","trace_chain","_isJsonContentType","_extractIp","timestamp","round","codeVersion","code_version","argv","pid","branch","chain","addErrorContext","errData","exception","_buildTraceData","description","buildTraceData","baseUrl","routePath","parsedUrl","proto","encrypted","fullUrl","format","user_ip","GET","bodyParams","isIterable","_buildRequestData","filterIp","route","_router","matchRequest","ignore","rollbar_person","person","user_id","userId","remainingTimeInMillis","callbackWaitsForEmptyEventLoop","functionName","functionVersion","arn","invokedFunctionArn","requestId","lambda","isString","parseRequestBody","isObject","serializeRequestBody","rateLimitExpires","_headers","_transport","_currentTime","transportFactory","addParamsAndAccessTokenToPath","handleResponse","writeData","_wrapPostCallback","updateRateLimit","remaining","remainingSeconds","currentTime","parsedData","jsonParse","_parseApiResponse","MAX_EVENTS","maxTelemetryEvents","maxQueueSize","getLevel","manual","newMaxEvents","deleteCount","events","filterTelemetry","capture","rollbarUUID","timestamp_ms","captureError","captureLog","captureNetwork","subtype","levelFromStatus","status_code","captureDom","element","checked","captureNavigation","captureConnectivityChange","change","addFunctionOption","payloadOptions","tracePath","newExtra","newItem","configuredOptions","configured_options","is_anonymous","is_uncaught","raw_error","constructor_name","fileName","lineNumber","columnNumber","failed","selectFrames","truncateFrames","maybeTruncateValue","truncateStrings","truncator","typeName","truncateTraceData","traceData","minBody","needsTruncation","maxSize","maxByteSize","strategy","strategies","RollbarJSON","isNativeFunction","funcMatchString","reIsNative","uuid4","parseUriOptions","strictMode","strict","loose","backup","jsonError","backupError","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","paramsArray","qs","h","requestKeys","extraArgs","argTypes","typ","DOMException","skipFrames","setCustomItemKeys","original_arg_types","contextAdded","rollbarContext","error_context","newIp","parts","beginning","slashIdx","formatArgsAsString","formatUrl","u","input","overwriteScrubFields","isError","makeUnhandledStackInfo","mode","backupMessage","errorParser","guessFunctionName","gatherContext","href","useragent","sanitizeUrl","baseUrlParts","o","uri","$0","$1","$2","parseUri","anchor","temp","replacement","isObj","same","gap","indent","meta","rep","container","escapes","rx_escapable","this_value","valueOf","quote","lastIndex","holder","partial","mind","toJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Boolean","\"","firstokey","okey","ovalue","firstavalue","avalue","ocomma","acomma","colon","SyntaxError","reviver","tx","walk","hasNativeMap","Map","ArraySet","_array","fromArray","aArray","aAllowDuplicates","add","aStr","sStr","toSetString","isDuplicate","at","aIdx","toArray","encode","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","rest","intToCharMap","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","cmp","LEAST_UPPER_BOUND","GREATEST_LOWER_BOUND","MappingList","_sorted","_last","generatedLine","generatedColumn","unsortedForEach","aCallback","aThisArg","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","swap","ary","doQuickSort","low","high","pivot","binarySearch","base64VLQ","quickSort","aSourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","getArg","names","sourceRoot","mappings","_version","isAbsolute","relative","_names","_sources","_mappings","Mapping","originalLine","originalColumn","lastOffset","_sections","offset","offsetLine","offsetColumn","generatedOffset","consumer","fromSourceMap","__generatedMappings","_parseMappings","__originalMappings","_charIsMappingSeparator","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","eachMapping","aContext","aOrder","_generatedMappings","_originalMappings","mapping","allGeneratedPositionsFor","aArgs","needle","_findMapping","compareByOriginalPositions","lastColumn","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","segment","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","cachedSegments","originalMappings","compareByGeneratedPositionsDeflated","aMappings","aLineName","aColumnName","aComparator","computeColumnSpans","nextMapping","lastGeneratedColumn","hasContentsOfAllSources","sc","sourceContentFor","aSource","nullOnMissing","urlParse","fileUriAbsPath","scheme","generatedPositionFor","sectionIndex","section","bias","generatedPosition","sectionMappings","adjustedMapping","SourceMapGenerator","_skipValidation","_sourcesContents","aSourceMapConsumer","generator","newMapping","generated","original","addMapping","sourceFile","setSourceContent","_validateMapping","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","aName","_serializeMappings","nameIdx","sourceIdx","previousGeneratedLine","aSources","REGEX_NEWLINE","isSourceNode","SourceNode","aLine","aColumn","aChunks","children","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","node","remainingLines","remainingLinesIndex","shiftNextLine","getNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","prepend","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","fromSetString","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","aDefaultValue","urlRegexp","dataUrlRegexp","aUrl","auth","urlGenerate","aParsedUrl","aPath","part","up","aRoot","aPathUrl","aRootUrl","joined","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","onlyCompareOriginal","onlyCompareGenerated","relatedCodeLineDecoration","createTextEditorDecorationType","rangeBehavior","DecorationRangeBehavior","ClosedOpen","win","lineInfo","activeEditor","editTimeout","onDidChangeTextEditorSelection","workspace","getConfiguration","codefinder","enableLineDecoration","kind","TextEditorSelectionChangeKind","Command","Mouse","clearDecorations","textEditor","decorate","applicable","projectReady","selections","cursor","hoverMessage","lineEnd","renderOptions","after","contentText","inlineMessage","margin","color","ThemeColor","fontWeight","fontStyle","setDecorations","hover","logo","getExtension","extensionPath","md","MarkdownString","isTrusted","ending","with","Range","fetchDecoration","getLineDecoration","inline_message","hover_message","project_ready","Sources","DocsCommands","commands","registerCommand","docsAtCursor","copilotDocsFromPos","activeTextEditor","executeCommand","notifyFromError","doc","jdata","promisifiedKiteAPIRequest","kiteOpen","docsLink","escapeCommandArguments","Hover","defLink","definition","symbolName","symbolKindMarkdown","compact","isFunctionKind","parameterName","prefix","head","parameterDefault","detailLang","detailNotEmpty","detailGet","repr","parameterType","inferred_value","uniq","type_id","parameterTypeLink","parameterValue","withType","detail","getFunctionDetails","flatten","gatherParameters","callParameterName","parameter","callKwargParameters","example","examples","callKwargParameter","callSignature","valueName","valueNameFromId","valueLabel","symbolLabel","memberLabel","wrapType","unionType","vs","returnType","symbolValue","reportFromHover","extractInstanceType","extractFunctionType","return_value","symbolType","symbolReturnType","valueType","symbolId","ENABLED_AND_SUPPORTED","PYTHON_ENABLED","EnabledAndSupported","disabled","disabledFileExtensions","ext","requirePythonEnabled","PythonEnabled","IsSupportedFile","fileExt","ERROR_COLOR","colorTheme","PythonFullCompletionsSupport","PythonDefinitionsSupport","PythonHoverSupport","PythonSignaturesSupport","processCompletion","displayPrefix","numDigits","CompletionItem","display","insertText","snippet","positionAt","begin","replaceRange","hint","documentation_text","filterText","getText","keepWhitespace","preselect","sortText","fill","documentation","web_id","CompletionItemKind","kindForHint","placeholders","placeholder","SnippetString","lang","getSupportedLanguage","completion","KiteCompletionProvider","Kite","triggers","optionalTriggers","maxFileSize","normalizeDriveLetter","wordRange","getWordRangeAtPosition","buildFilterText","offsetAt","enableSnippets","isOptionalTrigger","triggerCharacter","shouldShowOptionalTrigger","enableOptionalCompletionsTriggers","no_snippets","completionsPath","totalCompletions","toReturn","completionItems","CompletionList","KiteSignatureProvider","isTest","cursorPosition","signaturePath","calls","callee","help","SignatureHelp","activeParameter","arg_index","activeSignature","label","stripTags","sig","SignatureInformation","ParameterInformation","signatures","KiteDefinitionProvider","Location","Position","KiteEditor","plugin_version","EditorEvents","pendingPromise","pendingPromiseResolve","pendingPromiseReject","pendingEvents","mergeEvents","focus","buildEvent","editor_version","makeEvent","ctx","globalState","_activate","subscriptions","setKeysForSync","rollbar","kite_plugin_version","tracker","disposables","loggingLevel","setMaxFileSize","KiteHoverProvider","completionsTriggers","optionalCompletionsTriggers","CompletionsSupport","pythonCompletionsTriggers","checkState","isGrammarSupported","registerEvents","registerEditor","evt","eventsByEditor","selectionChanged","editorsForDocument","edit","editors","registerDocumentEvents","registerDocument","statusBarItem","cmdreg","register","oneBasedLineNo","character","newPosition","revealRange","newSelection","openKiteTutorial","tutorial","notifications","showErrorMessage","showWelcomeNotificationOnStartup","pollingInterval","disposable","kiteEditorByEditor","shown","attemptedToStartKite","installing","lastState","lastStatus","lastPolledState","ke","languageId","startKiteEngineOnStartup","setStatus","supported","enabledFiletype","isEnabledAndSupported","show","tooltip","short","long","_clearStatusBarItem","hide","getStatus","setStatusBarLabel","IsEnabledAndSupported","promisifyReadResponse","activate","deactivate","legacyConfigDir","legacyConfigPath","configDir","configPath","persist","require","OS_VERSION","EDITOR_UUID","mpClient","distinctID","localconfig","metricsCounterPath","sendCompletionSelected","metricsCompletionSelectedPath","props","eventData","editor_uuid","os_release","NotificationsManager","shownNotifications","actions","defaultMessage","tryNotifyDefault","notification","notif","title","endsWith","buttonsText","buttons","button","selectedText","selectedButton","link","update","hasDone","languagesPath","accountPath","searchPath","settingsPath","reportPath","valueReportPath","symbolReportPath","usagePath","examplePath","openDocumentationInWebURL","escapeId","openSignatureInWebURL","openExampleInWebURL","serializeRangeForPath","row","language_details","evalPath","detailExist","getDetails","details","function","secondsSince","when","delayPromise","stopPropagationAndDefault","stopPropagation","preventDefault","extToLangMap","isUntitled","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","Symbol","toStringTag"],"mappings":";yCAAA,OAOC,WAEG,IAIIA,EAAMC,EAJNC,EAAQ,GACZ,SAASC,KAwBT,SAASC,EAAUC,GACf,IAAIC,GAAS,EACb,OAAO,WACH,GAAIA,EAAQ,MAAM,IAAIC,MAAM,gCAC5BD,GAAS,EACTD,EAAGG,MAAMC,KAAMC,YAIvB,SAASC,EAAMN,GACX,IAAIC,GAAS,EACb,OAAO,WACCA,IACJA,GAAS,EACTD,EAAGG,MAAMC,KAAMC,aAvBX,OATRV,EADiB,iBAAVY,QAAsBH,OAASG,OAC/BA,OAEe,iBAAVC,QAAsBJ,OAASI,OACpCA,OAGAJ,QAITR,EAAiBD,EAAKE,OAGxBA,EAAMY,WAAa,WAEf,OADAd,EAAKE,MAAQD,EACNC,GAuBX,IAAIa,EAAYC,OAAOC,UAAUC,SAE7BC,EAAWC,MAAMC,SAAW,SAAUC,GACtC,MAA+B,mBAAxBP,EAAUQ,KAAKD,IAG1B,SAASE,EAAaC,GAClB,OAAON,EAASM,IAEU,iBAAfA,EAAIC,QACXD,EAAIC,QAAU,GACdD,EAAIC,OAAS,GAAM,EAU3B,SAASC,EAAWF,EAAKG,GAIvB,IAHA,IAAIC,GAAS,EACTH,EAASD,EAAIC,SAERG,EAAQH,GACfE,EAASH,EAAII,GAAQA,EAAOJ,GAIhC,SAASK,EAAKL,EAAKG,GAKjB,IAJA,IAAIC,GAAS,EACTH,EAASD,EAAIC,OACbK,EAASX,MAAMM,KAEVG,EAAQH,GACfK,EAAOF,GAASD,EAASH,EAAII,GAAQA,EAAOJ,GAE9C,OAAOM,EAGT,SAASC,EAAOC,GACZ,OAAOH,EAAKV,MAAMa,IAAQ,SAAUC,EAAGC,GAAK,OAAOA,KAgBvD,IA0DIC,EA1DAC,EAAQrB,OAAOsB,MAAQ,SAAUhB,GACjC,IAAIgB,EAAO,GACX,IAAK,IAAIC,KAAKjB,EACNA,EAAIkB,eAAeD,IACnBD,EAAKG,KAAKF,GAGlB,OAAOD,GAGX,SAASI,EAAaC,GAClB,IACIC,EACAN,EAFAH,GAAK,EAGT,OAAIX,EAAamB,IACbC,EAAMD,EAAKjB,OACJ,WAEH,QADAS,EACWS,EAAMT,EAAI,QAGzBG,EAAOD,EAAMM,GACbC,EAAMN,EAAKZ,OACJ,WAEH,QADAS,EACWS,EAAMN,EAAKH,GAAK,OAKvC,SAASU,EAAWpB,EAAKqB,GACrBA,EAAQA,GAAS,EACjB,IAAIjB,GAAS,EACTH,EAASD,EAAIC,OAEboB,IAEFpB,GADAA,GAAUoB,GACQ,EAAI,EAAIpB,GAI5B,IAFA,IAAIK,EAASX,MAAMM,KAEVG,EAAQH,GACfK,EAAOF,GAASJ,EAAII,EAAQiB,GAE9B,OAAOf,EAGX,SAASgB,EAAcnB,GACnB,OAAO,SAAUoB,EAAOnB,EAAOoB,GAC3B,OAAOrB,EAASoB,EAAOC,IA2H/B,SAASC,EAAaC,GAElB,OAAO,SAAU7B,EAAKM,EAAUqB,GAC5BA,EAAWtC,EAAMsC,GAAY9C,GAE7B,IAAIiD,EAAUV,EADdpB,EAAMA,GAAO,IAEb,GAAI6B,GAAS,EACT,OAAOF,EAAS,MAEpB,IAAII,GAAO,EACPC,EAAU,EACVC,GAAU,GAEd,SAAUC,IACN,GAAIH,GAAQC,GAAW,EACnB,OAAOL,EAAS,MAGpB,KAAOK,EAAUH,IAAUI,GAAS,CAChC,IAAIE,EAAML,IACV,GAAY,OAARK,EAKA,OAJAJ,GAAO,OACHC,GAAW,GACXL,EAAS,OAIjBK,GAAW,EACX1B,EAASN,EAAImC,GAAMA,EAAKrD,GAAU,SAAUsD,GACxCJ,GAAW,EACPI,GACAT,EAASS,GACTH,GAAU,GAGVC,SAtBhB,IA+BR,SAASG,EAAWtD,GAChB,OAAO,SAAUiB,EAAKM,EAAUqB,GAC5B,OAAO5C,EAAGH,EAAM0D,OAAQtC,EAAKM,EAAUqB,IAQ/C,SAASY,EAASxD,GACd,OAAO,SAAUiB,EAAKM,EAAUqB,GAC5B,OAAO5C,EAAGH,EAAM4D,aAAcxC,EAAKM,EAAUqB,IAIrD,SAASc,EAAUC,EAAQvC,EAAKG,EAAUqB,GACtCA,EAAWtC,EAAMsC,GAAY9C,GAC7B,IAAI8D,EAAU,GACdD,EAAOvC,GAAK,SAAUuB,EAAOnB,EAAOoB,GAChCrB,EAASoB,GAAO,SAAUU,EAAKxB,GAC3B+B,EAAQpC,GAASK,EACjBe,EAASS,SAEd,SAAUA,GACTT,EAASS,EAAKO,MAqCtB,SAASC,EAAQF,EAAQvC,EAAKG,EAAUqB,GACpC,IAAIgB,EAAU,GAIdD,EAHAvC,EAAMK,EAAKL,GAAK,SAAU0C,EAAGhC,GACzB,MAAO,CAACN,MAAOM,EAAGa,MAAOmB,OAEjB,SAAUA,EAAGtC,EAAOoB,GAC5BrB,EAASuC,EAAEnB,OAAO,SAAUd,GACpBA,GACA+B,EAAQxB,KAAK0B,GAEjBlB,UAEL,WACCA,EAASnB,EAAKmC,EAAQG,MAAK,SAAUC,EAAGC,GACpC,OAAOD,EAAExC,MAAQyC,EAAEzC,UACnB,SAAUsC,GACV,OAAOA,EAAEnB,aAWrB,SAASuB,EAAQP,EAAQvC,EAAKG,EAAUqB,GACpC,IAAIgB,EAAU,GAIdD,EAHAvC,EAAMK,EAAKL,GAAK,SAAU0C,EAAGhC,GACzB,MAAO,CAACN,MAAOM,EAAGa,MAAOmB,OAEjB,SAAUA,EAAGtC,EAAOoB,GAC5BrB,EAASuC,EAAEnB,OAAO,SAAUd,GACnBA,GACD+B,EAAQxB,KAAK0B,GAEjBlB,UAEL,WACCA,EAASnB,EAAKmC,EAAQG,MAAK,SAAUC,EAAGC,GACpC,OAAOD,EAAExC,MAAQyC,EAAEzC,UACnB,SAAUsC,GACV,OAAOA,EAAEnB,aAOrB,SAASwB,EAAQR,EAAQvC,EAAKG,EAAU6C,GACpCT,EAAOvC,GAAK,SAAU0C,EAAGtC,EAAOoB,GAC5BrB,EAASuC,GAAG,SAAUpC,GACdA,GACA0C,EAAcN,GACdM,EAAgBtE,GAGhB8C,UAGT,WACCwB,OAuNR,SAASC,EAAUV,EAAQW,EAAO1B,GAC9BA,EAAWA,GAAY9C,EACvB,IAAI8D,EAAUzC,EAAamD,GAAS,GAAK,GAEzCX,EAAOW,GAAO,SAAUC,EAAMnB,EAAKR,GAC/B2B,GAAK,SAAUlB,GACX,IAAImB,EAAOhC,EAAWnC,UAAW,GAC7BmE,EAAKnD,QAAU,IACfmD,EAAOA,EAAK,IAEhBZ,EAAQR,GAAOoB,EACf5B,EAASS,SAEd,SAAUA,GACTT,EAASS,EAAKO,MAuDtB,SAASa,EAAQd,EAAQvC,EAAKpB,EAAI4C,GAC9B,IAAIlB,EAAS,GACbiC,EAAOvC,GAAK,SAAU0C,EAAGtC,EAAOkD,GAC5B1E,EAAG8D,GAAG,SAAUT,EAAKsB,GACjBjD,EAASA,EAAOkD,OAAOD,GAAK,IAC5BD,EAAGrB,SAER,SAAUA,GACTT,EAASS,EAAK3B,MAgEtB,SAASmD,EAAOC,EAAQC,EAAaC,GACjC,GAAmB,MAAfD,EACAA,EAAc,OAEb,GAAmB,IAAhBA,EACJ,MAAM,IAAI7E,MAAM,gCAEpB,SAAS+E,EAAQC,EAAGC,EAAMC,EAAKxC,GAC3B,GAAgB,MAAZA,GAAwC,mBAAbA,EAC3B,MAAM,IAAI1C,MAAM,oCAMpB,GAJAgF,EAAEG,SAAU,EACPvE,EAASqE,KACVA,EAAO,CAACA,IAEO,IAAhBA,EAAK9D,QAAgB6D,EAAEI,OAEtB,OAAOzF,EAAM0F,cAAa,WACvBL,EAAEM,WAGTlE,EAAW6D,GAAM,SAASZ,GACtB,IAAIkB,EAAO,CACPN,KAAMZ,EACN3B,SAAUA,GAAY9C,GAGtBsF,EACFF,EAAEZ,MAAMoB,QAAQD,GAEhBP,EAAEZ,MAAMlC,KAAKqD,GAGXP,EAAEZ,MAAMjD,SAAW6D,EAAEH,aACrBG,EAAES,eAGV9F,EAAM0F,aAAaL,EAAEU,SAEzB,SAASC,EAAMX,EAAGZ,GACd,OAAO,WACHwB,GAAW,EACX,IAAItB,EAAOnE,UACXiB,EAAWgD,GAAO,SAAUC,GACxBA,EAAK3B,SAASzC,MAAMoE,EAAMC,MAE1BU,EAAEZ,MAAMjD,OAASyE,IAAY,GAC7BZ,EAAEM,QAENN,EAAEU,WAIV,IAAIE,EAAU,EACVZ,EAAI,CACJZ,MAAO,GACPS,YAAaA,EACbY,UAAW7F,EACXiG,MAAOjG,EACP0F,MAAO1F,EACPuF,SAAS,EACTW,QAAQ,EACR5D,KAAM,SAAU+C,EAAMvC,GAClBqC,EAAQC,EAAGC,GAAM,EAAOvC,IAE5BqD,KAAM,WACFf,EAAEM,MAAQ1F,EACVoF,EAAEZ,MAAQ,IAEdoB,QAAS,SAAUP,EAAMvC,GACrBqC,EAAQC,EAAGC,GAAM,EAAMvC,IAE3BgD,QAAS,WACL,IAAKV,EAAEc,QAAUF,EAAUZ,EAAEH,aAAeG,EAAEZ,MAAMjD,OAChD,KAAMyE,EAAUZ,EAAEH,aAAeG,EAAEZ,MAAMjD,QAAO,CAC5C,IAAIiD,EAAQU,EACRE,EAAEZ,MAAM4B,OAAO,EAAGlB,GAClBE,EAAEZ,MAAM4B,OAAO,EAAGhB,EAAEZ,MAAMjD,QAE1B8D,EAAO1D,EAAK6C,GAAO,SAAUC,GAC7B,OAAOA,EAAKY,QAGO,IAAnBD,EAAEZ,MAAMjD,QACR6D,EAAEa,QAEND,GAAW,EACX,IAAIpB,EAAK3E,EAAU8F,EAAMX,EAAGZ,IAC5BQ,EAAOK,EAAMT,KAIzBrD,OAAQ,WACJ,OAAO6D,EAAEZ,MAAMjD,QAEnB4B,QAAS,WACL,OAAO6C,GAEXR,KAAM,WACF,OAAOJ,EAAEZ,MAAMjD,OAASyE,IAAY,GAExCK,MAAO,WACHjB,EAAEc,QAAS,GAEfI,OAAQ,WACJ,IAAiB,IAAblB,EAAEc,OAAN,CACAd,EAAEc,QAAS,EAIX,IAHA,IAAIK,EAAcC,KAAKC,IAAIrB,EAAEH,YAAaG,EAAEZ,MAAMjD,QAGzCmF,EAAI,EAAGA,GAAKH,EAAaG,IAC9B3G,EAAM0F,aAAaL,EAAEU,YAIjC,OAAOV,EA+EX,SAASuB,EAAYC,GACjB,OAAO,SAAU1G,GACb,IAAIwE,EAAOhC,EAAWnC,UAAW,GACjCL,EAAGG,MAAM,KAAMqE,EAAKI,OAAO,CAAC,SAAUvB,GAClC,IAAImB,EAAOhC,EAAWnC,UAAW,GACV,oBAAZsG,UACHtD,EACIsD,QAAQC,OACRD,QAAQC,MAAMvD,GAGbsD,QAAQD,IACbpF,EAAWkD,GAAM,SAAUV,GACvB6C,QAAQD,GAAM5C,YAsDtC,SAAS+C,EAAOC,GACZ,OAAO,SAAUlF,EAAOL,EAAUqB,GAC9BkE,EAAOnF,EAAOC,GAAQL,EAAUqB,IAyCxC,SAASmE,EAAWpD,EAAQqD,GACxB,SAASC,IACL,IAAIC,EAAO9G,KACPoE,EAAOhC,EAAWnC,WAClBuC,EAAW4B,EAAK2C,MACpB,OAAOxD,EAAOqD,GAAK,SAAUhH,EAAIoH,EAAG1C,GAChC1E,EAAGG,MAAM+G,EAAM1C,EAAKI,OAAO,CAACF,OAEhC9B,GAEJ,GAAIvC,UAAUgB,OAAS,EAAG,CACtB,IAAImD,EAAOhC,EAAWnC,UAAW,GACjC,OAAO4G,EAAG9G,MAAMC,KAAMoE,GAGtB,OAAOyC,EA0Bf,SAASI,EAAYrH,GACjB,OAAO,WACH,IAAIwE,EAAOhC,EAAWnC,WAClBuC,EAAW4B,EAAK2C,MACpB3C,EAAKpC,MAAK,WACN,IAAIkF,EAAYjH,UACZkH,EACA1H,EAAM0F,cAAa,WACf3C,EAASzC,MAAM,KAAMmH,MAGzB1E,EAASzC,MAAM,KAAMmH,MAG7B,IAAIC,GAAO,EACXvH,EAAGG,MAAMC,KAAMoE,GACf+C,GAAO,GAt+Ba,mBAAjBhC,eACPxD,EAAgBwD,cAGG,oBAAZK,SAA6BA,QAAgB,UAgBpD/F,EAAM2H,SAAW5B,QAAQ4B,SAErB3H,EAAM0F,aADNxD,EACqB,SAAU/B,GAE7B+B,EAAc/B,IAIKH,EAAM2H,UAvB3BzF,GACAlC,EAAM2H,SAAW,SAAUxH,GAEvB+B,EAAc/B,IAElBH,EAAM0F,aAAe1F,EAAM2H,WAG3B3H,EAAM2H,SAAW,SAAUxH,GACvByH,WAAWzH,EAAI,IAEnBH,EAAM0F,aAAe1F,EAAM2H,UAgBnC3H,EAAM6H,QACN7H,EAAM8H,KAAO,SAAUvG,EAAKG,EAAUqB,GAClC,OAAO/C,EAAM0D,OAAOnC,EAAKsB,EAAcnB,GAAWqB,IAGtD/C,EAAM+H,cACN/H,EAAMgI,WAAa,SAAUzG,EAAKG,EAAUqB,GACxC,OAAO/C,EAAM4D,aAAarC,EAAKsB,EAAcnB,GAAWqB,IAI5D/C,EAAMiI,aACNjI,EAAMkI,UAAY,SAAU3G,EAAK0B,EAAOvB,EAAUqB,GAC9C,OAAOC,EAAaC,EAAbD,CAAoBzB,EAAKsB,EAAcnB,GAAWqB,IAG7D/C,EAAMmI,UACNnI,EAAM0D,OAAS,SAAU0E,EAAQ1G,EAAUqB,GACvCA,EAAWtC,EAAMsC,GAAY9C,GAE7B,IAAIoI,EAAO/G,EADX8G,EAASA,GAAU,IACeA,EAAO5G,OAASW,EAAMiG,GAAQ5G,OAC5D8G,EAAY,EAChB,IAAKD,EACD,OAAOtF,EAAS,MAKpB,SAASI,EAAKK,GACRA,EACAT,EAASS,IAGT8E,GAAa,IACID,GACbtF,EAAS,OAzKvB,SAAeN,EAAMf,GACVJ,EAAamB,GAChBhB,EAAWgB,EAAMf,GAmCzB,SAAoB0G,EAAQ1G,GACxBD,EAAWU,EAAMiG,IAAS,SAAU7E,GAChC7B,EAAS0G,EAAO7E,GAAMA,MApCtBgF,CAAW9F,EAAMf,GA4JrB8G,CAAMJ,GAAQ,SAAUtF,EAAOS,GAC3B7B,EAAS0G,EAAO7E,GAAMA,EAAKrD,EAAUiD,QAe7CnD,EAAMyI,gBACNzI,EAAM4D,aAAe,SAAUxC,EAAKM,EAAUqB,GAC1CA,EAAWtC,EAAMsC,GAAY9C,GAE7B,IAAIiD,EAAUV,EADdpB,EAAMA,GAAO,IAETmC,EAAML,KACV,SAASwF,IACL,IAAIhB,GAAO,EACX,GAAY,OAARnE,EACA,OAAOR,EAAS,MAEpBrB,EAASN,EAAImC,GAAMA,EAAKrD,GAAU,SAAUsD,GACxC,GAAIA,EACAT,EAASS,OAER,CAED,GAAY,QADZD,EAAML,KAEF,OAAOH,EAAS,MAEZ2E,EACA1H,EAAM2H,SAASe,GAEfA,SAKhBhB,GAAO,EAEXgB,IAKJ1I,EAAM2I,eACN3I,EAAM4I,YAAc,SAAUxH,EAAK6B,EAAOvB,EAAUqB,GAChDC,EAAaC,EAAbD,CAAoB5B,EAAKM,EAAUqB,IA4EvC/C,EAAM6I,IAAMpF,EAAWI,GACvB7D,EAAM8I,UAAYnF,EAASE,GAC3B7D,EAAM+I,SAAW,SAAUxH,EAAK0B,EAAOvB,EAAUqB,GAC7C,OAGJ,SAAmBE,GACf,OA/BJ,SAAyBA,EAAO9C,GAC5B,OAAO,SAAUiB,EAAKM,EAAUqB,GAC5B,OAAO5C,EAAG6C,EAAaC,GAAQ7B,EAAKM,EAAUqB,IA6B3CiG,CAAgB/F,EAAOY,GAJvBoF,CAAUhG,EAAVgG,CAAiB1H,EAAKG,EAAUqB,IAS3C/C,EAAMkJ,OACNlJ,EAAMmJ,MACNnJ,EAAMoJ,OAAS,SAAU7H,EAAK8H,EAAM3H,EAAUqB,GAC1C/C,EAAM4D,aAAarC,GAAK,SAAU0C,EAAGhC,EAAGc,GACpCrB,EAAS2H,EAAMpF,GAAG,SAAUT,EAAKxB,GAC7BqH,EAAOrH,EACPe,EAASS,SAEd,SAAUA,GACTT,EAASS,GAAO,KAAM6F,OAI9BrJ,EAAMsJ,MACNtJ,EAAMuJ,YAAc,SAAUhI,EAAK8H,EAAM3H,EAAUqB,GAC/C,IAAIyG,EAAW5H,EAAKL,GAAK,SAAU0C,GAC/B,OAAOA,KACRwF,UACHzJ,EAAMoJ,OAAOI,EAAUH,EAAM3H,EAAUqB,IAwB3C/C,EAAM0J,OACN1J,EAAM2J,OAASlG,EAAWO,GAE1BhE,EAAM4J,aACN5J,EAAM6J,aAAelG,EAASK,GAsB9BhE,EAAM8J,OAASrG,EAAWY,GAC1BrE,EAAM+J,aAAepG,EAASU,GAiB9BrE,EAAMgK,OAASvG,EAAWa,GAC1BtE,EAAMiK,aAAetG,EAASW,GAE9BtE,EAAMkK,IACNlK,EAAMmK,KAAO,SAAU5I,EAAKG,EAAU6C,GAClCvE,EAAM0D,OAAOnC,GAAK,SAAU0C,EAAGsD,EAAGxE,GAC9BrB,EAASuC,GAAG,SAAUjC,GACdA,IACAuC,GAAc,GACdA,EAAgBtE,GAEpB8C,UAEL,WACCwB,GAAc,OAItBvE,EAAMoK,IACNpK,EAAMqK,MAAQ,SAAU9I,EAAKG,EAAU6C,GACnCvE,EAAM0D,OAAOnC,GAAK,SAAU0C,EAAGsD,EAAGxE,GAC9BrB,EAASuC,GAAG,SAAUjC,GACbA,IACDuC,GAAc,GACdA,EAAgBtE,GAEpB8C,UAEL,WACCwB,GAAc,OAItBvE,EAAMsK,OAAS,SAAU/I,EAAKG,EAAUqB,GAsBpC,SAASwH,EAAWC,EAAMC,GACtB,IAAItG,EAAIqG,EAAKE,SAAUtG,EAAIqG,EAAMC,SACjC,OAAOvG,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,EAvBpCpE,EAAM6I,IAAItH,GAAK,SAAU0C,EAAGlB,GACxBrB,EAASuC,GAAG,SAAUT,EAAKkH,GACnBlH,EACAT,EAASS,GAGTT,EAAS,KAAM,CAACD,MAAOmB,EAAGyG,SAAUA,UAG7C,SAAUlH,EAAKO,GACd,GAAIP,EACA,OAAOT,EAASS,GAGhBT,EAAS,KAAMnB,EAAKmC,EAAQG,KAAKqG,IAAa,SAAUtG,GACpD,OAAOA,EAAEnB,cAYzB9C,EAAM2K,KAAO,SAAUlG,EAAO1B,GAC1BA,EAAWtC,EAAMsC,GAAY9C,GAC7B,IAAImC,EAAOD,EAAMsC,GACbmG,EAAiBxI,EAAKZ,OAC1B,IAAKoJ,EACD,OAAO7H,EAAS,MAGpB,IAAIgB,EAAU,GAEV8G,EAAY,GAChB,SAASC,EAAY3K,GACjB0K,EAAUhF,QAAQ1F,GAUtB,SAAS4K,IACLH,IACAnJ,EAAWoJ,EAAUG,MAAM,IAAI,SAAU7K,GACrCA,OAIR2K,GAAY,WACHF,GACD7H,EAAS,KAAMgB,MAIvBtC,EAAWW,GAAM,SAAUC,GACvB,IAAIqC,EAAOzD,EAASwD,EAAMpC,IAAMoC,EAAMpC,GAAI,CAACoC,EAAMpC,IACjD,SAAS4I,EAAazH,GAClB,IAAImB,EAAOhC,EAAWnC,UAAW,GAIjC,GAHImE,EAAKnD,QAAU,IACfmD,EAAOA,EAAK,IAEZnB,EAAK,CACL,IAAI0H,EAAc,GAClBzJ,EAAWU,EAAM4B,IAAU,SAASoH,GAChCD,EAAYC,GAAQpH,EAAQoH,MAEhCD,EAAY7I,GAAKsC,EACjB5B,EAASS,EAAK0H,QAGdnH,EAAQ1B,GAAKsC,EACb3E,EAAM0F,aAAaqF,GAO3B,IAJA,IAGIK,EAHAC,EAAW3G,EAAKsG,MAAM,EAAGvE,KAAK6E,IAAI5G,EAAKlD,OAAS,KAAO,GAEvDkB,EAAM2I,EAAS7J,OAEZkB,KAAO,CACV,KAAM0I,EAAM3G,EAAM4G,EAAS3I,KACvB,MAAM,IAAIrC,MAAM,6BAEpB,GAAIY,EAASmK,KAAWA,EAAIG,QAAQlJ,GAChC,MAAM,IAAIhC,MAAM,2BAGxB,SAASmL,IACL,OAreU9J,EAqee,SAAUyC,EAAGF,GAClC,OAAQE,GAAKJ,EAAQzB,eAAe2B,IAtepBoF,GAuejB,EAteX5H,EAoeuB4J,GApeP,SAAUpH,EAAGhC,EAAGkC,GAC5BkF,EAAO3H,EAAS2H,EAAMpF,MAEnBoF,IAmectF,EAAQzB,eAAeD,GAvehD,IAAsBX,EAAU2H,EAyepBmC,IACA9G,EAAKA,EAAKlD,OAAS,GAAGyJ,EAAclH,GAGpC+G,GAEJ,SAASW,IACDD,MAjEZ,SAAwBrL,GACpB,IAAK,IAAI8B,EAAI,EAAGA,EAAI4I,EAAUrJ,OAAQS,GAAK,EACvC,GAAI4I,EAAU5I,KAAO9B,EAEjB,YADA0K,EAAUxE,OAAOpE,EAAG,GA+DpByJ,CAAeD,GACf/G,EAAKA,EAAKlD,OAAS,GAAGyJ,EAAclH,WAMpD/D,EAAM2L,MAAQ,SAASC,EAAOlH,EAAM3B,GAChC,IACI8I,EAAW,GAUf,SAASC,EAAYC,EAAiBC,GAClC,SAASC,EAAavH,EAAMwH,GACxB,OAAO,SAASC,GACZzH,GAAK,SAASlB,EAAK3B,GACfsK,GAAgB3I,GAAO0I,EAAc,CAAC1I,IAAKA,EAAK3B,OAAQA,MACzDmK,IAIX,KAAOJ,GACHC,EAAStJ,KAAK0J,EAAavH,IAAQkH,GAAO,KAE9C5L,EAAMoM,OAAOP,GAAU,SAAS1I,EAAMmC,GAClCA,EAAOA,EAAKA,EAAK9D,OAAS,IACzBuK,GAAmBhJ,GAAUuC,EAAK9B,IAAK8B,EAAKzD,WAKrD,MA3BqB,mBAAV+J,IACP7I,EAAW2B,EACXA,EAAOkH,EACPA,EANgB,GASpBA,EAAQS,SAAST,EAAO,KATJ,EA8Bb7I,EAAW+I,IAAgBA,GAGtC9L,EAAMsM,UAAY,SAAU7H,EAAO1B,GAE/B,GADAA,EAAWtC,EAAMsC,GAAY9C,IACxBgB,EAASwD,GAAQ,CACpB,IAAIjB,EAAM,IAAInD,MAAM,6DACpB,OAAO0C,EAASS,GAElB,IAAKiB,EAAMjD,OACP,OAAOuB,KAEX,SAASwJ,EAAa7K,GAClB,OAAO,SAAU8B,GACb,GAAIA,EACAT,EAASzC,MAAM,KAAME,eAEpB,CACD,IAAImE,EAAOhC,EAAWnC,UAAW,GAC7BgM,EAAO9K,EAAS8K,OAChBA,EACA7H,EAAKpC,KAAKgK,EAAaC,IAGvB7H,EAAKpC,KAAKQ,GAEdyE,EAAY9F,GAAUpB,MAAM,KAAMqE,KAI9C4H,CAAavM,EAAM0B,SAAS+C,GAA5B8H,IAqBJvM,EAAMyM,SAAW,SAAUhI,EAAO1B,GAC9ByB,EAAUxE,EAAM0D,OAAQe,EAAO1B,IAGnC/C,EAAM0M,cAAgB,SAASjI,EAAOxB,EAAOF,GACzCyB,EAAUxB,EAAaC,GAAQwB,EAAO1B,IAG1C/C,EAAMoM,OAAS,SAAU3H,EAAO1B,GAC5BA,EAAWA,GAAY9C,EACvB,IAAI8D,EAAUzC,EAAamD,GAAS,GAAK,GAEzCzE,EAAM4D,aAAaa,GAAO,SAAUC,EAAMnB,EAAKR,GAC3C2B,GAAK,SAAUlB,GACX,IAAImB,EAAOhC,EAAWnC,UAAW,GAC7BmE,EAAKnD,QAAU,IACfmD,EAAOA,EAAK,IAEhBZ,EAAQR,GAAOoB,EACf5B,EAASS,SAEd,SAAUA,GACTT,EAASS,EAAKO,OAItB/D,EAAM0B,SAAW,SAAU+C,GAavB,OAZA,SAASkI,EAAahL,GAClB,SAASxB,IAIL,OAHIsE,EAAMjD,QACNiD,EAAM9C,GAAOrB,MAAM,KAAME,WAEtBL,EAAGqM,OAKd,OAHArM,EAAGqM,KAAO,WACN,OAAQ7K,EAAQ8C,EAAMjD,OAAS,EAAKmL,EAAahL,EAAQ,GAAI,MAE1DxB,EAEJwM,CAAa,IAGxB3M,EAAMM,MAAQ,SAAUH,GACpB,IAAIwE,EAAOhC,EAAWnC,UAAW,GACjC,OAAO,WACH,OAAOL,EAAGG,MACN,KAAMqE,EAAKI,OAAOpC,EAAWnC,eAgBzCR,EAAM+E,OAAStB,EAAWmB,GAC1B5E,EAAM4M,aAAejJ,EAASiB,GAE9B5E,EAAM6M,OAAS,SAAUC,EAAMpL,EAAUqB,GACjC+J,IACApL,GAAS,SAAU8B,GACf,GAAIA,EACA,OAAOT,EAASS,GAEpBxD,EAAM6M,OAAOC,EAAMpL,EAAUqB,MAIjCA,EAAS,OAIjB/C,EAAM+M,SAAW,SAAUrL,EAAUoL,EAAM/J,GACvCrB,GAAS,SAAU8B,GACf,GAAIA,EACA,OAAOT,EAASS,GAEpB,IAAImB,EAAOhC,EAAWnC,UAAW,GAC7BsM,EAAKxM,MAAM,KAAMqE,GACjB3E,EAAM+M,SAASrL,EAAUoL,EAAM/J,GAG/BA,EAAS,UAKrB/C,EAAMgN,MAAQ,SAAUF,EAAMpL,EAAUqB,GAC/B+J,IASD/J,EAAS,MARTrB,GAAS,SAAU8B,GACf,GAAIA,EACA,OAAOT,EAASS,GAEpBxD,EAAMgN,MAAMF,EAAMpL,EAAUqB,OAQxC/C,EAAMiN,QAAU,SAAUvL,EAAUoL,EAAM/J,GACtCrB,GAAS,SAAU8B,GACf,GAAIA,EACA,OAAOT,EAASS,GAEpB,IAAImB,EAAOhC,EAAWnC,UAAW,GAC5BsM,EAAKxM,MAAM,KAAMqE,GAIlB5B,EAAS,MAHT/C,EAAMiN,QAAQvL,EAAUoL,EAAM/J,OA8H1C/C,EAAMkN,MAAQ,SAAUjI,EAAQC,GAK5B,OAJQF,GAAO,SAAUmI,EAAOtI,GAC5BI,EAAOkI,EAAM,GAAItI,KAClBK,EAAa,IAKpBlF,EAAMoN,cAAgB,SAAUnI,EAAQC,GAEpC,SAASmI,EAAclJ,EAAGC,GACtB,OAAOD,EAAEmJ,SAAWlJ,EAAEkJ,SAgD1B,IAAIjI,EAAIrF,EAAMkN,MAAMjI,EAAQC,GAU5B,OAPAG,EAAE9C,KAAO,SAAU+C,EAAMgI,EAAUvK,IAlCnC,SAAiBsC,EAAGC,EAAMgI,EAAUvK,GAChC,GAAgB,MAAZA,GAAwC,mBAAbA,EAC3B,MAAM,IAAI1C,MAAM,oCAMpB,GAJAgF,EAAEG,SAAU,EACPvE,EAASqE,KACVA,EAAO,CAACA,IAEO,IAAhBA,EAAK9D,OAEJ,OAAOxB,EAAM0F,cAAa,WACtBL,EAAEM,WAGVlE,EAAW6D,GAAM,SAASZ,GACtB,IAAIkB,EAAO,CACPN,KAAMZ,EACN4I,SAAUA,EACVvK,SAA8B,mBAAbA,EAA0BA,EAAW9C,GAG1DoF,EAAEZ,MAAM4B,OAnChB,SAAuBkH,EAAU3H,EAAM4H,GAGrC,IAFA,IAAIC,GAAO,EACPC,EAAMH,EAAS/L,OAAS,EACrBiM,EAAMC,GAAK,CACd,IAAIC,EAAMF,GAAQC,EAAMD,EAAM,IAAO,GACjCD,EAAQ5H,EAAM2H,EAASI,KAAS,EAChCF,EAAME,EAEND,EAAMC,EAAM,EAGpB,OAAOF,EAwBcG,CAAcvI,EAAEZ,MAAOmB,EAAMyH,GAAiB,EAAG,EAAGzH,GAE/DP,EAAEZ,MAAMjD,SAAW6D,EAAEH,aACrBG,EAAES,YAEN9F,EAAM0F,aAAaL,EAAEU,YASzBX,CAAQC,EAAGC,EAAMgI,EAAUvK,WAIxBsC,EAAEQ,QAEFR,GAGXrF,EAAM6N,MAAQ,SAAU5I,EAAQE,GAC5B,OAAOH,EAAOC,EAAQ,EAAGE,IAuB7BnF,EAAM8N,IAAMlH,EAAY,OACxB5G,EAAM+N,IAAMnH,EAAY,OAKxB5G,EAAMgO,QAAU,SAAU7N,EAAI8N,GAC1B,IAAI5E,EAAO,GACP6E,EAAS,GAIb,SAASC,IACL,IAAIxJ,EAAOhC,EAAWnC,WAClBuC,EAAW4B,EAAK2C,MAChB/D,EAAM0K,EAAO3N,MAAM,KAAMqE,GACzBpB,KAAO8F,EACPrJ,EAAM2H,UAAS,WACX5E,EAASzC,MAAM,KAAM+I,EAAK9F,OAGzBA,KAAO2K,EACZA,EAAO3K,GAAKhB,KAAKQ,IAGjBmL,EAAO3K,GAAO,CAACR,GACf5C,EAAGG,MAAM,KAAMqE,EAAKI,OAAO,CAAC,WACxBsE,EAAK9F,GAAOZ,EAAWnC,WACvB,IAAI6E,EAAI6I,EAAO3K,UACR2K,EAAO3K,GACd,IAAK,IAAItB,EAAI,EAAGmM,EAAI/I,EAAE7D,OAAQS,EAAImM,EAAGnM,IACnCoD,EAAEpD,GAAG3B,MAAM,KAAME,gBAO/B,OA7BAyN,EAASA,GAAU,SAAUhK,GACzB,OAAOA,GA0BXkK,EAAS9E,KAAOA,EAChB8E,EAASE,WAAalO,EACfgO,GAGXnO,EAAMsO,UAAY,SAAUnO,GAC1B,OAAO,WACL,OAAQA,EAAGkO,YAAclO,GAAIG,MAAM,KAAME,aAU7CR,EAAM4L,MAAQ5E,EAAOhH,EAAM6I,KAC3B7I,EAAMuO,YAAcvH,EAAOhH,EAAM8I,WACjC9I,EAAMwO,WAAa,SAAUzM,EAAOkB,EAAOvB,EAAUqB,GACjD,OAAO/C,EAAM+I,SAASjH,EAAOC,GAAQkB,EAAOvB,EAAUqB,IAG1D/C,EAAMyO,IAAM,WACR,IAAItH,EAAM3G,UACV,OAAO,WACH,IAAI6G,EAAO9G,KACPoE,EAAOhC,EAAWnC,WAElBuC,EAAW4B,EAAKqG,OAAO,GAAG,GACP,mBAAZjI,EACP4B,EAAK2C,MAELvE,EAAW9C,EAGfD,EAAMoJ,OAAOjC,EAAKxC,GAAM,SAAU+J,EAASvO,EAAI0E,GAC3C1E,EAAGG,MAAM+G,EAAMqH,EAAQ3J,OAAO,CAAC,WAC3B,IAAIvB,EAAMhD,UAAU,GAChBmO,EAAWhM,EAAWnC,UAAW,GACrCqE,EAAGrB,EAAKmL,UAGhB,SAAUnL,EAAKO,GACXhB,EAASzC,MAAM+G,EAAM,CAAC7D,GAAKuB,OAAOhB,SAK9C/D,EAAM4O,QAAU,WACd,OAAO5O,EAAMyO,IAAInO,MAAM,KAAMY,MAAMH,UAAU0I,QAAQpI,KAAKb,aAuB5DR,EAAM6O,UAAY,WACd,IAAIlK,EAAOhC,EAAWnC,WACtB,OAAO0G,EAAW5G,MAAM,KAAM,CAACN,EAAM0D,QAAQqB,OAAOJ,KAExD3E,EAAM8O,gBAAkB,WACpB,IAAInK,EAAOhC,EAAWnC,WACtB,OAAO0G,EAAW5G,MAAM,KAAM,CAACN,EAAM4D,cAAcmB,OAAOJ,KAI9D3E,EAAM+O,QAAU,SAAU5O,EAAI4C,GAC1B,IAAII,EAAOjD,EAAU6C,GAAY9C,GAC7ByE,EAAO8C,EAAYrH,IACvB,SAASqM,EAAKhJ,GACV,GAAIA,EACA,OAAOL,EAAKK,GAEhBkB,EAAK8H,GAETA,IAuBJxM,EAAMwH,YAAcA,EAGiBwH,EAAOC,QACxCD,EAAOC,QAAUjP,OAMhB,KAFU,EAAF,WACL,OAAOA,GACV,QAFM,OAEN,aAxpCT,I,eCPAgP,EAAOC,QACP,CACExC,SAAgB,EAAQ,MACxByC,OAAgB,EAAQ,MACxBC,cAAgB,EAAQ,Q,SCkB1B,SAASC,EAAM7L,GAEgB,mBAAlBhD,KAAK8O,KAAK9L,IAEnBhD,KAAK8O,KAAK9L,KAzBdyL,EAAOC,QAOP,SAAeK,GAEbxO,OAAOsB,KAAKkN,EAAMD,MAAMxH,QAAQuH,EAAMG,KAAKD,IAG3CA,EAAMD,KAAO,K,eCbf,IAAIG,EAAQ,EAAQ,MAGpBR,EAAOC,QASP,SAAelM,GAEb,IAAI0M,GAAU,EAKd,OAFAD,GAAM,WAAaC,GAAU,KAEtB,SAAwBjM,EAAK3B,GAE9B4N,EAEF1M,EAASS,EAAK3B,GAId2N,GAAM,WAEJzM,EAASS,EAAK3B,S,SC7BtBmN,EAAOC,QAOP,SAAe9O,GAEb,IAAIwH,EAAkC,mBAAhBjC,aAClBA,aAEkB,iBAAXK,SAAkD,mBAApBA,QAAQ4B,SAC3C5B,QAAQ4B,SACR,KAGFA,EAEFA,EAASxH,GAITyH,WAAWzH,EAAI,K,eCvBnB,IAAIH,EAAQ,EAAQ,MAChB0P,EAAQ,EAAQ,MAIpBV,EAAOC,QAUP,SAAiBU,EAAMjO,EAAU4N,EAAOvM,GAGtC,IAAIQ,EAAM+L,EAAiB,UAAIA,EAAiB,UAAEA,EAAM3N,OAAS2N,EAAM3N,MAEvE2N,EAAMD,KAAK9L,GAsCb,SAAgB7B,EAAU6B,EAAKqC,EAAM7C,GAenC,OAVuB,GAAnBrB,EAASF,OAEDE,EAASkE,EAAM5F,EAAM+C,IAKrBrB,EAASkE,EAAMrC,EAAKvD,EAAM+C,IAlDpB6M,CAAOlO,EAAU6B,EAAKoM,EAAKpM,IAAM,SAASwD,EAAO8I,GAI3DtM,KAAO+L,EAAMD,cAMZC,EAAMD,KAAK9L,GAEdwD,EAKF2I,EAAMJ,GAINA,EAAMvL,QAAQR,GAAOsM,EAIvB9M,EAASgE,EAAOuI,EAAMvL,e,SC5C1BiL,EAAOC,QAWP,SAAeU,EAAMG,GAEnB,IAAIC,GAAe7O,MAAMC,QAAQwO,GAC7BK,EACF,CACErO,MAAW,EACXsO,UAAWF,GAAeD,EAAahP,OAAOsB,KAAKuN,GAAQ,KAC3DN,KAAW,GACXtL,QAAWgM,EAAc,GAAK,GAC9B1H,KAAW0H,EAAcjP,OAAOsB,KAAKuN,GAAMnO,OAASmO,EAAKnO,QAc7D,OAVIsO,GAIFE,EAAUC,UAAU/L,KAAK6L,EAAcD,EAAa,SAAS3L,EAAGC,GAE9D,OAAO0L,EAAWH,EAAKxL,GAAIwL,EAAKvL,MAI7B4L,I,eCnCT,IAAIN,EAAQ,EAAQ,MAChB1P,EAAQ,EAAQ,MAIpBgP,EAAOC,QAQP,SAAoBlM,GAEbjC,OAAOsB,KAAK7B,KAAK8O,MAAM7N,SAM5BjB,KAAKoB,MAAQpB,KAAK8H,KAGlBqH,EAAMnP,MAGNP,EAAM+C,EAAN/C,CAAgB,KAAMO,KAAKwD,Y,eC3B7B,IAAI2E,EAAa,EAAQ,MACrBsH,EAAa,EAAQ,MACrBE,EAAa,EAAQ,MAIzBlB,EAAOC,QAUP,SAAkBU,EAAMjO,EAAUqB,GAIhC,IAFA,IAAIuM,EAAQU,EAAUL,GAEfL,EAAM3N,OAAS2N,EAAiB,WAAKK,GAAMnO,QAEhDkH,EAAQiH,EAAMjO,EAAU4N,GAAO,SAASvI,EAAOlF,GAEzCkF,EAEFhE,EAASgE,EAAOlF,GAKqB,IAAnCf,OAAOsB,KAAKkN,EAAMD,MAAM7N,QAE1BuB,EAAS,KAAMuM,EAAMvL,YAKzBuL,EAAM3N,QAGR,OAAOuO,EAAWX,KAAKD,EAAOvM,K,eCzChC,IAAIoM,EAAgB,EAAQ,MAG5BH,EAAOC,QAUP,SAAgBU,EAAMjO,EAAUqB,GAE9B,OAAOoM,EAAcQ,EAAMjO,EAAU,KAAMqB,K,eCf7C,IAAI2F,EAAa,EAAQ,MACrBsH,EAAa,EAAQ,MACrBE,EAAa,EAAQ,MAyDzB,SAASC,EAAUhM,EAAGC,GAEpB,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,EAvDlC4K,EAAOC,QAcP,SAAuBU,EAAMjO,EAAUoO,EAAY/M,GAEjD,IAAIuM,EAAQU,EAAUL,EAAMG,GAuB5B,OArBApH,EAAQiH,EAAMjO,EAAU4N,GAAO,SAASc,EAAgBrJ,EAAOlF,GAEzDkF,EAEFhE,EAASgE,EAAOlF,IAIlByN,EAAM3N,QAGF2N,EAAM3N,OAAS2N,EAAiB,WAAKK,GAAMnO,OAE7CkH,EAAQiH,EAAMjO,EAAU4N,EAAOc,GAKjCrN,EAAS,KAAMuM,EAAMvL,aAGhBmM,EAAWX,KAAKD,EAAOvM,IArChCiM,EAAOC,QAAQkB,UAAaA,EAC5BnB,EAAOC,QAAQoB,WA8Df,SAAoBlM,EAAGC,GAErB,OAAQ,EAAI+L,EAAUhM,EAAGC,K,QCzE3B,IAAIkM,EAAU,CAEZC,KAAM,CAEJC,cAAe,SAASC,GACtB,OAAOH,EAAQI,IAAIF,cAAcG,SAASC,mBAAmBH,MAI/DI,cAAe,SAASC,GACtB,OAAOC,mBAAmBC,OAAOV,EAAQI,IAAIG,cAAcC,OAK/DJ,IAAK,CAEHF,cAAe,SAASC,GACtB,IAAK,IAAIK,EAAQ,GAAI7O,EAAI,EAAGA,EAAIwO,EAAIjP,OAAQS,IAC1C6O,EAAMvO,KAAyB,IAApBkO,EAAIQ,WAAWhP,IAC5B,OAAO6O,GAITD,cAAe,SAASC,GACtB,IAAK,IAAIL,EAAM,GAAIxO,EAAI,EAAGA,EAAI6O,EAAMtP,OAAQS,IAC1CwO,EAAIlO,KAAK2O,OAAOC,aAAaL,EAAM7O,KACrC,OAAOwO,EAAIW,KAAK,OAKtBpC,EAAOC,QAAUqB,G,eChCjB,IAAIe,EAAO,EAAQ,MACfC,EAAS,eACTC,EAAgB,EAAQ,MAG5B,SAASC,IACPjR,KAAKkR,UAAW,EAChBlR,KAAKmR,UAAW,EAChBnR,KAAKoR,SAAW,EAChBpR,KAAKqR,YAAc,QACnBrR,KAAKsR,cAAe,EAEpBtR,KAAKuR,WAAY,EACjBvR,KAAKwR,SAAW,GAChBxR,KAAKyR,eAAiB,KACtBzR,KAAK0R,aAAc,EACnB1R,KAAK2R,cAAe,EAZtBlD,EAAOC,QAAUuC,EAcjBH,EAAKc,SAASX,EAAgBF,GAE9BE,EAAeY,OAAS,SAASC,GAC/B,IAAIC,EAAiB,IAAI/R,KAGzB,IAAK,IAAIgS,KADTF,EAAUA,GAAW,GAEnBC,EAAeC,GAAUF,EAAQE,GAGnC,OAAOD,GAGTd,EAAegB,aAAe,SAASC,GACrC,MAA0B,mBAAXA,GACS,iBAAXA,GACW,kBAAXA,GACW,iBAAXA,IACNC,OAAOC,SAASF,IAGzBjB,EAAezQ,UAAU6R,OAAS,SAASH,GAGzC,GAFmBjB,EAAegB,aAAaC,GAE7B,CAChB,KAAMA,aAAkBlB,GAAgB,CACtC,IAAIsB,EAAYtB,EAAca,OAAOK,EAAQ,CAC3Cb,YAAakB,IACbC,YAAaxS,KAAKsR,eAEpBY,EAAOO,GAAG,OAAQzS,KAAK0S,eAAe1D,KAAKhP,OAC3CkS,EAASI,EAGXtS,KAAK2S,cAAcT,GAEflS,KAAKsR,cACPY,EAAOnM,QAKX,OADA/F,KAAKwR,SAASxP,KAAKkQ,GACZlS,MAGTiR,EAAezQ,UAAUoS,KAAO,SAASC,EAAMf,GAG7C,OAFAf,EAAOvQ,UAAUoS,KAAK9R,KAAKd,KAAM6S,EAAMf,GACvC9R,KAAKgG,SACE6M,GAGT5B,EAAezQ,UAAUsS,SAAW,WAGlC,GAFA9S,KAAKyR,eAAiB,KAElBzR,KAAK0R,YACP1R,KAAK2R,cAAe,MADtB,CAKA3R,KAAK0R,aAAc,EACnB,IACE,GACE1R,KAAK2R,cAAe,EACpB3R,KAAK+S,qBACE/S,KAAK2R,cACd,QACA3R,KAAK0R,aAAc,KAIvBT,EAAezQ,UAAUuS,aAAe,WACtC,IAAIb,EAASlS,KAAKwR,SAASwB,aAGN,IAAVd,EAKW,mBAAXA,EAKKA,EACN,SAASA,GACEjB,EAAegB,aAAaC,KAE7CA,EAAOO,GAAG,OAAQzS,KAAK0S,eAAe1D,KAAKhP,OAC3CA,KAAK2S,cAAcT,IAGrBlS,KAAKiT,UAAUf,IACflD,KAAKhP,OAbLA,KAAKiT,UAAUf,GALflS,KAAKmN,OAqBT8D,EAAezQ,UAAUyS,UAAY,SAASf,GAI5C,GAHAlS,KAAKyR,eAAiBS,EAEHjB,EAAegB,aAAaC,GAI7C,OAFAA,EAAOO,GAAG,MAAOzS,KAAK8S,SAAS9D,KAAKhP,YACpCkS,EAAOU,KAAK5S,KAAM,CAACmN,KAAK,IAI1B,IAAI5K,EAAQ2P,EACZlS,KAAKkT,MAAM3Q,GACXvC,KAAK8S,YAGP7B,EAAezQ,UAAUmS,cAAgB,SAAST,GAChD,IAAIiB,EAAOnT,KACXkS,EAAOO,GAAG,SAAS,SAASxP,GAC1BkQ,EAAKC,WAAWnQ,OAIpBgO,EAAezQ,UAAU0S,MAAQ,SAASnO,GACxC/E,KAAKqT,KAAK,OAAQtO,IAGpBkM,EAAezQ,UAAUuF,MAAQ,WAC1B/F,KAAKsR,eAIPtR,KAAKsR,cAAgBtR,KAAKyR,gBAAuD,mBAA9BzR,KAAKyR,eAAoB,OAAiBzR,KAAKyR,eAAe1L,QACpH/F,KAAKqT,KAAK,WAGZpC,EAAezQ,UAAUwF,OAAS,WAC3BhG,KAAKuR,YACRvR,KAAKuR,WAAY,EACjBvR,KAAKkR,UAAW,EAChBlR,KAAK8S,YAGJ9S,KAAKsR,cAAgBtR,KAAKyR,gBAAwD,mBAA/BzR,KAAKyR,eAAqB,QAAiBzR,KAAKyR,eAAezL,SACrHhG,KAAKqT,KAAK,WAGZpC,EAAezQ,UAAU2M,IAAM,WAC7BnN,KAAKsT,SACLtT,KAAKqT,KAAK,QAGZpC,EAAezQ,UAAU+S,QAAU,WACjCvT,KAAKsT,SACLtT,KAAKqT,KAAK,UAGZpC,EAAezQ,UAAU8S,OAAS,WAChCtT,KAAKkR,UAAW,EAChBlR,KAAKwR,SAAW,GAChBxR,KAAKyR,eAAiB,MAGxBR,EAAezQ,UAAUkS,eAAiB,WAExC,GADA1S,KAAKwT,oBACDxT,KAAKoR,UAAYpR,KAAKqR,aAA1B,CAIA,IAAIoC,EACF,gCAAkCzT,KAAKqR,YAAc,mBACvDrR,KAAKoT,WAAW,IAAItT,MAAM2T,MAG5BxC,EAAezQ,UAAUgT,gBAAkB,WACzCxT,KAAKoR,SAAW,EAEhB,IAAI+B,EAAOnT,KACXA,KAAKwR,SAASlK,SAAQ,SAAS4K,GACxBA,EAAOd,WAIZ+B,EAAK/B,UAAYc,EAAOd,aAGtBpR,KAAKyR,gBAAkBzR,KAAKyR,eAAeL,WAC7CpR,KAAKoR,UAAYpR,KAAKyR,eAAeL,WAIzCH,EAAezQ,UAAU4S,WAAa,SAASnQ,GAC7CjD,KAAKsT,SACLtT,KAAKqT,KAAK,QAASpQ,K,SC9MrB,IACMyQ,EAGJC,EAHID,EACE,mEAENC,EAAQ,CAENC,KAAM,SAASC,EAAGhQ,GAChB,OAAQgQ,GAAKhQ,EAAMgQ,IAAO,GAAKhQ,GAIjCiQ,KAAM,SAASD,EAAGhQ,GAChB,OAAQgQ,GAAM,GAAKhQ,EAAOgQ,IAAMhQ,GAIlCkQ,OAAQ,SAASF,GAEf,GAAIA,EAAEG,aAAeC,OACnB,OAA0B,SAAnBN,EAAMC,KAAKC,EAAG,GAAsC,WAApBF,EAAMC,KAAKC,EAAG,IAIvD,IAAK,IAAInS,EAAI,EAAGA,EAAImS,EAAE5S,OAAQS,IAC5BmS,EAAEnS,GAAKiS,EAAMI,OAAOF,EAAEnS,IACxB,OAAOmS,GAITK,YAAa,SAASL,GACpB,IAAK,IAAItD,EAAQ,GAAIsD,EAAI,EAAGA,IAC1BtD,EAAMvO,KAAKkE,KAAKiO,MAAsB,IAAhBjO,KAAKkO,WAC7B,OAAO7D,GAIT8D,aAAc,SAAS9D,GACrB,IAAK,IAAI+D,EAAQ,GAAI5S,EAAI,EAAGmC,EAAI,EAAGnC,EAAI6O,EAAMtP,OAAQS,IAAKmC,GAAK,EAC7DyQ,EAAMzQ,IAAM,IAAM0M,EAAM7O,IAAO,GAAKmC,EAAI,GAC1C,OAAOyQ,GAITC,aAAc,SAASD,GACrB,IAAK,IAAI/D,EAAQ,GAAI1M,EAAI,EAAGA,EAAmB,GAAfyQ,EAAMrT,OAAa4C,GAAK,EACtD0M,EAAMvO,KAAMsS,EAAMzQ,IAAM,KAAQ,GAAKA,EAAI,GAAO,KAClD,OAAO0M,GAITiE,WAAY,SAASjE,GACnB,IAAK,IAAIkE,EAAM,GAAI/S,EAAI,EAAGA,EAAI6O,EAAMtP,OAAQS,IAC1C+S,EAAIzS,MAAMuO,EAAM7O,KAAO,GAAGjB,SAAS,KACnCgU,EAAIzS,MAAiB,GAAXuO,EAAM7O,IAAUjB,SAAS,KAErC,OAAOgU,EAAI5D,KAAK,KAIlB6D,WAAY,SAASD,GACnB,IAAK,IAAIlE,EAAQ,GAAIoE,EAAI,EAAGA,EAAIF,EAAIxT,OAAQ0T,GAAK,EAC/CpE,EAAMvO,KAAK8J,SAAS2I,EAAIG,OAAOD,EAAG,GAAI,KACxC,OAAOpE,GAITsE,cAAe,SAAStE,GACtB,IAAK,IAAIuE,EAAS,GAAIpT,EAAI,EAAGA,EAAI6O,EAAMtP,OAAQS,GAAK,EAElD,IADA,IAAIqT,EAAWxE,EAAM7O,IAAM,GAAO6O,EAAM7O,EAAI,IAAM,EAAK6O,EAAM7O,EAAI,GACxDsT,EAAI,EAAGA,EAAI,EAAGA,IACb,EAAJtT,EAAY,EAAJsT,GAAwB,EAAfzE,EAAMtP,OACzB6T,EAAO9S,KAAK0R,EAAUuB,OAAQF,IAAY,GAAK,EAAIC,GAAM,KAEzDF,EAAO9S,KAAK,KAElB,OAAO8S,EAAOjE,KAAK,KAIrBqE,cAAe,SAASJ,GAEtBA,EAASA,EAAOK,QAAQ,iBAAkB,IAE1C,IAAK,IAAI5E,EAAQ,GAAI7O,EAAI,EAAG0T,EAAQ,EAAG1T,EAAIoT,EAAO7T,OAC9CmU,IAAU1T,EAAI,EACH,GAAT0T,GACJ7E,EAAMvO,MAAO0R,EAAU1I,QAAQ8J,EAAOG,OAAOvT,EAAI,IAC1CwE,KAAKmP,IAAI,GAAI,EAAID,EAAQ,GAAK,IAAgB,EAARA,EACtC1B,EAAU1I,QAAQ8J,EAAOG,OAAOvT,MAAS,EAAY,EAAR0T,GAEtD,OAAO7E,IAIX9B,EAAOC,QAAUiF,G,eC9FnB,IAAI5C,EAAS,eACTD,EAAO,EAAQ,MAGnB,SAASE,IACPhR,KAAKsV,OAAS,KACdtV,KAAKoR,SAAW,EAChBpR,KAAKqR,YAAc,QACnBrR,KAAKwS,aAAc,EAEnBxS,KAAKuV,sBAAuB,EAC5BvV,KAAKuR,WAAY,EACjBvR,KAAKwV,gBAAkB,GATzB/G,EAAOC,QAAUsC,EAWjBF,EAAKc,SAASZ,EAAeD,GAE7BC,EAAca,OAAS,SAASyD,EAAQxD,GACtC,IAAI2D,EAAgB,IAAIzV,KAGxB,IAAK,IAAIgS,KADTF,EAAUA,GAAW,GAEnB2D,EAAczD,GAAUF,EAAQE,GAGlCyD,EAAcH,OAASA,EAEvB,IAAII,EAAWJ,EAAOjC,KAWtB,OAVAiC,EAAOjC,KAAO,WAEZ,OADAoC,EAAcE,YAAY1V,WACnByV,EAAS3V,MAAMuV,EAAQrV,YAGhCqV,EAAO7C,GAAG,SAAS,eACfgD,EAAcjD,aAChB8C,EAAOvP,QAGF0P,GAGTlV,OAAOqV,eAAe5E,EAAcxQ,UAAW,WAAY,CACzDqV,cAAc,EACdC,YAAY,EACZC,IAAK,WACH,OAAO/V,KAAKsV,OAAOnE,YAIvBH,EAAcxQ,UAAUwV,YAAc,WACpC,OAAOhW,KAAKsV,OAAOU,YAAYjW,MAAMC,KAAKsV,OAAQrV,YAGpD+Q,EAAcxQ,UAAUwF,OAAS,WAC1BhG,KAAKuR,WACRvR,KAAKiW,UAGPjW,KAAKsV,OAAOtP,UAGdgL,EAAcxQ,UAAUuF,MAAQ,WAC9B/F,KAAKsV,OAAOvP,SAGdiL,EAAcxQ,UAAUyV,QAAU,WAChCjW,KAAKuR,WAAY,EAEjBvR,KAAKwV,gBAAgBlO,QAAQ,SAASlD,GACpCpE,KAAKqT,KAAKtT,MAAMC,KAAMoE,IACtB4K,KAAKhP,OACPA,KAAKwV,gBAAkB,IAGzBxE,EAAcxQ,UAAUoS,KAAO,WAC7B,IAAIsD,EAAInF,EAAOvQ,UAAUoS,KAAK7S,MAAMC,KAAMC,WAE1C,OADAD,KAAKgG,SACEkQ,GAGTlF,EAAcxQ,UAAUmV,YAAc,SAASvR,GACzCpE,KAAKuR,UACPvR,KAAKqT,KAAKtT,MAAMC,KAAMoE,IAIR,SAAZA,EAAK,KACPpE,KAAKoR,UAAYhN,EAAK,GAAGnD,OACzBjB,KAAKmW,+BAGPnW,KAAKwV,gBAAgBxT,KAAKoC,KAG5B4M,EAAcxQ,UAAU2V,4BAA8B,WACpD,KAAInW,KAAKuV,sBAILvV,KAAKoR,UAAYpR,KAAKqR,aAA1B,CAIArR,KAAKuV,sBAAuB,EAC5B,IAAI9B,EACF,gCAAkCzT,KAAKqR,YAAc,mBACvDrR,KAAKqT,KAAK,QAAS,IAAIvT,MAAM2T,O,eCzG/B,IAAIxC,EAAiB,EAAQ,MACzBH,EAAO,EAAQ,MACfsF,EAAO,EAAQ,MACfC,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBC,EAAW,cACXC,EAAK,EAAQ,MACbC,EAAO,EAAQ,KACfC,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MAgBvB,SAASC,EAAS9E,GAChB,KAAM9R,gBAAgB4W,GACpB,OAAO,IAAIA,EAUb,IAAK,IAAI5E,KAPThS,KAAK6W,gBAAkB,EACvB7W,KAAK8W,aAAe,EACpB9W,KAAK+W,iBAAmB,GAExB9F,EAAenQ,KAAKd,MAEpB8R,EAAUA,GAAW,GAEnB9R,KAAKgS,GAAUF,EAAQE,GA1B3BvD,EAAOC,QAAUkI,EAGjB9F,EAAKc,SAASgF,EAAU3F,GA2BxB2F,EAASI,WAAa,OACtBJ,EAASK,qBAAuB,2BAEhCL,EAASpW,UAAU6R,OAAS,SAAS6E,EAAO3U,EAAOuP,GAK3B,iBAHtBA,EAAUA,GAAW,MAInBA,EAAU,CAACqF,SAAUrF,IAGvB,IAAIO,EAASpB,EAAezQ,UAAU6R,OAAOrD,KAAKhP,MAQlD,GALoB,iBAATuC,IACTA,EAAQ,GAAKA,GAIXuO,EAAKlQ,QAAQ2B,GAGfvC,KAAKoX,OAAO,IAAItX,MAAM,kCAHxB,CAOA,IAAIuX,EAASrX,KAAKsX,iBAAiBJ,EAAO3U,EAAOuP,GAC7CyF,EAASvX,KAAKwX,mBAElBnF,EAAOgF,GACPhF,EAAO9P,GACP8P,EAAOkF,GAGPvX,KAAKyX,aAAaJ,EAAQ9U,EAAOuP,KAGnC8E,EAASpW,UAAUiX,aAAe,SAASJ,EAAQ9U,EAAOuP,GACxD,IAAI4F,EAAc,EAMS,MAAvB5F,EAAQ6F,YACVD,IAAgB5F,EAAQ6F,YACfxF,OAAOC,SAAS7P,GACzBmV,EAAcnV,EAAMtB,OACM,iBAAVsB,IAChBmV,EAAcvF,OAAOyF,WAAWrV,IAGlCvC,KAAK8W,cAAgBY,EAGrB1X,KAAK6W,iBACH1E,OAAOyF,WAAWP,GAClBT,EAASI,WAAW/V,OAGjBsB,IAAYA,EAAM6T,MAAU7T,EAAM4O,UAAY5O,EAAMR,eAAe,kBAKnE+P,EAAQ6F,aACX3X,KAAK+W,iBAAiB/U,KAAKO,KAI/BqU,EAASpW,UAAUqX,iBAAmB,SAAStV,EAAOC,GAEhDD,EAAMR,eAAe,MASN+V,MAAbvV,EAAM4K,KAAoB5K,EAAM4K,KAAOoF,KAA2BuF,MAAfvV,EAAMF,MAK3DG,EAAS,KAAMD,EAAM4K,IAAM,GAAK5K,EAAMF,MAAQE,EAAMF,MAAQ,IAK5DmU,EAAGuB,KAAKxV,EAAM6T,MAAM,SAASnT,EAAK8U,GAEhC,IAAIC,EAEA/U,EACFT,EAASS,IAKX+U,EAAWD,EAAKjQ,MAAQvF,EAAMF,MAAQE,EAAMF,MAAQ,GACpDG,EAAS,KAAMwV,OAKVzV,EAAMR,eAAe,eAC9BS,EAAS,MAAOD,EAAM0V,QAAQ,mBAGrB1V,EAAMR,eAAe,eAE9BQ,EAAMkQ,GAAG,YAAY,SAASyF,GAC5B3V,EAAMwD,QACNvD,EAAS,MAAO0V,EAASD,QAAQ,sBAEnC1V,EAAMyD,UAINxD,EAAS,mBAIboU,EAASpW,UAAU8W,iBAAmB,SAASJ,EAAO3U,EAAOuP,GAI3D,GAA6B,iBAAlBA,EAAQuF,OACjB,OAAOvF,EAAQuF,OAGjB,IAgBIA,EAhBAc,EAAqBnY,KAAKoY,uBAAuB7V,EAAOuP,GACxDuG,EAAcrY,KAAKsY,gBAAgB/V,EAAOuP,GAE1CyG,EAAW,GACXN,EAAW,CAEb,sBAAuB,CAAC,YAAa,SAAWf,EAAQ,KAAK1S,OAAO2T,GAAsB,IAE1F,eAAgB,GAAG3T,OAAO6T,GAAe,KAS3C,IAAK,IAAIG,IALoB,iBAAlB1G,EAAQuF,QACjBV,EAASsB,EAASnG,EAAQuF,QAIXY,EACVA,EAAQlW,eAAeyW,IAId,OAHdnB,EAASY,EAAQO,MAQZ7X,MAAMC,QAAQyW,KACjBA,EAAS,CAACA,IAIRA,EAAOpW,SACTsX,GAAYC,EAAO,KAAOnB,EAAOxG,KAAK,MAAQ+F,EAASI,aAI3D,MAAO,KAAOhX,KAAKyY,cAAgB7B,EAASI,WAAauB,EAAW3B,EAASI,YAG/EJ,EAASpW,UAAU4X,uBAAyB,SAAS7V,EAAOuP,GAE1D,IAAIqF,EACAgB,EAoBJ,MAjBgC,iBAArBrG,EAAQ4G,SAEjBvB,EAAWf,EAAKuC,UAAU7G,EAAQ4G,UAAUvD,QAAQ,MAAO,KAClDrD,EAAQqF,UAAY5U,EAAM+D,MAAQ/D,EAAM6T,KAIjDe,EAAWf,EAAKwC,SAAS9G,EAAQqF,UAAY5U,EAAM+D,MAAQ/D,EAAM6T,MACxD7T,EAAM4O,UAAY5O,EAAMR,eAAe,iBAEhDoV,EAAWf,EAAKwC,SAASrW,EAAMsW,OAAOC,aAAa1C,MAAQ,KAGzDe,IACFgB,EAAqB,aAAehB,EAAW,KAG1CgB,GAGTvB,EAASpW,UAAU8X,gBAAkB,SAAS/V,EAAOuP,GAGnD,IAAIuG,EAAcvG,EAAQuG,YA2B1B,OAxBKA,GAAe9V,EAAM+D,OACxB+R,EAAc5B,EAAKsC,OAAOxW,EAAM+D,QAI7B+R,GAAe9V,EAAM6T,OACxBiC,EAAc5B,EAAKsC,OAAOxW,EAAM6T,QAI7BiC,GAAe9V,EAAM4O,UAAY5O,EAAMR,eAAe,iBACzDsW,EAAc9V,EAAM0V,QAAQ,iBAIzBI,IAAgBvG,EAAQ4G,WAAY5G,EAAQqF,WAC/CkB,EAAc5B,EAAKsC,OAAOjH,EAAQ4G,UAAY5G,EAAQqF,WAInDkB,GAA+B,iBAAT9V,IACzB8V,EAAczB,EAASK,sBAGlBoB,GAGTzB,EAASpW,UAAUgX,iBAAmB,WACpC,OAAO,SAASvL,GACd,IAAIsL,EAASX,EAASI,WAEmB,IAAzBhX,KAAKwR,SAASvQ,SAE5BsW,GAAUvX,KAAKgZ,iBAGjB/M,EAAKsL,IACLvI,KAAKhP,OAGT4W,EAASpW,UAAUwY,cAAgB,WACjC,MAAO,KAAOhZ,KAAKyY,cAAgB,KAAO7B,EAASI,YAGrDJ,EAASpW,UAAUyY,WAAa,SAASC,GACvC,IAAI7B,EACA8B,EAAc,CAChB,eAAgB,iCAAmCnZ,KAAKyY,eAG1D,IAAKpB,KAAU6B,EACTA,EAAYnX,eAAesV,KAC7B8B,EAAY9B,EAAO+B,eAAiBF,EAAY7B,IAIpD,OAAO8B,GAGTvC,EAASpW,UAAUiY,YAAc,WAK/B,OAJKzY,KAAKqZ,WACRrZ,KAAKsZ,oBAGAtZ,KAAKqZ,WAGdzC,EAASpW,UAAU+Y,UAAY,WAK7B,IAJA,IAAIC,EAAa,IAAIrH,OAAOsH,MAAO,GAC/BC,EAAW1Z,KAAKyY,cAGX/W,EAAI,EAAGS,EAAMnC,KAAKwR,SAASvQ,OAAQS,EAAIS,EAAKT,IACnB,mBAArB1B,KAAKwR,SAAS9P,KAIrB8X,EADCrH,OAAOC,SAASpS,KAAKwR,SAAS9P,IAClByQ,OAAO3N,OAAQ,CAACgV,EAAYxZ,KAAKwR,SAAS9P,KAE1CyQ,OAAO3N,OAAQ,CAACgV,EAAYrH,OAAOwH,KAAK3Z,KAAKwR,SAAS9P,MAIrC,iBAArB1B,KAAKwR,SAAS9P,IAAmB1B,KAAKwR,SAAS9P,GAAGkY,UAAW,EAAGF,EAASzY,OAAS,KAAQyY,IACnGF,EAAarH,OAAO3N,OAAQ,CAACgV,EAAYrH,OAAOwH,KAAK/C,EAASI,gBAMpE,OAAO7E,OAAO3N,OAAQ,CAACgV,EAAYrH,OAAOwH,KAAK3Z,KAAKgZ,oBAGtDpC,EAASpW,UAAU8Y,kBAAoB,WAIrC,IADA,IAAII,EAAW,6BACNhY,EAAI,EAAGA,EAAI,GAAIA,IACtBgY,GAAYxT,KAAKiO,MAAsB,GAAhBjO,KAAKkO,UAAe3T,SAAS,IAGtDT,KAAKqZ,UAAYK,GAMnB9C,EAASpW,UAAUqZ,cAAgB,WACjC,IAAIlC,EAAc3X,KAAK6W,gBAAkB7W,KAAK8W,aAgB9C,OAZI9W,KAAKwR,SAASvQ,SAChB0W,GAAe3X,KAAKgZ,gBAAgB/X,QAIjCjB,KAAK8Z,kBAIR9Z,KAAKoX,OAAO,IAAItX,MAAM,uDAGjB6X,GAMTf,EAASpW,UAAUsZ,eAAiB,WAClC,IAAIA,GAAiB,EAMrB,OAJI9Z,KAAK+W,iBAAiB9V,SACxB6Y,GAAiB,GAGZA,GAGTlD,EAASpW,UAAUuZ,UAAY,SAASzV,GACtC,IAAIqT,EAAc3X,KAAK6W,gBAAkB7W,KAAK8W,aAE1C9W,KAAKwR,SAASvQ,SAChB0W,GAAe3X,KAAKgZ,gBAAgB/X,QAGjCjB,KAAK+W,iBAAiB9V,OAK3ByV,EAASxK,SAASlM,KAAK+W,iBAAkB/W,KAAK6X,kBAAkB,SAAS5U,EAAK+W,GACxE/W,EACFqB,EAAGrB,IAIL+W,EAAO1S,SAAQ,SAASrG,GACtB0W,GAAe1W,KAGjBqD,EAAG,KAAMqT,OAdTnS,QAAQ4B,SAAS9C,EAAG0K,KAAKhP,KAAM,KAAM2X,KAkBzCf,EAASpW,UAAUyZ,OAAS,SAASC,EAAQ5V,GAC3C,IAAI6V,EACArI,EACAsI,EAAW,CAACC,OAAQ,QAoDxB,MA/CqB,iBAAVH,GAETA,EAAS3D,EAAS2D,GAClBpI,EAAU6E,EAAS,CACjB2D,KAAMJ,EAAOI,KACblE,KAAM8D,EAAOK,SACbC,KAAMN,EAAOO,SACbC,SAAUR,EAAOQ,UAChBN,KAKHtI,EAAU6E,EAASuD,EAAQE,IAEdE,OACXxI,EAAQwI,KAA2B,UAApBxI,EAAQ4I,SAAuB,IAAM,IAKxD5I,EAAQmG,QAAUjY,KAAKiZ,WAAWiB,EAAOjC,SAIvCkC,EADsB,UAApBrI,EAAQ4I,SACApE,EAAM6D,QAAQrI,GAEduE,EAAK8D,QAAQrI,GAIzB9R,KAAK+Z,UAAU,SAAS9W,EAAKhC,GACvBgC,EACFjD,KAAKoX,OAAOnU,IAKdkX,EAAQQ,UAAU,iBAAkB1Z,GAEpCjB,KAAK4S,KAAKuH,GACN7V,IACF6V,EAAQ1H,GAAG,QAASnO,GACpB6V,EAAQ1H,GAAG,WAAYnO,EAAG0K,KAAKhP,KAAM,UAEvCgP,KAAKhP,OAEAma,GAGTvD,EAASpW,UAAU4W,OAAS,SAASnU,GAC9BjD,KAAKwG,QACRxG,KAAKwG,MAAQvD,EACbjD,KAAK+F,QACL/F,KAAKqT,KAAK,QAASpQ,KAIvB2T,EAASpW,UAAUC,SAAW,WAC5B,MAAO,sB,SCheTgO,EAAOC,QAAU,SAASkM,EAAKC,GAO7B,OALAta,OAAOsB,KAAKgZ,GAAKvT,SAAQ,SAASkR,GAEhCoC,EAAIpC,GAAQoC,EAAIpC,IAASqC,EAAIrC,MAGxBoC,I,SCKT,SAASxI,EAAUvR,GACjB,QAASA,EAAImT,aAAmD,mBAA7BnT,EAAImT,YAAY5B,UAA2BvR,EAAImT,YAAY5B,SAASvR,GALzG4N,EAAOC,QAAU,SAAU7N,GACzB,OAAc,MAAPA,IAAgBuR,EAASvR,IAQlC,SAAuBA,GACrB,MAAkC,mBAApBA,EAAIia,aAAmD,mBAAdja,EAAI4J,OAAwB2H,EAASvR,EAAI4J,MAAM,EAAG,IATjEsQ,CAAala,MAAUA,EAAIma,a,4BCTrE,MAAMxE,EAAK,EAAQ,MAEnB,IAAIyE,EAmBJxM,EAAOC,QAAU,UACCoJ,IAAbmD,IACHA,EAnBF,WACC,IAEC,OADAzE,EAAG0E,SAAS,gBACL,EACN,MAAOlU,GACR,OAAO,GAcImU,IAVb,WACC,IACC,OAAO3E,EAAG4E,aAAa,oBAAqB,QAAQC,SAAS,UAC5D,MAAOrU,GACR,OAAO,GAMsBsU,IAGvBL,I,4BC1BR,MAAMM,EAAK,EAAQ,MACb/E,EAAK,EAAQ,MACbyE,EAAW,EAAQ,MAEnBO,EAAQ,KACb,GAAyB,UAArBhW,QAAQiW,SACX,OAAO,EAGR,GAAIF,EAAGtF,UAAUmD,cAAciC,SAAS,aACvC,OAAIJ,IAOL,IACC,QAAOzE,EAAG4E,aAAa,gBAAiB,QAAQhC,cAAciC,SAAS,eACrEJ,IACD,MAAOjU,GACR,OAAO,IAILxB,QAAQkW,IAAIC,gBACflN,EAAOC,QAAU8M,EAEjB/M,EAAOC,QAAU8M,K,qBC7BlB,MAMWjc,IAkBTS,UAVO,KALD,aAII,OAAQT,EAAKqc,GAWjB,WAMJ,IAAIA,EAAK,CACT,QAAa,QAGb,IAAS,GACT,IAAS,GACT,IAAS,IAGLnb,EAAWF,OAAOC,UAAUC,SAC5BgK,EAAQ9J,MAAMH,UAAUiK,MACxB1I,EAAiBxB,OAAOC,UAAUuB,eAGtC,SAAS8Z,EAAIC,GACT,OAAO,WACH,OAAQA,EAAK/b,MAAM,KAAM0K,EAAM3J,KAAKb,aAK5C,SAAS4J,EAAIiS,GACT,OAAO,WAGH,IAFA,IAAI5B,EAAS6B,EAAU9b,WACnBgB,EAASiZ,EAAOjZ,OACXS,EAAI,EAAGA,EAAIT,EAAQS,IACxB,IAAKoa,EAAKhb,KAAK,KAAMoZ,EAAOxY,IACxB,OAAO,EAGf,OAAO,GAKf,SAASiI,EAAImS,GACT,OAAO,WAGH,IAFA,IAAI5B,EAAS6B,EAAU9b,WACnBgB,EAASiZ,EAAOjZ,OACXS,EAAI,EAAGA,EAAIT,EAAQS,IACxB,GAAIoa,EAAKhb,KAAK,KAAMoZ,EAAOxY,IACvB,OAAO,EAGf,OAAO,GAKf,IAAIsI,EAAa,CACb,IAAK,SAASpG,EAAGC,GAAK,OAAOD,EAAIC,GACjC,KAAM,SAASD,EAAGC,GAAK,OAAOD,GAAKC,GACnC,IAAK,SAASD,EAAGC,GAAK,OAAOD,EAAIC,GACjC,KAAM,SAASD,EAAGC,GAAK,OAAOD,GAAKC,IAIvC,SAASmY,EAAeC,EAASC,GAC7B,IAAIC,EAAUD,EAAQ,GAClBrI,IAAMsI,EAAOC,MAAM,QAAUC,KAC7BC,EAAKH,EAAOC,MAAM,YAAY,GAClC,OAAOpS,EAAWsS,GAAMtS,EAAWsS,GAAIL,EAASpI,GAAMoI,GAAWpI,GAAKA,GAAMA,EAIhF,SAASkI,EAAU3X,GACf,IAAI8V,EAASzP,EAAM3J,KAAKsD,GAKxB,OAHe,IADF8V,EAAOjZ,QACA2a,EAAGW,MAAMrC,EAAO,MAChCA,EAASA,EAAO,IAEbA,EAOX0B,EAAG3b,UAAY,SAASsC,GACpB,MAAgC,uBAAzB9B,EAASK,KAAKyB,IACP,MAATA,GAAkC,iBAAVA,GAAsB,WAAYA,GAInEqZ,EAAGW,MAAQ5b,MAAMC,SAAW,SAAS2B,GACjC,MAAgC,mBAAzB9B,EAASK,KAAKyB,IAIzBqZ,EAAGY,QAAU,SAASja,GAClB,OAAiB,IAAVA,IAA4B,IAAVA,GAA4C,qBAAzB9B,EAASK,KAAKyB,IAI9DqZ,EAAGa,KAAO,SAASla,GACf,OAAOqZ,EAAGO,OAAO5Z,IAA2B,IAAjBA,EAAMtB,QAIrC2a,EAAGc,KAAO,SAASna,GACf,MAAgC,kBAAzB9B,EAASK,KAAKyB,IAIzBqZ,EAAGe,QAAU,SAAS9U,GAClB,OAAO+T,EAAG/T,OAAOA,IAAWA,EAAO+U,SAAW,GAIlDhB,EAAGpV,MAAQ,SAASjE,GAChB,MAAgC,mBAAzB9B,EAASK,KAAKyB,IAIzBqZ,EAAa,SAAI,SAASrZ,GACtB,MAAgC,sBAAzB9B,EAASK,KAAKyB,IAAmD,mBAAVA,GAIlEqZ,EAAGiB,KAAO,SAASta,GACf,MAAgC,oBAAzB9B,EAASK,KAAKyB,IAIzBqZ,EAAGkB,IAAM,SAASva,GACd,OAAOA,GAAUA,GAIrBqZ,EAAS,KAAI,SAASrZ,GAClB,OAAiB,OAAVA,GAIXqZ,EAAGmB,OAAS,SAASxa,GACjB,OAAOqZ,EAAGC,IAAIiB,IAAIva,IAAmC,oBAAzB9B,EAASK,KAAKyB,IAI9CqZ,EAAG/T,OAAS,SAAStF,GACjB,OAAOhC,OAAOgC,KAAWA,GAI7BqZ,EAAGoB,OAAS,SAASza,GACjB,MAAgC,oBAAzB9B,EAASK,KAAKyB,IAKzBqZ,EAAGqB,SAAW,SAAS1a,EAAO2a,GAC1B,IAAIC,EAAM1c,EAASK,KAAKyB,GACxB,OAAI4a,IAAQ1c,EAASK,KAAKoc,KAGd,oBAARC,IACQvB,EAAGjS,IAAImT,IAAIva,EAAO2a,IAAUtB,EAAG/R,IAAIiT,IAAIva,EAAO2a,KAK9DtB,EAAGqB,SAASG,IAAM,CAAC,OAGnBxB,EAAGO,OAAS,SAAS5Z,GACjB,MAAgC,oBAAzB9B,EAASK,KAAKyB,IAIzBqZ,EAAG9D,UAAY,SAASvV,GACpB,YAAiB,IAAVA,GAKXqZ,EAAGyB,aAAe,SAAS9a,GACvB,OAAgB,MAATA,GAAkC,iBAAVA,GAAsB,gBAAiBA,GAO1EqZ,EAAGjW,MAAQ,SAASpD,GAChB,GAAIqZ,EAAG/T,OAAOtF,GAAQ,CAClB,IAAItB,EAASV,OAAO+c,oBAAoB/a,GAAOtB,OAC/C,SAAe,IAAXA,GAA4B,IAAXA,GAAgB2a,EAAGW,MAAMha,IAC1B,IAAXtB,GAAgB2a,EAAG3b,UAAUsC,IAK1C,MAAiB,KAAVA,GAIXqZ,EAAG2B,OAAS,SAAShb,GACjB,OAAgB,MAATA,GAIXqZ,EAAG4B,MAAQ,SAASjb,GAChB,OAAQA,GAIZqZ,EAAG6B,OAAS5B,EAAID,EAAG4B,OAMnB5B,EAAG8B,MAAQ,SAAS7J,EAAG1N,GACnB,OAAOyV,EAAG/R,IAAIkT,OAAOlJ,EAAG1N,IAAQ0N,EAAI1N,GAGxCyV,EAAG8B,MAAMN,IAAM,CAAC,OAGhBxB,EAAG+B,QAAU,SAAS9J,GAClB,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAAM,GAKrC+H,EAAGgC,MAAQ,SAASrb,EAAO2a,GAEvB,OAAItB,EAAG/R,IAAIkT,OAAOxa,EAAO2a,GACd3a,IAAU2a,GAAS,EAAI3a,GAAU,EAAI2a,EAG5CtB,EAAG/R,IAAIsS,OAAO5Z,EAAO2a,IAAUtB,EAAG/R,IAAImT,OAAOza,EAAO2a,GAC7C,GAAK3a,GAAU,GAAK2a,IAE3BtB,EAAG/R,IAAI2S,QAAQja,EAAO2a,IACf3a,IAAU2a,GAKzBtB,EAAGgC,MAAMR,IAAM,CAAC,OAGhBxB,EAAGiC,KAAO,SAAShK,GACf,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAAM,GAIrC+H,EAAGkC,OAASC,UAAY,SAASlK,GAC7B,OAAO+H,EAAGC,IAAImC,SAASnK,IAAM+H,EAAGC,IAAIiB,IAAIjJ,IAI5C+H,EAAGoC,SAAW,SAASnK,GACnB,OAAOA,IAAMtB,KAAYsB,KAAM,KAInC+H,EAAGqC,QAAU,SAASpK,GAClB,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAAM,GAIrC+H,EAAGsC,SAAW,SAASrK,GACnB,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAI/B+H,EAAGuC,IAAM,SAAStK,GACd,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAAM,GAIrC+H,EAAGwC,SAAW,SAASvK,GACnB,OAAO+H,EAAGmB,OAAOlJ,IAAMA,EAAI,GAI/B+H,EAAGyC,MAAQ,SAASxK,EAAGyK,GACnB,OAAO1C,EAAG/R,IAAIkT,OAAOlJ,EAAGyK,IAAQzK,EAAIyK,GAGxC1C,EAAGyC,MAAMjB,IAAM,CAAC,OAGhBxB,EAAG2C,OAAS,SAAS1K,EAAG1N,EAAKmY,GACzB,OAAO1C,EAAG/R,IAAIkT,OAAOlJ,EAAG1N,EAAKmY,IAAQzK,EAAI1N,GAAO0N,EAAIyK,GAGxD1C,EAAG2C,OAAOnB,IAAM,CAAC,OAWjB,IAAIoB,EAAU,CACVC,YAAa,uCACbC,aAAc,iBACdC,aAAc,sDACdC,WAAY,wKACZC,WAAY,gFACZC,MAAO,04BACPC,SAAU,sCACVC,YAAa,wBACbC,SAAU,sCACVC,KAAM,0FACNC,KAAM,qKACNC,UAAW,qDACXC,qBAAsB,+DACtBC,WAAY,oDACZC,WAAY,kFACZC,IAAK,gbACLC,UAAW,4BAGf,SAASC,EAAY1C,EAAQwB,GACzB5C,EAAGoB,GAAU,SAASza,GAClB,OAAOic,EAAQxB,GAAQzQ,KAAKhK,IAKpC,IAAK,IAAIya,KAAUwB,EACXA,EAAQzc,eAAeib,IACvB0C,EAAY1C,EAAQwB,GAK5B5C,EAAG+D,GAAK,SAASpd,GACb,OAAOqZ,EAAGsD,KAAK3c,IAAUqZ,EAAGuD,KAAK5c,IAOrCqZ,EAAGgE,YAAc,SAASzD,GACtB,GAAIP,EAAGC,IAAIM,OAAOA,GACd,OAAO,EAGX,IADA,IAAI7H,EAAQ6H,EAAO0D,MAAM,KAChBne,EAAI,EAAGA,EAAI4S,EAAMrT,OAAQS,IAAK,CACnC,IAAIoe,EAAOxL,EAAM5S,GACjB,GAAIoe,EAAK7e,OAAQ,CACb,IAAI8e,EAAMD,EAAK7K,OAAO,GACtB,GAAI8K,IAAQA,EAAIC,cACZ,OAAO,GAInB,OAAO,GAIXpE,EAAGqE,QAAU,SAAS9D,EAAQ+D,GAC1B,GAAItE,EAAGC,IAAIM,OAAOA,GACd,OAAO,EAEX+D,GAAU,GACV,IAAIC,EAAWhE,EAAOlb,OAASif,EAAOjf,OACtC,OAAOkf,GAAY,GAAKhE,EAAOnR,QAAQkV,EAAQC,KAAcA,GAGjEvE,EAAGqE,QAAQ7C,IAAM,CAAC,OAGlBxB,EAAGwE,QAAU,SAASjE,EAAQ+D,GAC1B,OAAO/D,EAAOnR,QAAQkV,IAAW,GAGrCtE,EAAGwE,QAAQhD,IAAM,CAAC,OAGlBxB,EAAGyE,UAAY,SAASlE,GACpB,OAAOP,EAAGO,OAAOA,IAAWA,IAAWA,EAAO/C,eAIlDwC,EAAG0E,WAAa,SAASnE,GACrB,GAAIP,EAAGC,IAAIM,OAAOA,GACd,OAAO,EAIX,IADA,IAAIlb,GADJkb,EAASA,EAAOhH,QAAQ,iBAAkB,IAAIiE,eAC1BnY,OAAS,EACpBS,EAAI,EAAG6e,EAAOra,KAAKiO,MAAMlT,EAAS,GAAIS,GAAK6e,EAAM7e,IACtD,GAAIya,EAAOlH,OAAOvT,KAAOya,EAAOlH,OAAOhU,EAASS,GAC5C,OAAO,EAGf,OAAO,GAKXka,EAAG4E,MAAQ,SAASje,GAChB,GAAIqZ,EAAGC,IAAIY,KAAKla,GACZ,OAAO,EAEX,IAAIke,EAAWle,EAAMmO,WAAW,GAChC,OAAQ+P,EAAW,GAAKA,EAAW,IAAoB,KAAbA,GAI9C7E,EAAG8E,UAAY,SAASvE,EAAQ+D,GAC5B,OAAOtE,EAAGO,OAAOA,IAAsC,IAA3BA,EAAOnR,QAAQkV,IAG/CtE,EAAG8E,UAAUtD,IAAM,CAAC,OAGpBxB,EAAG+E,UAAY,SAASxE,GACpB,OAAOP,EAAGO,OAAOA,IAAWA,IAAWA,EAAO6D,eAMlD,IAAIY,EAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC1EC,EAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAG5HjF,EAAGkF,IAAM,SAASpE,EAAMoE,GACpB,OAAOlF,EAAGc,KAAKA,IAASoE,EAAI1H,gBAAkBwH,EAAKlE,EAAKqE,WAG5DnF,EAAGkF,IAAI1D,IAAM,CAAC,OAGdxB,EAAGoF,mBAAqB,SAAStE,GAC7B,IAAIuE,EAAU,IAAIC,KAAKxE,EAAKyE,cAAe,EAAG,GAC1CC,EAAO,IAAIF,KAAKxE,EAAKyE,cAAe,EAAG,GACvCE,EAAoBnb,KAAKoY,IAAI2C,EAAQK,oBAAqBF,EAAKE,qBACnE,OAAO5E,EAAK4E,oBAAsBD,GAItCzF,EAAG2F,OAAS,SAAS7E,GACjB,IAAI8E,EAAM,IAAIN,KACd,OAAOtF,EAAGc,KAAKA,IAASA,EAAK+E,UAAYD,EAAIC,WAIjD7F,EAAG8F,YAAc,SAAShF,EAAMra,EAAO8K,GACnC,GAAIyO,EAAGC,IAAIa,KAAKA,IAASd,EAAGC,IAAIa,KAAKra,IAAUuZ,EAAGC,IAAIa,KAAKvP,GACvD,OAAO,EAEX,IAAIwU,EAAQjF,EAAK+E,UACjB,OAAOE,EAAQtf,EAAMof,WAAaE,EAAQxU,EAAIsU,WAGlD7F,EAAG8F,YAAYtE,IAAM,CAAC,OAGtBxB,EAAGgG,YAAc,SAASlF,GACtB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,MAAK,IAAIA,MAAOW,UAAS,IAAIX,MAAOY,WAAa,IAAK,IAAIZ,OAI9FtF,EAAGmG,WAAa,SAASrF,GACrB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,MAAK,IAAIA,MAAOc,SAAQ,IAAId,MAAOe,UAAY,IAAK,IAAIf,OAI5FtF,EAAGsG,WAAa,SAASxF,GACrB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,MAAK,IAAIA,MAAOiB,aAAY,IAAIjB,MAAOC,cAAgB,IAAK,IAAID,OAIpGtF,EAAGwG,YAAc,SAAS1F,GACtB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,KAAQ,IAAIA,MAAK,IAAIA,MAAOW,UAAS,IAAIX,MAAOY,WAAa,MAIjGlG,EAAGyG,WAAa,SAAS3F,GACrB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,KAAQ,IAAIA,MAAK,IAAIA,MAAOc,SAAQ,IAAId,MAAOe,UAAY,MAI/FrG,EAAG0G,WAAa,SAAS5F,GACrB,OAAOd,EAAG8F,YAAYhF,EAAM,IAAIwE,KAAQ,IAAIA,MAAK,IAAIA,MAAOiB,aAAY,IAAIjB,MAAOC,cAAgB,MAIvGvF,EAAG2G,SAAW,SAASC,GACnB,OAAO5G,EAAGmB,OAAOyF,KAAWA,EAAO,GAAM,GAAKA,EAAO,KAAQ,GAAMA,EAAO,KAAQ,IAItF5G,EAAG6G,MAAQ,SAAS/F,EAAM+F,GACtB,OAAO7G,EAAGc,KAAKA,IAAS+F,EAAMrJ,gBAAkByH,EAAOnE,EAAKoF,aAGhElG,EAAG6G,MAAMrF,IAAM,CAAC,OAGhBxB,EAAG8G,KAAO,SAAShG,GACf,IAAI8E,EAAM,IAAIN,KACd,OAAOtF,EAAGc,KAAKA,IAASA,EAAK+E,UAAYD,EAAIC,WAIjD7F,EAAG+G,cAAgB,SAASjG,EAAMkG,GAC9B,OAAOhH,EAAGc,KAAKA,IAASd,EAAGmB,OAAO6F,IAAYA,IAAY1c,KAAKiO,OAAOuI,EAAKoF,WAAa,GAAK,IAGjGlG,EAAG+G,cAAcvF,IAAM,CAAC,OAGxBxB,EAAGiH,MAAQ,SAASnG,GAChB,IACIoG,GADM,IAAI5B,MACQ6B,eACtB,OAAOnH,EAAGc,KAAKA,IAASA,EAAKqG,iBAAmBD,GAIpDlH,EAAGoH,SAAW,SAAStG,GACnB,IAAI8E,EAAM,IAAIN,KACV+B,EAAiB,IAAI/B,KAAKM,EAAIQ,QAAQR,EAAIS,UAAY,IAAIc,eAC9D,OAAOnH,EAAGc,KAAKA,IAASA,EAAKqG,iBAAmBE,GAKpDrH,EAAGsH,QAAU,SAASxG,GAClB,OAAOd,EAAGc,KAAKA,KAA4B,IAAlBA,EAAKqE,UAAoC,IAAlBrE,EAAKqE,WAIzDnF,EAAGuH,QAAUtH,EAAID,EAAGsH,SAGpBtH,EAAG4G,KAAO,SAAS9F,EAAM8F,GACrB,OAAO5G,EAAGc,KAAKA,IAASd,EAAGmB,OAAOyF,IAASA,IAAS9F,EAAKyE,eAG7DvF,EAAG4G,KAAKpF,IAAM,CAAC,OAGfxB,EAAGwH,UAAY,SAAS1G,GACpB,IAAI8E,EAAM,IAAIN,KACVmC,EAAkB,IAAInC,KAAKM,EAAIQ,QAAQR,EAAIS,UAAY,IAAIc,eAC/D,OAAOnH,EAAGc,KAAKA,IAASA,EAAKqG,iBAAmBM,GAMpD,IAAIC,EAAa1H,EAAGyB,aAA8B,iBAAVjd,QAAsBA,SAAWA,OACrEmjB,EAAW3H,EAAGyB,aAA4B,iBAARlK,MAAoBA,OAASA,KAC/DqQ,EAAa5H,EAAGyB,aAA4B,iBAARrd,MAAoBA,OAASA,KACjET,EAAO+jB,GAAcC,GAAYC,GAAcC,SAAS,cAATA,GAE/CC,EAAWH,GAAYA,EAASG,SAChCC,EAAapkB,EAAKqc,GAGlBgI,EAAYL,GAAYA,EAASK,UACjCC,GAAcD,GAAaA,EAAUC,YAAc,IAAIzK,cACvD0K,GAAaF,GAAaA,EAAUE,WAAa,IAAI1K,cACrD2K,GAAUH,GAAaA,EAAUG,QAAU,IAAI3K,cAqTnD,OAlTAwC,EAAGoI,QAAU,WACT,MAAO,UAAUzX,KAAKuX,IAG1BlI,EAAGoI,QAAQ5G,IAAM,CAAC,OAGlBxB,EAAGqI,aAAe,WACd,MAAO,UAAU1X,KAAKuX,IAAc,SAASvX,KAAKuX,IAGtDlI,EAAGqI,aAAa7G,IAAM,CAAC,OAGvBxB,EAAGsI,cAAgB,WACf,MAAO,UAAU3X,KAAKuX,KAAe,SAASvX,KAAKuX,IAGvDlI,EAAGsI,cAAc9G,IAAM,CAAC,OAGxBxB,EAAGuI,WAAa,WACZ,MAAO,aAAa5X,KAAKuX,IAAc,OAAOvX,KAAKuX,IAGvDlI,EAAGuI,WAAW/G,IAAM,CAAC,OAIrBxB,EAAGwI,OAAS,SAASlI,GACjB,IAAIE,EAAQ,aAAa7P,KAAKwX,GAAUD,EAAU1H,MAAM,2BAA6B,KACrF,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAGwI,OAAOhH,IAAM,CAAC,OAGjBxB,EAAGyI,QAAU,WACT,OAAOzI,EAAGC,IAAIyI,UAAY1I,EAAGC,IAAI0I,UAGrC3I,EAAGyI,QAAQjH,IAAM,CAAC,OAIlBxB,EAAG4I,KAAO,SAAStI,GACf,IAAIE,EAAQ0H,EAAU1H,MAAM,eAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAG4I,KAAKpH,IAAM,CAAC,OAIfxB,EAAG6I,QAAU,SAASvI,GAClB,IAAIE,EAAQ0H,EAAU1H,MAAM,4BAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAG6I,QAAQrH,IAAM,CAAC,OAIlBxB,EAAG8I,GAAK,SAASxI,GACb,IAAIE,EAAQ0H,EAAU1H,MAAM,kCAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAG8I,GAAGtH,IAAM,CAAC,OAGbxB,EAAG+I,IAAM,WACL,OAAO/I,EAAGgJ,UAAYhJ,EAAGiJ,QAAUjJ,EAAGkJ,QAG1ClJ,EAAG+I,IAAIvH,IAAM,CAAC,OAIdxB,EAAGiJ,KAAO,SAAS3I,GACf,IAAIE,EAAQ0H,EAAU1H,MAAM,mBAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAGiJ,KAAKzH,IAAM,CAAC,OAIfxB,EAAGgJ,OAAS,SAAS1I,GAEjB,IAAIE,EAAQ0H,EAAU1H,MAAM,0BAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,IAAM,EAAGF,IAG3DN,EAAGgJ,OAAOxH,IAAM,CAAC,OAIjBxB,EAAGkJ,KAAO,SAAS5I,GACf,IAAIE,EAAQ0H,EAAU1H,MAAM,mBAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAGkJ,KAAK1H,IAAM,CAAC,OAGfxB,EAAGmJ,MAAQ,WACP,MAAO,QAAQxY,KAAKsX,IAGxBjI,EAAGmJ,MAAM3H,IAAM,CAAC,OAGhBxB,EAAGoJ,IAAM,WACL,MAAO,MAAMzY,KAAKsX,IAGtBjI,EAAGoJ,IAAI5H,IAAM,CAAC,OAGdxB,EAAG0I,OAAS,WACR,OAAO1I,EAAGgJ,UAAYhJ,EAAGkJ,QAAUlJ,EAAGqI,gBAAkBrI,EAAGuI,cAAgBvI,EAAGqJ,gBAGlFrJ,EAAG0I,OAAOlH,IAAM,CAAC,OAGjBxB,EAAGsJ,QAAUrJ,EAAID,EAAGuJ,QAEpBvJ,EAAGsJ,QAAQ9H,IAAM,CAAC,OAGlBxB,EAAGuJ,OAAS,WACR,OAAQvB,IAAkC,IAArBA,EAAUwB,QAGnCxJ,EAAGuJ,OAAO/H,IAAM,CAAC,OAIjBxB,EAAGyJ,MAAQ,SAASnJ,GAChB,IAAIE,EAAQ0H,EAAU1H,MAAM,mCAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAGyJ,MAAMjI,IAAM,CAAC,OAIhBxB,EAAG0J,QAAU,SAASpJ,GAClB,IAAIE,EAAQ0H,EAAU1H,MAAM,oBAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAG0J,QAAQlI,IAAM,CAAC,OAIlBxB,EAAG2J,OAAS,SAASrJ,GACjB,IAAIE,EAAQ0H,EAAU1H,MAAM,2BAC5B,OAAiB,OAAVA,GAAkBJ,EAAeI,EAAM,GAAIF,IAGtDN,EAAG2J,OAAOnI,IAAM,CAAC,OAGjBxB,EAAG2I,OAAS,WACR,OAAO3I,EAAGiJ,QAAUjJ,EAAGsI,iBAAmBtI,EAAG4J,iBAGjD5J,EAAG2I,OAAOnH,IAAM,CAAC,OAGjBxB,EAAG6J,YAAc,WACb,QAAS/B,IAAa,iBAAkBH,GACnC,kBAAmBA,GAAYG,aAAoBgC,gBAG5D9J,EAAG6J,YAAYrI,IAAM,CAAC,OAGtBxB,EAAG+J,QAAU,WACT,MAAO,MAAMpZ,KAAKsX,IAGtBjI,EAAG+J,QAAQvI,IAAM,CAAC,OAGlBxB,EAAGqJ,aAAe,WACd,OAAOrJ,EAAG+J,WAAa,QAAQpZ,KAAKuX,IAGxClI,EAAGqJ,aAAa7H,IAAM,CAAC,OAGvBxB,EAAG4J,cAAgB,WACf,OAAO5J,EAAG+J,WAAa/J,EAAGC,IAAIoJ,gBAAkB,QAAQ1Y,KAAKuX,IAGjElI,EAAG4J,cAAcpI,IAAM,CAAC,OAMxBxB,EAAGgK,cAAgB,SAAS/d,EAAQrG,GAChC,GAAIoa,EAAGC,IAAIhU,OAAOA,IAAW+T,EAAGC,IAAIkB,OAAOvb,GACvC,OAAO,EAEX,IAAIqS,EAAI,EACR,IAAK,IAAIgS,KAAYhe,EACjB,GAAI9F,EAAejB,KAAK+G,EAAQge,MAAehS,EAAIrS,EAC/C,OAAO,EAGf,OAAOqS,IAAMrS,GAGjBoa,EAAGgK,cAAcxI,IAAM,CAAC,OAGxBxB,EAAGkK,gBAAkB,SAASje,EAAQge,GAClC,OAAOjK,EAAG/T,OAAOA,IAAW+T,EAAGO,OAAO0J,IAAaA,KAAYhe,GAGnE+T,EAAGkK,gBAAgB1I,IAAM,CAAC,OAM1BxB,EAAGmK,QAAU,SAASxjB,EAAOga,GACzB,GAAIX,EAAGC,IAAIU,MAAMA,GACb,OAAO,EAEX,IAAK,IAAI7a,EAAI,EAAGA,EAAI6a,EAAMtb,OAAQS,IAC9B,GAAI6a,EAAM7a,KAAOa,EACb,OAAO,EAGf,OAAO,GAGXqZ,EAAGmK,QAAQ3I,IAAM,CAAC,OAGlBxB,EAAGoK,OAAS,SAASzJ,EAAO0J,GACxB,GAAIrK,EAAGC,IAAIU,MAAMA,GACb,OAAO,EAGX,IADA,IAAI2J,EAAYlc,EAAWic,IAASjc,EAAW,MACtCtI,EAAI,EAAGA,EAAI6a,EAAMtb,OAAQS,IAC9B,IAAKwkB,EAAU3J,EAAM7a,GAAI6a,EAAM7a,EAAI,IAC/B,OAAO,EAGf,OAAO,GAOX,WACI,IAAIoQ,EAAU8J,EACd,IAAK,IAAI5J,KAAUF,EACf,GAAI/P,EAAejB,KAAKgR,EAASE,IAAW4J,EAAa,SAAE9J,EAAQE,IAE/D,IADA,IAAImU,EAAarU,EAAQE,GAAQoL,KAAO,CAAC,MAAO,MAAO,OAC9C1b,EAAI,EAAGA,EAAIykB,EAAWllB,OAAQS,IACb,QAAlBykB,EAAWzkB,KACXka,EAAGC,IAAI7J,GAAU6J,EAAID,EAAG5J,KAEN,QAAlBmU,EAAWzkB,KACXka,EAAG/R,IAAImI,GAAUnI,EAAI+R,EAAG5J,KAEN,QAAlBmU,EAAWzkB,KACXka,EAAGjS,IAAIqI,GAAUrI,EAAIiS,EAAG5J,KAM5CoU,GAUAxK,EAAGyK,aAAe,WAEd,OADA9mB,EAAKqc,GAAK+H,EACH3jB,MAIX4b,EAAG0K,UAAY,SAAStJ,EAAQ1W,GAC5B,IAAK,IAAI4P,KAAKsI,EACNzc,EAAejB,KAAK0d,EAAStI,IAAO5P,IAAS4P,IAC7CsI,EAAQtI,GAAK8G,IAKlBpB,EA33BmB2K,IACrB,+B,aCPT,SAASC,EAAWC,EAAUC,GAC5B,IAAIC,EAAQ,GAAI9kB,EAAO,GAOvB,OALqB,MAAjB6kB,IAAuBA,EAAgB,SAAS1jB,EAAKT,GACvD,OAAIokB,EAAM,KAAOpkB,EAAc,eACxB,eAAiBV,EAAK4I,MAAM,EAAGkc,EAAM3b,QAAQzI,IAAQsO,KAAK,KAAO,MAGnE,SAAS7N,EAAKT,GACnB,GAAIokB,EAAM1lB,OAAS,EAAG,CACpB,IAAI2lB,EAAUD,EAAM3b,QAAQhL,OAC3B4mB,EAAUD,EAAM7gB,OAAO8gB,EAAU,GAAKD,EAAM3kB,KAAKhC,OACjD4mB,EAAU/kB,EAAKiE,OAAO8gB,EAASrU,IAAUvP,GAAOnB,EAAKG,KAAKgB,IACtD2jB,EAAM3b,QAAQzI,KAAQA,EAAQmkB,EAAc5lB,KAAKd,KAAMgD,EAAKT,SAE9DokB,EAAM3kB,KAAKO,GAEhB,OAAmB,MAAZkkB,EAAmBlkB,EAAQkkB,EAAS3lB,KAAKd,KAAMgD,EAAKT,KAxBrDkM,EAAOC,QAGjB,SAAmB7N,EAAK4lB,EAAUI,EAAQH,GACxC,OAAOI,KAAKC,UAAUlmB,EAAK2lB,EAAWC,EAAUC,GAAgBG,KAH1DG,aAAeR,G,sBCCvB/X,EAAOC,QAAU,MACf,YAAYuY,GACVjnB,KAAKinB,MAAQA,EAGf,IAAI7Q,GACF,OAAQpW,KAAKknB,QACTC,QAAQC,QAAQpnB,KAAKknB,SACrBlnB,KAAKinB,MAAMlR,MACVsR,MAAKtiB,GAcd,SAAeA,GACb,OAAOA,EAAO+hB,KAAKQ,MAAMviB,GAAQA,EAfbuiB,CAAMviB,KACnBsiB,MAAKtiB,IACJ/E,KAAKknB,QAAUniB,EACRA,MAEZsiB,MAAKtiB,GAiBV,SAAyBqR,EAAMvO,GAC7B,OAAKuO,EAEEA,EAAKyJ,MAAM,OAAOhX,QAAO,CAACC,EAAM9F,IACzB8U,MAARhP,EAA4BA,EACzBA,EAAK9F,IACX6E,GALiBA,EAlBJ0f,CAAgBnR,EAAMrR,KAGtC,IAAIqR,EAAM7T,GACR,OAAOvC,KAAK+V,MAAMsR,MAAKtiB,GACrB/E,KAAKinB,MAAMO,IAQjB,SAAmBziB,GACjB,OAAO+hB,KAAKC,UAAUhiB,GATHgiB,CAqBrB,SAA0B3Q,EAAM7T,EAAOsF,GAGrC,OAFKA,IAAUA,EAAS,IAEjBuO,EAAKyJ,MAAM,OAAOhX,QAAO,CAACC,EAAM9F,EAAKtB,EAAGkC,IACzClC,IAAMkC,EAAE3C,OAAS,GACnB6H,EAAK9F,GAAOT,EACLsF,GACeiQ,MAAbhP,EAAK9F,IACd8F,EAAK9F,GAAO,GACL8F,EAAK9F,IAEP8F,EAAK9F,IACX6E,GAjC0B4f,CAAiBrR,EAAM7T,EAAOwC,U,4BCnB7D,MAAMwW,EAAK,EAAQ,MACblF,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBoR,EAAc,EAAQ,MACtBC,EAAgB,EAAQ,MACxBC,EAAiB,EAAQ,MACzBC,EAAmB,EAAQ,MAC3BC,EAAQ,EAAQ,MAChBC,EAAa,EAAQ,MACrBC,EAAgB,EAAQ,MACxBC,EAAe,EAAQ,MACvBC,EAAe,EAAQ,MACvBC,EAAc,EAAQ,OACtB,OAAEC,GAAWT,GACb,MAAEU,EAAK,eAAEC,EAAc,kBAAEC,GAAsB,EAAQ,MACvDC,EAAO,EAAQ,MAEfC,EAAU,CACdL,SAEAM,QAAS,IAAIT,EAEbU,aAAc,IAAIT,EAAa,IAAIC,GAEnCS,sBAAuB,QAEvB,qBACEjB,EAAckB,qBACd7oB,KAAK8oB,QAAQD,sBAGf,eAAezkB,GACb,OAAOpE,KAAKma,WAAW/V,GACpBijB,MAAK0B,GAAQjB,EAAMkB,mBAAmBD,KACtC1B,MAAKtiB,GAAQ+hB,KAAKQ,MAAMviB,MAG7B,cACE,OAAO/E,KAAKma,QAAQ,CAClB/D,KAAM,yBACNiE,OAAQ,QAEPgN,MAAK,KAAM,IACX4B,OAAM,KAAM,KAGjB,eAAejmB,EAAKT,GAClB,OAAOvC,KAAKkpB,YAAY,CACtB9S,KAAM,uBAAuBpT,IAC7BqX,OAAQ,QACPyM,KAAKC,UAAUxkB,KAGpB,eAAeS,GACb,OAAOhD,KAAKkpB,YAAY,CACtB9S,KAAM,uBAAuBpT,IAC7BqX,OAAQ,SAIZ,sBACE,OAAOoO,EAAQU,eAAe,oBAC3B9B,MAAK+B,GAAOA,EAAMljB,KAAKmP,IAAI,EAAG,MAC9B4T,OAAMjiB,GAAKhH,KAAK4oB,yBAGrB,wBACE,OAAO5oB,KAAKkpB,YAAY,CACtB9S,KAAM,0BAIV,sBAAsBiT,EAAQC,EAAW,UACvChB,EAAetoB,KAAKupB,sBAAuBF,EAAQC,GACnD,MAAMlT,EAAOoS,EAAKgB,mBAAmBH,EAAQC,GAC7C,OAAOtpB,KAAKkpB,YAAY,CAAE9S,UAG5BqT,oBAAmB,IACV9B,EAAc+B,kBAClBrC,MAAK,IAAMS,EAAM6B,eAChBhC,EAAciC,sBACd,IAAIhC,EAAe,gCAAiC,CAClD7Y,MAAOqZ,EAAOyB,mBAItB,iBAAiB/K,EAAOgL,GAEtB,OADAxB,EAAetoB,KAAK+pB,iBAAkBjL,EAAOgL,GACtC9pB,KAAKypB,sBACTpC,MAAK,IAAMrnB,KAAKma,QAAQ,CACvB/D,KAAM,mBACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,wBAEjB,CAAE6G,QAAOgL,eACXzC,MAAK,IAAMrnB,KAAKgqB,gBAGrB,sBAAsBhnB,GAMpB,OADAslB,EAAetoB,KAAKiqB,sBAAuBjnB,GACpC2kB,EAAc+B,kBAClBrC,MAAK,IAAMrnB,KAAKma,QAAQ,CACvB/D,KAAM,0BACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,wBAEjB,CAAEjV,UACJqkB,MAAK0B,GAAQ/oB,KAAKgqB,gBAGvB,aACE,OAAOhqB,KAAKkpB,YAAY,CACtB9S,KAAM,kBACNiE,OAAQ,QAEPgN,MAAKtiB,GAAQA,EAAKmlB,IAAMlqB,KAAK2oB,aAAanB,IAAI,aAAcziB,EAAKmlB,MACjEjB,OAAM,UAGX,uBAAuB9R,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,EAAW,UACpE7B,EAAetoB,KAAKoqB,uBAAwBjT,EAAU7B,EAAQ6K,EAAUgK,GACxE,MAAM/T,EAAOoS,EAAK6B,UAAUlT,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,GAEhE,OAAOnqB,KAAKkpB,YAAY,CAAE9S,UAG5B,wBAAwBe,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,EAAW,UAErE,OADA7B,EAAetoB,KAAKsqB,wBAAyBnT,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,GAC1EnqB,KAAKoqB,uBAAuBjT,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,GACpE9C,MAAKtiB,GAAQ/E,KAAKuqB,uBAAuBxlB,MAG9C,uBAAuBA,GACrB,MAAMmlB,EAAKnlB,EAAKylB,OAAO,GAAGN,GAC1B,OAAQO,EAAUP,GAId,CAACnlB,GAHD/E,KAAK0qB,yBAAyBR,GAC7B7C,MAAKsD,GAAU,CAAC5lB,EAAM4lB,KACtB1B,OAAMhmB,GAAO,CAAC8B,MAIrB,yBAAyBmlB,GAEvB,OADA5B,EAAetoB,KAAK0qB,yBAA0BR,GACvClqB,KAAKkpB,YAAY,CACtB9S,KAAM,sBAAsB8T,OAIhC,wBAAwBA,GAEtB,OADA5B,EAAetoB,KAAK4qB,wBAAyBV,GACtClqB,KAAKkpB,YAAY,CACtB9S,KAAM,qBAAqB8T,MAE1B7C,MAAKsD,IACAA,EAAOpoB,OAASkoB,EAAUE,EAAOpoB,MAAM2nB,MACzCS,EAAOpoB,MAAM2nB,GAAKA,GAEbS,MAIb,oBAAoBT,EAAIW,EAAO,EAAGnoB,EAAQ,KACxC4lB,EAAetoB,KAAK8qB,oBAAqBZ,GACzC,MAAM9T,EAAOoS,EAAKuC,YAAYb,EAAIW,EAAMnoB,GAExC,OAAO1C,KAAKkpB,YAAY,CAAE9S,UAG5B,wBAAwB8T,EAAIW,EAAO,EAAGnoB,EAAQ,KAC5C4lB,EAAetoB,KAAKgrB,wBAAyBd,GAC7C,MAAM9T,EAAOoS,EAAKyC,WAAWf,EAAIW,EAAMnoB,GAEvC,OAAO1C,KAAKkpB,YAAY,CAAE9S,UAG5B,kBAAkB8T,GAEhB,OADA5B,EAAetoB,KAAKkrB,kBAAmBhB,GAChClqB,KAAKkpB,YAAY,CACtB9S,KAAM,sBAAsB8T,MAE3B7C,MAAKsD,IACAA,EAAOpoB,OAASkoB,EAAUE,EAAOpoB,MAAM2nB,MACzCS,EAAOpoB,MAAM2nB,GAAKA,GAEbS,MAIb,oBAAoBT,GAElB,OADA5B,EAAetoB,KAAKmrB,oBAAqBjB,GAClClqB,KAAKkpB,YAAY,CACtB9S,KAAM,wBAAwB8T,OAIlC,qBACE,OAAOlqB,KAAKkpB,YAAY,CAAE9S,KAAM,uBAGlC,UAAUe,GACR,OAAOA,EACHnX,KAAKkpB,YAAY,CAAE9S,KAAMoS,EAAK4C,WAAWjU,KACxC8R,OAAOhmB,IAAQ,CAAGooB,OAAQ,YAC3BlE,QAAQC,QAAQ,CAAEiE,OAAQ,WAGhC,eAAezmB,GAEb,OADA0jB,EAAetoB,KAAKsrB,eAAgB1mB,QACfkT,IAAjBlT,EAAQ2mB,KACHpE,QAAQC,QAAQ,IAElBpnB,KAAKkpB,YAAY,CACtB9S,KAAM,6BACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfyiB,MAAKtiB,GAAQA,EAAKymB,aAAe,KACjCvC,OAAMjiB,GAAK,MAGhB,kBAAkBmQ,GAChB,OAAOnX,KAAKkpB,YACV,CACE9S,KAAM,2BACNiE,OAAQ,QAEVyM,KAAKC,UAAU,CAAE5P,eAIrB,mBAAmBkS,EAAQoC,EAAqBtU,EAAUuU,EAAMC,GAC9D,OAAO3rB,KAAKma,QACV,CACE/D,KAAM,0BACNiE,OAAQ,QAEVyM,KAAKC,UAAU,CACbsC,SACAoC,sBACAG,SAAU,CACRzU,WACAuU,OACAC,iBAMR,wBAAwBxU,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,EAAW,UACrE7B,EAAetoB,KAAK6rB,wBAAyB1U,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,GAEjF,MAAMvlB,EAAU,CACd2mB,KAAMjW,EACN+T,SACAlS,WACA2U,aAAc3L,EACd4L,gBAAiB5B,GAGnB,OAAOnqB,KAAKkpB,YAAY,CACtB9S,KAAM,+BACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,kBAAkB+C,GAEhB,OADA1D,EAAetoB,KAAKisB,kBAAmBD,GAChChsB,KAAKkpB,YAAY,CAAE9S,KAAM,oCAAoC/F,mBAAmB2b,OACpF/C,OAAM,UAGX,iBAAiB+C,EAAOxoB,EAAU,GAEhC,OADA8kB,EAAetoB,KAAKksB,iBAAkBF,EAAOxoB,GACtCxD,KAAKkpB,YAAY,CAAE9S,KAAM,mCAAmC/F,mBAAmB2b,cAAkBxoB,MACrGylB,OAAM,UAGX,mBAAmB9R,EAAU7B,EAAQ6W,GACnC7D,EAAetoB,KAAKosB,mBAAoBjV,EAAU7B,EAAQ6W,GAE1D,MAAMvnB,EAAU,CACdynB,SAAUrsB,KAAKssB,uBAAuB,sBAAuBH,GAC7DI,OAAQjX,EACR6B,WACAmS,SAAU,UAGZ,OAAOtpB,KAAKkpB,YAAY,CACtB9S,KAAM,gCACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,wBAAwBhN,EAASkQ,GAC/B7D,EAAetoB,KAAKwsB,wBAAyBvQ,EAASkQ,GAEtD,MAAMvnB,EAAU,CACdynB,SAAUrsB,KAAKssB,uBAAuB,qBAAsBH,GAC5D7C,SAAU,SACVrN,WAGF,OAAOjc,KAAKkpB,YAAY,CACtB9S,KAAM,qCACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,uBAAuBwD,EAAON,GAG5B,OAFA7D,EAAetoB,KAAKssB,uBAAwBG,EAAON,GACnD5D,EAAkBvoB,KAAKssB,uBAAwBH,EAAY,aAAc,SAAU,kBAC5E9D,EAAM,CACXoE,QACAC,QAAS1sB,KAAK2sB,aACbR,IAGLQ,UAAS,KACA,CACLC,OAAQ,QACRC,MAAO,UACP9H,MAAO,SACPxJ,EAAGE,aAGP,uBAAuBtE,EAAU7B,EAAQ6W,GACvC7D,EAAetoB,KAAK8sB,uBAAwB3V,EAAU7B,EAAQ6W,GAE9D,MAAMvnB,EAAU,CACdynB,SAAUrsB,KAAKssB,uBAAuB,oBAAqBH,GAC3DI,OAAQjX,EACR6B,WACAmS,SAAU,UAGZ,OAAOtpB,KAAKma,QAAQ,CAClB/D,KAAM,mDACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,4BAA4B/Q,EAAU6U,EAAUZ,GAC9C7D,EAAetoB,KAAKgtB,4BAA6B9U,EAAU6U,EAAUZ,GAErE,MAAMvnB,EAAU,CACdynB,SAAUrsB,KAAKssB,uBAAuB,mBAAoBH,GAC1DjU,WACA6U,YAGF,OAAO/sB,KAAKma,QAAQ,CAClB/D,KAAM,yCACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,gCAAgC/Q,EAAU+U,EAAkBd,GAC1D7D,EAAetoB,KAAKktB,gCAAiChV,EAAU+U,EAAkBd,GAEjF,MAAMvnB,EAAU,CACdynB,SAAUrsB,KAAKssB,uBAAuB,wBAAyBH,GAC/DjU,WACAiV,cAAe,IAAIjM,KAAS+L,GAG9B,OAAOjtB,KAAKma,QAAQ,CAClB/D,KAAM,wCACNiE,OAAQ,QACPyM,KAAKC,UAAUniB,IACfqkB,OAAM,UAGX,kBAAkB3iB,GAGhB,OAFAgiB,EAAetoB,KAAKotB,kBAAmB9mB,GAEhCtG,KAAKma,QAAQ,CAClB/D,KAAM,8BACNiE,OAAQ,QACPyM,KAAKC,UAAU,CAChBzgB,OACA/D,MAAO,MAIX,iBAAiB+D,EAAM+iB,GACrBf,EAAetoB,KAAKqtB,iBAAkB/mB,EAAM+iB,GAC5CrpB,KAAKotB,kBAAkB,GAAG/D,KAAU/iB,gBAGtC,iBAAiBA,EAAM+iB,GACrBf,EAAetoB,KAAKstB,iBAAkBhnB,EAAM+iB,GAC5CrpB,KAAKotB,kBAAkB,GAAG/D,KAAU/iB,gBAGtC,eAAeA,EAAM+iB,EAAQkE,EAAS,IACpCjF,EAAetoB,KAAKwtB,eAAgBlnB,EAAM+iB,GAC1CrpB,KAAKotB,kBAAkB,GAAG/D,KAAU/iB,YAAeinB,MAGrDzE,QAAS,CACPjQ,OAAQ8O,EAAc9O,OAEtB,WAAW4B,EAAUH,EAAMmT,EAAMC,GAC/B1tB,KAAK6Y,OAAO4B,SAAWA,EACvBza,KAAK6Y,OAAOyB,KAAOA,EACnBta,KAAK6Y,OAAO4U,KAAOA,EACnBztB,KAAK6Y,OAAO6B,SAAWgT,EAAMpX,EAAQD,GAGvC,kBAEA,qBACMrW,KAAK6Y,kBAAkBkP,EACzB/nB,KAAK6Y,OAAS,IAAImP,EAAchoB,KAAK6Y,OAAO4B,SAAUza,KAAK6Y,OAAOyB,KAAMta,KAAK6Y,OAAO4U,KAAMztB,KAAK6Y,OAAO6B,WAAapE,GAEnHtW,KAAK6Y,OAAS,IAAIkP,EAAW/nB,KAAK6Y,OAAO4B,SAAUza,KAAK6Y,OAAOyB,KAAMta,KAAK6Y,OAAO4U,KAA+B,UAAzBztB,KAAK6Y,OAAO6B,WAIvG,WAAW3V,GACT,OAAKA,GAASA,EAAK+Z,MAGZ9e,KAAK6Y,OAAOsB,QAAQ,CACzB/D,KAAM,2BACNiE,OAAQ,QACPyM,KAAKC,UAAUhiB,IACfsiB,KAAKsG,EAA6B,0BAN5BxG,QAAQ5d,OAAO,IAAIzJ,MAAM,uBASpC,cAAciF,EAAMvC,GAClB,IAAKuC,IAASA,EAAK+Z,MACjB,OAAOqI,QAAQ5d,OAAO,IAAIzJ,MAAM,sBAGlC,MAAMonB,EAAUQ,EAAYX,UAAUhiB,GACtC,IAAI6oB,EAmBJ,OAjBEA,EADE7oB,EAAK+kB,SACG9pB,KAAK6Y,OAAOsB,QAAQ,CAC5B/D,KAAM,sBACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,sCAEjBiP,GAEOlnB,KAAK6Y,OAAOsB,QAAQ,CAC5B/D,KAAM,kCACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,sCAEjBiP,GAGE0G,EAAQvG,KAAKsG,EAA6B,8BAA+BnrB,KAGlF,MAAMuC,EAAMvC,GACV,IAAKuC,EACH,OAAOoiB,QAAQ5d,OAAO,IAAIzJ,MAAM,2BAElC,IAAKiF,EAAK+Z,MACR,OAAOqI,QAAQ5d,OAAO,IAAIzJ,MAAM,sBAElC,IAAKiF,EAAK+kB,SACR,OAAO3C,QAAQ5d,OAAO,IAAIzJ,MAAM,yBAElC,MAAMonB,EAAUQ,EAAYX,UAAUhiB,GACtC,OAAO/E,KAAK6Y,OAAOsB,QAAQ,CACzB/D,KAAM,qBACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,sCAEjBiP,GACAG,KAAKsG,EAA6B,4BAA6BnrB,KAGpE,cAAcuC,EAAMvC,GAClB,IAAKuC,IAASA,EAAK+Z,MACjB,OAAOqI,QAAQ5d,OAAO,IAAIzJ,MAAM,sBAElC,MAAMonB,EAAUQ,EAAYX,UAAUhiB,GACtC,OAAO/E,KAAK6Y,OAAOsB,QAAQ,CACzB/D,KAAM,sCACNiE,OAAQ,OACRpC,QAAS,CACP,eAAgB,sCAEjBiP,GACAG,KAAKsG,EAA6B,4BAA6BnrB,OAKlEioB,EAAaP,IAChBA,GAAa,KAAPA,IACe,IAArBA,EAAGlf,QAAQ,MAAoC,KAArBkf,EAAGrK,MAAM,KAAK,GAOrC8N,EAA+B,CAACla,EAASjR,IAAaumB,IAC1DvmB,GAAYA,EAASumB,GACd,IAAI5B,SAAQ,CAACC,EAAS7d,KACvBwf,EAAK8E,YAAc,IACrB/F,EAAMkB,mBAAmBD,GAAM1B,MAAKyG,IAClCvkB,EAAO,IAAIse,EAAiBpU,EAAS,CACnCsa,eAAgBhF,EAAK8E,WACrB3V,SAAU6Q,EACViF,aAAcF,OAEfvkB,GAEH6d,EAAQ2B,OAjBG,IAAUzT,EAAQ4K,EAAR5K,EAsDxBqS,EAtDgCzH,EAsDjBuI,EAhCT,CACP,OACA,iBACA,aACA,uBACA,cACA,eACA,sBACA,aACA,uBACA,oCACA,0BACA,cACA,UACA,4BACA,0BACA,kBACA,kBACA,gBACA,kBACA,gBACA,uBACA,sBACA,mBACA,UACA,qBACA,UACA,iBACA,oBACA,2BACA,qBACA,eApDQnhB,SAAQ+S,GAAU6F,EAAO7F,GAAU,IAAIjW,IAASkR,EAAO+E,MAAWjW,KAuD5EqK,EAAOC,QAAU+Z,G,sBCvjBjBha,EAAOC,QAAU,MACf,eAEA,IAAIwY,GAEF,OADAlnB,KAAKknB,QAAUA,EACRC,QAAQC,UAEjB,MACE,OAAOD,QAAQC,QAAQpnB,KAAKknB,Y,4BCRhC,MAAM+G,EAAM,EAAQ,MAuDpB,SAASC,EAAUC,GACjB,OAAOC,UAAUD,GAChBhZ,QAAQ,YAAa,eACrBA,QAAQ,aAAc,KAGzB1G,EAAOC,QAAU,CACfwf,YACA1E,mBA7DF,SAA4BH,EAAQC,GAClC,MAAO,CACL,qCAAsC,CACpC,UAAUD,IACV,YAAYC,KACZzY,KAAK,MACPA,KAAK,MAwDPwZ,UArDF,SAAmBlT,EAAU7B,EAAQ6K,EAAUkJ,EAAQc,GACrD,MAAMpb,EAAQkf,EAAI3Y,GAElB,MAAO,CACL,eAAe+T,KAFF6E,EAAU/W,MAEYpI,UACnC,CACE,gBAAgBoR,IAChB,mBAAmBgK,KACnBtZ,KAAK,MACPA,KAAK,MA6CPka,YA1CF,SAAqBb,EAAIW,EAAMnoB,GAC7B,MAAO,CACL,qBAAqBwnB,YACrB,CACE,UAAUW,IACV,SAASnoB,KACTmO,KAAK,MACPA,KAAK,MAoCPwd,eAfF,SAAwBjY,GACtB,MAAO,kCAAkCgY,UAAUhY,MAenDkY,iBAxBF,SAA0BlY,GACxB,MAAO,0CAA0CgY,UAAUhY,MAwB3DgV,WArBF,SAAoBhV,GAClB,MAAO,8BAA8BgY,UAAUhY,MAqB/C6U,WApCF,SAAoBf,EAAIW,EAAMnoB,GAC5B,MAAO,CACL,qBAAqBwnB,WACrB,CACE,UAAUW,IACV,SAASnoB,KACTmO,KAAK,MACPA,KAAK,Q,sBCMTpC,EAAOC,QAAU,CACf6Z,kBAdF,SAA2B3oB,EAAI2uB,EAAKC,KAAY3sB,GAC9C,MAAM4sB,EAAc,GAIpB,GAHA5sB,EAAKyF,SAAQ,CAACtE,EAAKtB,KACD,MAAZ6sB,EAAIvrB,IAAgByrB,EAAYzsB,KAAKgB,MAEvCyrB,EAAYxtB,OACd,MAAM,IAAInB,MACR,wBACE2uB,EAAYxtB,OAAS,EAAI,IAAM,MAC7BwtB,EAAY5d,KAAK,qBAAqB2d,QAAc5uB,EAAG0G,SAM/DgiB,eA3BF,SAAwB1oB,KAAOwE,GAC7B,MAAOkC,EAAMooB,GAPf,SAAwB9uB,GACtB,MAAO,CAAE0G,EAAMqoB,GAAa,oBAAoBC,KAAKhvB,EAAGa,YAExD,MAAO,CAAC6F,EADWqoB,EAAU9O,MAAM,SAKRgP,CAAejvB,GACpCkvB,EAAmB,GAIzB,GAHA1qB,EAAKkD,SAAQ,CAACinB,EAAK7sB,KACN,MAAP6sB,GAAeO,EAAiB9sB,KAAK0sB,EAAWhtB,OAElDotB,EAAiB7tB,OACnB,MAAM,IAAInB,MACR,mBAAmBgvB,EAAiB7tB,OAAS,EAAI,IAAM,MAAM6tB,EAAiBje,KAAK,YAAYvK,MAoBnG+hB,MAjDF,SAAezkB,EAAGC,GAChB,MAAM8Q,EAAI,GACV,IAAK,MAAM7S,KAAK8B,EAAK+Q,EAAE7S,GAAK8B,EAAE9B,GAC9B,IAAK,MAAMA,KAAK+B,EAAK8Q,EAAE7S,GAAK+B,EAAE/B,GAC9B,OAAO6S,GA8CPpL,OA3CF,SAAgBvG,EAAKY,GACnB,MAAMC,EAAI,GACV,IAAK,MAAM/B,KAAK8B,EACV9B,IAAMkB,IAAOa,EAAE/B,GAAK8B,EAAE9B,IAE5B,OAAO+B,K,4BCZT,MAAMikB,EAAQ,EAAQ,MAuBtBrZ,EAAOC,QAAU,MACf,YAAY+L,EAAUH,EAAMmT,EAAMC,GAChCD,EAAOA,GAAQ,GACfC,EAAMA,IAAO,EACb1tB,KAAKya,SAAWA,EAChBza,KAAKsa,KAAOA,EACZta,KAAKytB,KAAOA,EACZztB,KAAK0a,SAAWgT,EAAM,QAAU,OAChC1tB,KAAK+uB,QAAU,GAGjB,QAAQC,EAAMjqB,EAAMkqB,GAClB,MAAMC,EAASlvB,KAAKsa,OAAuB,IAAfta,KAAKsa,KAC7B,GAAGta,KAAKya,YAAYza,KAAKsa,OACzBta,KAAKya,SACH+E,EAAM,GAAGxf,KAAK0a,cAAcwU,IAASlvB,KAAKytB,OAAOuB,EAAK5Y,OACtDiE,EAAS2U,EAAK3U,QAAU,MAE9B,OAAO,IAAI8M,SAAQ,CAACC,EAAS7d,KAC3B,MAAMyiB,EAAQ,IAAImD,eAmBlB,GAlBAnD,EAAMoD,iBAAiB,QAAS7lB,GAChCyiB,EAAMoD,iBAAiB,QAAS7lB,GAChCyiB,EAAMoD,iBAAiB,QAAQ,KAC7B,MAAMC,EAAMrD,EAAMsD,aAElBlI,EA9Ce,EAACiE,EAAQgE,EAAKE,EAAKtX,EAAU,MAClD,MAAM8Q,EAAO,CACX8E,WAAYxC,EACZkE,MACA,GAAG9C,EAAOjqB,GACR,OAAQiqB,GACN,IAAK,OACHjqB,EAAS6sB,GACT,MACF,IAAK,MACH7sB,OAKR,IAAK,IAAIV,KAAKmW,EAAW8Q,EAAKjnB,GAAKmW,EAAQnW,GAG3C,OAFAinB,EAAK9Q,QAAU8Q,EAAK9Q,SAAW,GAExB8Q,GA4BOyG,CAAexD,EAAMX,OAAQgE,EAAK,CACxChV,SACAjE,KAAM4Y,EAAK5Y,KACXoJ,YAIJwM,EAAMyD,KAAKpV,EAAQmF,GACfyP,IACFjD,EAAMiD,QAAUA,EAChBjD,EAAM0D,UAAY,KAAQnmB,EAAO,IAAIzJ,MAAM,sBAGzCkvB,EAAK/W,QAAS,CAChB,GAAqC,wBAAjC+W,EAAK/W,QAAQ,iBACoB,wBAAjC+W,EAAK/W,QAAQ,gBAA2C,QACnD+W,EAAK/W,QAAQ,uBACb+W,EAAK/W,QAAQ,gBAEpB,MAAM0X,EAAO,IAAI/Y,SAEjB,IAAK,MAAM5T,KAAO+B,EAChB4qB,EAAKtd,OAAOrP,EAAK+B,EAAK/B,IAExB+B,EAAO4qB,EAGT,IAAK,MAAMtY,KAAU2X,EAAK/W,QACxB+T,EAAM4D,iBAAiBvY,EAAQ2X,EAAK/W,QAAQZ,IAG3C2X,EAAK/W,SAAY+W,EAAK/W,QAAQ,kBACjC+T,EAAM4D,iBAAiB,gBAAiB,6BAG1C5D,EAAM6D,KAAK9qB,MAIf,YAAYgkB,GACVjB,EAAMgI,gBAAgB/G,EAAK9Q,QAAQ,eAAe3Q,SAAQqN,IACxD3U,KAAK+uB,QAAQpa,EAAEob,MAAQpb,KAI3B,aAAaqb,GACX,IAAIjB,EAAU,GACd,IAAK,IAAIjtB,KAAK9B,KAAK+uB,QACjBA,EAAQ/sB,KAAKhC,KAAK+uB,QAAQjtB,IAExBitB,EAAQ9tB,SACV+uB,EAAKC,QAAUnI,EAAMoI,YAAYnB,O,4BCnGvC,MAAM1Y,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBM,EAAW,EAAQ,MAEnBkR,EAAQ,EAAQ,MAEtBrZ,EAAOC,QAAU,MACf,YAAY+L,EAAUH,EAAMmT,EAAO,GAAIC,GAAM,GAC3C1tB,KAAKya,SAAWA,EAChBza,KAAKsa,KAAOA,EACZta,KAAKytB,KAAOA,EACZztB,KAAK0a,SAAWgT,EAAMpX,EAAQD,EAC9BrW,KAAK+uB,QAAU,GAGjB,QAAQC,EAAMjqB,EAAMkqB,GAClB,OAAO,IAAI9H,SAAQ,CAACC,EAAS7d,KAC3B,IAAIomB,EAQJ,GANAX,EAAKvU,SAAWza,KAAKya,SACjBza,KAAKsa,KAAO,IAAK0U,EAAK1U,KAAOta,KAAKsa,MACtC0U,EAAK5Y,KAAOpW,KAAKytB,KAAOuB,EAAK5Y,KAC7B4Y,EAAK/W,QAAU+W,EAAK/W,SAAW,GAC/BjY,KAAKmwB,aAAanB,EAAK/W,SAEc,wBAAjC+W,EAAK/W,QAAQ,iBACoB,wBAAjC+W,EAAK/W,QAAQ,gBAA2C,QACnD+W,EAAK/W,QAAQ,uBACb+W,EAAK/W,QAAQ,gBAEpB0X,EAAO,IAAI/Y,EACX,IAAK,MAAM5T,KAAO+B,EAChB4qB,EAAKtd,OAAOrP,EAAK+B,EAAK/B,IAGxB,MAAMiV,EAAU0X,EAAK1W,aACrB,IAAK,MAAMjW,KAAOiV,EAChB+W,EAAK/W,QAAQjV,GAAOiV,EAAQjV,GAIhC,MAAMusB,EAAMvvB,KAAK0a,SAASP,QAAQ6U,GAAMjG,IACtC/oB,KAAKowB,YAAYrH,GACjB3B,EAAQ2B,MAEVwG,EAAI9c,GAAG,SAASxP,GAAOsG,EAAOtG,KACf,MAAXgsB,GACFM,EAAIloB,WAAW4nB,GAAS,IAAM1lB,EAAO,IAAIzJ,MAAM,cAE7C6vB,EACFA,EAAK/c,KAAK2c,IAENxqB,GAAQwqB,EAAIrc,MAAMnO,GACtBwqB,EAAIpiB,UAKV,YAAY4b,GACVjB,EAAMgI,gBAAgB/G,EAAK9Q,QAAQ,eAAe3Q,SAAQqN,IACxD3U,KAAK+uB,QAAQpa,EAAEob,MAAQpb,KAI3B,aAAaqb,GACX,MAAMjB,EAAU,GAChB,IAAK,IAAIjtB,KAAK9B,KAAK+uB,QACjBA,EAAQ/sB,KAAKhC,KAAK+uB,QAAQjtB,IAExBitB,EAAQ9tB,SACV+uB,EAAKC,QAAUnI,EAAMoI,YAAYnB,O,sBCtEvCtgB,EAAOC,QAAU,CACf0Z,OAAQ,CACNiI,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,SAAU,EACVC,MAAO,EAGPC,UAAW,EACXC,QAAS,EACTC,UAAW,EACXhH,cAAe,GAGjBiH,OAAQ,CACNC,MAAO,EACPC,QAAS,EACTC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,K,4BCtBX,MAAM7V,EAAK,EAAQ,MACb0M,EAAe,EAAQ,MAEvBH,EAAQ,EAAQ,MAChBF,EAAiB,EAAQ,MACzBC,EAAmB,EAAQ,OAC3B,OAAEO,GAAW,EAAQ,MACrBL,EAAa,EAAQ,MACrBC,EAAgB,EAAQ,MAE9BvZ,EAAOC,QAAU,CACf0Z,SAEAiJ,QAAS,MACP,OAAQ9V,EAAGE,YACT,IAAK,SAAU,OAAO,EAAQ,MAC9B,IAAK,QAAS,OAAO,EAAQ,MAC7B,IAAK,QAAS,OAAO,EAAQ,MAC7B,QAAS,OAAO,EAAQ,QALnB,GASTiN,QAAS,IAAIT,EAEbpP,OAAQ,IAAIkP,EAAW,YAAa,SAEpC,qBACM/nB,KAAK6Y,kBAAkBkP,EACzB/nB,KAAK6Y,OAAS,IAAImP,EAAchoB,KAAK6Y,OAAO4B,SAAUza,KAAK6Y,OAAOyB,MAElEta,KAAK6Y,OAAS,IAAIkP,EAAW/nB,KAAK6Y,OAAO4B,SAAUza,KAAK6Y,OAAOyB,OAInE,iBAAiBpP,GAEf,OADAlL,KAAK0oB,QAAQjW,GAAG,mBAAoBvH,GAC7B,CACLomB,QAAS,KACPtxB,KAAK0oB,QAAQvd,eAAe,mBAAoBD,MAKtD,QAAQ4G,EAAS/M,EAAMkqB,GACrB,OAAOjvB,KAAK6Y,OAAOsB,QAAQrI,EAAS/M,EAAMkqB,GACvChG,OAAM,KACL,IAAI2E,EAAUzG,QAAQC,UAMtB,OALIU,EAAMyJ,yBAAyBzf,EAAQsE,QACzCwX,EAAUA,EAAQvG,MAAK,IAAMrnB,KAAKwxB,oBAC/BnK,MAAK,IAAMrnB,KAAKyxB,oBAChBpK,MAAK,IAAMrnB,KAAK0xB,mBAEd9D,EAAQvG,MAAK,KAClB,MAAM,IAAIO,EAAe,sDAAuD,CAC9E7Y,MAAOqZ,EAAOoI,YACdrW,QAASrI,EACT6f,YAAa5sB,UAIlBsiB,MAAK0B,GACGA,EAAK8E,YAAc,IACtB/F,EAAMkB,mBAAmBD,GAAM1B,MAAKyG,IACpC,MAAM,IAAIjG,EAAiB,aAAc,CACvCkG,eAAgBhF,EAAK8E,WACrB1T,QAASrI,EACT6f,YAAa5sB,EACbmT,SAAU6Q,EACViF,aAAcF,OAGhB/E,IAELE,OAAMhmB,IAEL,MADAjD,KAAK0oB,QAAQrV,KAAK,mBAAoBpQ,GAChCA,MAIZ,cACE,MAAM2uB,EAAa,EAAE3uB,MACnB,MAAMA,GAGR,OAAOjD,KAAKwxB,kBACTnK,MAAK,IACJS,EAAM+J,WAAW,CAAC7xB,KAAKyxB,oBAAoBxI,MAAM2I,KAClDvK,MAAK,IACJS,EAAM+J,WAAW,CAAC7xB,KAAK0xB,kBAAkBzI,MAAM2I,KAChDvK,MAAK,IAAMrnB,KAAK0pB,oBAChBrC,MAAK,IAAMe,EAAOsI,QAClBzH,OAAMhmB,IACL,IAAKA,EAAI8B,MAA0B,MAAlB9B,EAAI8B,KAAKgK,MAAiB,MAAM9L,EACjD,OAAOA,EAAI8B,KAAKgK,UAKtB,cACE,OAAO/O,KAAK8xB,eAGd,kBACE,OAAO9xB,KAAKqxB,QAAQG,kBAChBrK,QAAQC,UACRD,QAAQ5d,OAAO,IAAIqe,EAAe,iDAAkD,CACpF7Y,MAAOqZ,EAAOiI,gBAIpB,kBACE,OAAOrwB,KAAKqxB,QAAQI,mBAGtB,gBACE,OAAOzxB,KAAKqxB,QAAQK,iBAGtB,iBACE,OAAO1xB,KAAKwxB,kBACTnK,MAAK,IACJS,EAAM6B,eAAe3pB,KAAKqxB,QAAQI,kBAChC,IAAI7J,EAAe,4BAA6B,CAC9C7Y,MAAOqZ,EAAOuI,gBAIxB,aACE,OAAO3wB,KAAKqxB,QAAQU,cAGtB,YAAYjgB,GACV,OAAO9R,KAAKqxB,QAAQW,YAAYlgB,IAGlC,oBAAoBA,GAClB,OAAO9R,KAAKqxB,QAAQY,oBAAoBngB,IAG1C,aAAa0N,EAAK1N,GAChB,OAAO9R,KAAKqxB,QAAQa,aAAa1S,EAAK1N,IAGxC,aACE,OAAO9R,KAAKyxB,kBACTpK,MAAK,IACJS,EAAM6B,eAAe3pB,KAAK0xB,gBACxB,IAAI9J,EAAe,2BAA4B,CAC7C7Y,MAAOqZ,EAAOwI,cAIxB,qBACE,OAAO5wB,KAAKqxB,QAAQc,sBAGtB,UACE,OAAOnyB,KAAKqxB,QAAQe,WAGtB,eAAe9mB,EAAU+mB,GACvB,OAAOryB,KAAKoyB,UAAU/K,MAAK,IAAMrnB,KAAKsyB,YAAYhnB,EAAU+mB,MAG9D,kBACE,OAAOryB,KAAK6Y,OAAOsB,QAAQ,CACzB/D,KAAM,kBACNiE,OAAQ,OACP,KAAM,MAGX,YAAY/O,EAAU+mB,GACpB,OAAOvK,EAAMyK,cAAa,IAAMvyB,KAAK0pB,mBAAmBpe,EAAU+mB,IAGpE,4BACE,OAAOryB,KAAKqxB,QAAQmB,6BAGtB,0BACE,OAAOxyB,KAAKqxB,QAAQoB,2BAGtB,uBACE,OAAOzyB,KAAKwyB,4BACTnL,MAAK,IACJS,EAAM6B,eAAe3pB,KAAKyyB,0BACxB,IAAI7K,EAAe,sCAAuC,CACxD7Y,MAAOqZ,EAAOwI,cAIxB,oBACE,OAAO5wB,KAAKqxB,QAAQqB,qBAGtB,yBAAyBpnB,EAAU+mB,GACjC,OAAOryB,KAAK0yB,oBAAoBrL,MAAK,IAAMrnB,KAAKsyB,YAAYhnB,EAAU+mB,MAGxE,uBACE,OAAOryB,KAAKqxB,QAAQsB,wBAGtB,0BACE,OAAO3yB,KAAKqxB,QAAQuB,2BAGtB,oCACE,OAAO5yB,KAAKqxB,QAAQwB,qCAGtB,UACE,OAAO7yB,KAAKqxB,QAAQyB,WAGtB,OACE,OAAO9yB,KAAKqxB,QAAQ0B,QAGtB,gBACE,OAAO/yB,KAAKqxB,QAAQ2B,iBAGtB,uBACE,OAAOhzB,KAAKqxB,QAAQ4B,wBAGtB,sBACE,OAAOjzB,KAAK6Y,OAAOsB,QAAQ,CACzB/D,KAAM,kBACNiE,OAAQ,QAEPgN,MAAM0B,IACL,OAAQA,EAAK8E,YACX,KAAK,IACH,OAAO/F,EAAMkB,mBAAmBD,GAClC,KAAK,IACH,MAAM,IAAInB,EAAe,4BAA6B,CACpD7Y,MAAOqZ,EAAOqI,WAElB,QACE,OAAO3I,EAAMkB,mBAAmBD,GAAM1B,MAAKyG,IACzC,MAAM,IAAIjG,EAAiB,4DAA6D,CACtFkG,eAAgBhF,EAAK8E,WACrB1T,QAAS,CACP/D,KAAM,kBACNiE,OAAQ,OAEVnC,SAAU6Q,EACViF,aAAcF,c,sBC1P9Brf,EAAOC,QAAU,cAA+B5O,MAC9C,YAAYozB,EAAMnuB,GAChBouB,MAAMD,GACNlzB,KAAK+E,KAAOA,EACZ/E,KAAKyT,QAAU,GAAGyf,MAASnuB,EAAK0O,iBAAiB1O,EAAKquB,MAClDruB,EAAKsuB,SACPrzB,KAAKyT,SAAW,aAAa1O,EAAKsuB,UAEhCtuB,EAAKuuB,SACPtzB,KAAKyT,SAAW,aAAa1O,EAAKuuB,UAEpCxzB,MAAMyzB,kBAAkBvzB,KAAMA,KAAKgU,gB,sBCXvCvF,EAAOC,QAAU,cAA+B5O,MAC9C,WAAa,MAAO,aAEpB,YAAY2T,EAAS1O,GACnBouB,MAAM1f,GACNzT,KAAK+E,KAAOA,EACZjF,MAAMyzB,kBAAkBvzB,KAAMA,KAAKgU,gB,sBCNvCvF,EAAOC,QAAU,cAA6B5O,MAC5C,WAAa,MAAO,YAEpB,YAAY2T,EAAS1O,GACnBouB,MAAM1f,GACNzT,KAAK+E,KAAOA,EACZjF,MAAMyzB,kBAAkBvzB,KAAMA,KAAKgU,gB,4BCNvC,MAAM,OAAC8c,GAAU,EAAQ,MACnB0C,EAAe,EAAQ,MACvBC,EAAkB,EAAQ,IAEhChlB,EAAOC,QAAW,CAChBoiB,SACA4C,MAAO5C,EAAOI,KAEd5hB,OAA0B,oBAAX/I,QAAyBktB,EAAkBD,EAE1D,SAASG,GAAQ3zB,KAAKuN,IAAIujB,EAAOC,SAAU4C,IAC3C,WAAWA,GAAQ3zB,KAAKuN,IAAIujB,EAAOE,WAAY2C,IAC/C,SAASA,GAAQ3zB,KAAKuN,IAAIujB,EAAOG,SAAU0C,IAC3C,QAAQA,GAAQ3zB,KAAKuN,IAAIujB,EAAOI,QAASyC,IACzC,QAAQA,GAAQ3zB,KAAKuN,IAAIujB,EAAOK,WAAYwC,IAC5C,SAASA,GAAQ3zB,KAAKuN,IAAIujB,EAAOM,SAAUuC,IAC3C,IAAIC,KAAUD,GACRC,GAAS5zB,KAAK0zB,QAAU1zB,KAAK6zB,QAC/B7zB,KAAKsP,OAAO/B,IAAIqmB,KAAUD,IAG9B,eACA,kB,0BCtBF,MAAM,OAAC7C,GAAU,EAAQ,MAEzBriB,EAAOC,QAAU,CACfolB,WAAW,EACXC,QAAS,CACP,CAACjD,EAAOC,OAAQ,UAAWxqB,QAAU,QAAU,MAC/C,CAACuqB,EAAOE,SAAU,UAAWzqB,QAAU,QAAU,MACjD,CAACuqB,EAAOG,OAAQ,MAChB,CAACH,EAAOI,MAAO,SAAU3qB,QAAU,OAAS,MAC5C,CAACuqB,EAAOK,SAAU,SAAU5qB,QAAU,OAAS,QAC/C,CAACuqB,EAAOM,OAAQ,SAGlB,IAAIwC,KAAUD,GACZptB,QAAQvG,KAAK+zB,QAAQH,OAAWD,M,sBCdpCllB,EAAOC,QAAU,CACf,U,4BCDF,MAAM6M,EAAK,EAAQ,MACb/E,EAAK,EAAQ,MACbJ,EAAO,EAAQ,MACfE,EAAQ,EAAQ,MAChB0d,EAAgB,EAAQ,MAExBlM,EAAQ,EAAQ,MAChBF,EAAiB,EAAQ,MACzBqM,EAAmB,EAAQ,OAE3B,OAAC7L,GAAU,EAAQ,MAEnB8L,EAAe,CACnBC,YAAa,2CACbC,mBAAoBhe,EAAKvF,KAAK0K,EAAG8Y,UAAW,QAAS,iBACrDC,kBAAmBle,EAAKvF,KAAK0K,EAAG8Y,UAAW,QAAS,gBACpDE,oBAAqBne,EAAKvF,KAAK0K,EAAGiZ,SAAU,qBAC5CC,WAAYre,EAAKvF,KAAK0K,EAAG8Y,UAAW,SAAU,QAAS,OAAQ,SAC/DK,cAAe,QACfC,kBAAmBve,EAAKvF,KAAK0K,EAAG8Y,UAAW,SAAU,QAAS,OAAQ,WAEtEO,oBAAqB,KAErB,iBACE,OAAO50B,KAAKm0B,aAGd,mBACE,OAAOn0B,KAAKu0B,qBAGd,kBAIE,OAHKv0B,KAAK40B,sBACR50B,KAAK40B,oBAAsB50B,KAAKy0B,YAE3Bz0B,KAAK40B,qBAGd,mBACE50B,KAAK40B,oBAAsB,MAG7B,sBACE,MAAO,CAAC50B,KAAK60B,cAGf,4BACE,OAAO,MAGT,gCACE,OAAO,MAGT,sBACE,OAAO70B,KAAKs0B,mBAGd,0BACE,OAAOt0B,KAAK80B,gBAAgB7zB,OAAS,GAGvC4xB,kCAAiC,KACxB,EAGT,UACE,IACE,MAAMkC,EAAOjN,EAAMkN,SAQnB,OAPmBrkB,OAAOqjB,EAAciB,SAAS,qCAC9CpV,MAAM,MACNvX,KAAIojB,GAAQA,EAAK9R,UAAU8R,EAAKwJ,YAAY,KAAO,KACnDrsB,QAAO,CAACssB,EAAKC,KACZA,EAAIvV,MAAM,KAAKvY,SAAQ+tB,GAASF,EAAInzB,KAAKqzB,EAAMC,UACxCH,IACN,IACa9Z,SAAS0Z,GAC3B,MAAOQ,GAEP,IACE,MAAMC,EAAWja,EAAGia,WACpB,OAAwB,IAAjBA,EAASC,KAAmC,SAAtBD,EAASE,SACtC,MAAOC,GACP,OAAO,KAKb5C,KAAI,IACKxX,EAAGwX,OAGZC,cAAa,KACJ,EAGTC,qBAAoB,IAEF,QADL1X,EAAGwX,OAIhB,kBACE,OAAO/yB,KAAKgzB,iBAAmBhzB,KAAKizB,wBAGtC,aACE,OAAOzc,EAAGof,WAAW51B,KAAKo0B,qBAG5B,kBACE,OAAO,IAAIjN,SAAQ,CAACC,EAAS7d,KAC3BiN,EAAGqf,OAAO71B,KAAK60B,aAAagB,IACtBA,EACFzO,IAEA7d,EAAO,IAAIqe,EAAe,GAAI,CAC5B7Y,MAAOqZ,EAAOkI,sBASxB,oBAAoBtB,GAClB,OAAOhvB,KAAKkyB,aAAalyB,KAAK81B,WAAY9G,GAAQ,KAGpD,aAAaxP,EAAKwP,GAEhB,OADAA,EAAOA,GAAQ,GACRhvB,KAAK+1B,4BAA4BvW,EAAKwP,EAAKgH,oBAC/C3O,MAAK,IAAMrnB,KAAKi2B,mBAAmBj2B,KAAKk2B,aAAclH,EAAKgH,sBAC3D3O,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKoH,cAChC/O,MAAK,IAAM2H,EAAKqH,SAAWr2B,KAAKgyB,YAAYhD,MAGjD,4BAA4BxP,EAAK8W,GAC/B,MAAM/G,EAAMjZ,EAAM6D,QAAQqF,GAQ1B,OAPA+P,EAAIpiB,MAGAmpB,GACFA,EAAS,EAAG,IAAK,GAGZxO,EAAMyO,mBAAmBhH,GAC7BlI,MAAK0B,GACGjB,EAAM0O,gBAAgBzN,EAAKnW,KAAK4D,EAAGigB,kBAAkBz2B,KAAKk2B,gBAC9D7O,MAAK,IAAM7Q,EAAGkgB,UAAU12B,KAAKk2B,aAAc,OAC3C7O,MAAK,IAAM,IAAIF,SAAQ,CAACC,EAAS7d,KAChClC,WAAW+f,EAAS,aAK9B6O,mBAAkB,CAACU,EAAYL,IAEtB,IAAInP,SAAQ,CAACC,EAAS7d,KAC3B,IACE,MAAMqtB,EAAQ5C,EAAc6C,MAAMF,EAAY,CAAC,cAAe,CAACG,OAAO,IACtEF,EAAMnkB,GAAG,SAAS,SAASskB,GACzB,GAAa,IAATA,EACF3P,EAAQwP,OACH,CACL,MAAMpwB,EAAQ,IAAI1G,MAElByJ,EAAO,IAAI0qB,EAAiB,cAC1B,CACExgB,QAAS,iDAAiDsjB,KAC1DzD,OAAQ,GACRD,OAAQ,GACR2D,UAAWxwB,EAAMmgB,MACjByM,IAAK,GAAGuD,eACR7kB,QAAS,CAAC,qBAIlB,IAAImlB,GAAQ,EAEZL,EAAMvD,OAAO5gB,GAAG,QAAQykB,IAEtB,IAEIC,EAAW/a,EAFXsP,EAAOwL,EAAMz2B,SAAS,QACtB22B,EAAU,0BAEd,KAAwC,QAAhChb,EAAQgb,EAAQxI,KAAKlD,KAC3ByL,EAAY/a,EAGd,GAAI+a,EAAW,CACb,IAAIE,EAAWvrB,SAASqrB,EAAU,GAAI,IAClCG,EAAQxrB,SAASqrB,EAAU,GAAI,IAC/BE,GAAY,GAAKC,GAASD,GAAYA,EAAWJ,IACnDA,EAAOI,EACHf,GACFA,EAASe,EAAUC,EAAOD,EAAWC,QAK7C,MAAO/B,GACPhvB,QAAQC,MAAM+uB,GACdhsB,EAAOgsB,OAKb,YAAYvG,GAIV,OAHAA,EAAOA,GAAQ,GAEflH,EAAMqO,UAAUnH,EAAKuI,gBACdzP,EAAM0P,aAAax3B,KAAKu0B,oBAC7B,CAAC,aAAc,CAACuC,OAAO,GACvB,+BAAgC,+BAA+B92B,KAAKu0B,uBACnElN,MAAK,IAAMrnB,KAAKy3B,qBAChBpQ,MAAK,IAAMS,EAAMqO,UAAUnH,EAAK0I,WAChCrQ,MAAK,IAAM7Q,EAAGmhB,WAAW33B,KAAKu0B,uBAC9BlN,MAAK,IAAMS,EAAMqO,UAAUnH,EAAK4I,YAChCvQ,MAAK,IAAM2H,EAAK6I,eAAiB73B,KAAKmyB,mBAAmBnD,MAG9D,gBACE,OAAOlH,EAAM0P,aACX,UACA,CAAC,OAAQ,eACT,CAACrN,SAAU,SACX,WACA,gEACC9C,MAAKgM,IAGJ,IAFcA,EAAOxT,MAAM,MAEhBjW,MAAKukB,GAAKnuB,KAAK00B,cAAcnoB,KAAK4hB,KAC3C,MAAM,IAAIvG,EAAe,wDAAyD,CAChF7Y,MAAOqZ,EAAOmI,kBAMxB,mBAAmBvB,GAEjB,MAAM8I,GADN9I,EAAOA,GAAQ,IACM8I,QAAU9I,EAAK8I,QAAU,sBAExCpc,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KAItC,OAHAA,EAAIsc,qBAAuB,WACpBtc,EAA0B,qBAE1B,IAAIyL,SAAQ,CAACC,EAAS7d,KAC3B,IACE,IAAKiN,EAAGof,WAAW51B,KAAK60B,aACtB,MAAM,IAAI/0B,MAAM,0BAElBk0B,EAAc6C,MAAM72B,KAAK60B,YACvB,CAAC,+BAAgC,aAAaiD,KAC9C,CAACG,UAAU,EAAMC,MAAO,SAAUxc,QACpC0L,IACA,MAAOmO,GACPhsB,EAAO,IAAI0qB,EAAiB,cAC1B,CACExgB,QAAU8hB,EAAE9hB,SAAyB,2BAAd8hB,EAAE9hB,SAAyC,6BAClEujB,UAAWzB,EAAE5O,MACbyM,IAAKpzB,KAAK60B,YACV/iB,QAAS,CAACmmB,UAAU,EAAMvc,eAMpC,UACE,OAAO1b,KAAK0xB,gBACTzI,OAAM,KACL,MAAMvN,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KACtCA,EAAIsc,qBAAuB,WACpBtc,EAA0B,qBAEjC,IACE,IAAKlF,EAAGof,WAAW51B,KAAK60B,aACtB,MAAM,IAAI/0B,MAAM,0BAElBk0B,EAAc6C,MAAM72B,KAAK60B,YACvB,CAAC,kBAAmB,iCACpB,CAACoD,UAAU,EAAMC,MAAO,SAAUxc,QACpC,MAAO6Z,GACP,MAAM,IAAItB,EAAiB,cACzB,CACExgB,QAAU8hB,EAAE9hB,SAAyB,2BAAd8hB,EAAE9hB,SAAyC,6BAClEujB,UAAWzB,EAAE5O,MACbyM,IAAKpzB,KAAK60B,YACV/iB,QAAS,CAACmmB,UAAU,EAAMvc,cAMtC,uBACE,OAAOyL,QAAQtd,IAAI,CACjB7J,KAAKyxB,kBACLzxB,KAAKwyB,+BAIT,4BACE,OAAOxyB,KAAKm4B,gBAGd,0BACE,OAAOn4B,KAAKm4B,gBAGd,oBACE,OAAOn4B,KAAKm4B,gBAGdA,aAAY,IACHhR,QAAQ5d,OACb,IAAIqe,EAAe,2CAA4C,CAC7D7Y,MAAOqZ,EAAOiI,gBAKtB5hB,EAAOC,QAAUwlB,G,4BCjUjB,MAAMtM,EAAiB,EAAQ,OAEzB,OAACQ,GAAU,EAAQ,MAEzB3Z,EAAOC,QAAU,CACf,iBACE,OAAO,MAGT,mBACE,OAAO,MAGT,kBACE,OAAO,MAGT,sBACE,OAAO,MAGT,4BACE,OAAO,MAGT,gCACE,OAAO,MAGT,sBACE,OAAO,MAGTkkB,wBAAuB,KACd,EAGTC,kCAAiC,KACxB,EAGTC,QAAO,KACE,EAGTC,KAAI,IACK,KAGTC,cAAa,KACJ,EAGTC,qBAAoB,KACX,EAGTzB,gBAAe,KACN,EAGTO,WAAU,KACD,EAGT,kBACE,OAAO/xB,KAAKm4B,gBAGd,aAAanJ,GACX,OAAOhvB,KAAKm4B,gBAGd,YAAYnJ,GACV,OAAOhvB,KAAKm4B,gBAGd,gBACE,OAAOn4B,KAAKm4B,gBAGd,UACE,OAAOn4B,KAAKm4B,gBAGd,uBACE,OAAOhR,QAAQtd,IAAI,CACjB7J,KAAKyxB,kBACLzxB,KAAKwyB,+BAIT,4BACE,OAAOxyB,KAAKm4B,gBAGd,0BACE,OAAOn4B,KAAKm4B,gBAGd,oBACE,OAAOn4B,KAAKm4B,gBAGdA,aAAY,IACHhR,QAAQ5d,OACb,IAAIqe,EAAe,2CAA4C,CAC7D7Y,MAAOqZ,EAAOiI,iB,4BC3GtB,MAAM9U,EAAK,EAAQ,MACb/E,EAAK,EAAQ,MACbJ,EAAO,EAAQ,MACfE,EAAQ,EAAQ,MAChB0d,EAAgB,EAAQ,MACxBlM,EAAQ,EAAQ,MAChBF,EAAiB,EAAQ,OACzB,OAAEQ,GAAW,EAAQ,MAErBgQ,EAAa,CACjBjE,YAAa,iDACbkE,UAAW,iBACXC,cAAe,gBACfC,iBAAkB,iBAClBC,cAAe,CAAEC,QAAS,yBAA0BC,iBAAkB,0BACtEC,kBAAmB,wDACnBC,eAAgB,gBAChBxE,mBAAoBhe,EAAKvF,KAAK0K,EAAG8Y,UAAW,QAAS,iBACrDC,kBAAmBle,EAAKvF,KAAK0K,EAAG8Y,UAAW,QAAS,gBAEpD,iBACE,OAAOr0B,KAAKm0B,aAGd,mBACE,OAAOn0B,KAAKs4B,eAGd,kBACE,OAAOt4B,KAAK80B,gBAAgB,IAG9B,sBACE,IAAI+D,EAAQloB,OAAOqjB,EAAc8E,UAAU,SAAU,CACnD,gDACCzF,QAAQiC,OAAOzV,MAAM,MAIxB,OAH4D,IAAxDgZ,EAAM7tB,QAAQhL,KAAKw4B,cAAcE,mBAA4B14B,KAAK+4B,uBACpEF,EAAM72B,KAAKhC,KAAKw4B,cAAcE,kBAEzBG,EAAMzvB,QAAO+kB,GAAW,KAANA,KAG3B,4BACE,OAAOnuB,KAAKg5B,0BAA0B,IAGxC,gCACE,OAAOroB,OAAOqjB,EAAc8E,UAAU,SAAU,CAC9C,uDACCzF,QAAQiC,OAAOzV,MAAM,OAG1B,sBACE,OAAO7f,KAAKs0B,mBAGd,UACE,IACE,MAAMS,EAAOjN,EAAMkN,SAOnB,OANmBrkB,OAAOqjB,EAAciB,SAAS,uCAC9CpV,MAAM,MACNzW,QAAOyE,GAAK,UAAUtB,KAAKsB,KAAI,GAC/BynB,OACAngB,QAAQ,YAAa,IACrB0K,MAAM,OACSxE,SAAS0Z,GAC3B,MAAOQ,GACP,OAAO,IAIXxC,KAAI,IACKxX,EAAGwX,OAGZC,cAAa,KACJ,EAGTC,qBAAoB,IACXgG,WAAW1d,EAAGtF,YAAc,GAGrC,kBACE,OAAOjW,KAAKizB,wBAGd,sBACE,OAAOzc,EAAGof,WAAW51B,KAAKw4B,cAAcE,mBAG1C,aACE,OAAOliB,EAAGof,WAAW51B,KAAKo0B,qBAG5B,kBACE,OAAOtM,EAAM0P,aACX,SACA,CAAC,+CACD,eACA,0DACCnQ,MAAK+B,IACJ,KAAMA,GAAsB,KAAfA,EAAIkM,QAAmBt1B,KAAK+4B,uBACvC,MAAM,IAAInR,EAAe,uDAAwD,CAC/E7Y,MAAOqZ,EAAOkI,kBAMxB,0BACE,OAAOtwB,KAAK80B,gBAAgB7zB,OAAS,GAGvC,oCACE,OAAOjB,KAAKg5B,0BAA0B/3B,OAAS,GAGjD,uBACE,OAAOkmB,QAAQtd,IAAI,CACjB7J,KAAKyxB,kBACLzxB,KAAKwyB,+BAITA,0BAAyB,IAChB1K,EAAM0P,aACX,SACA,CAAC,sDACD,eACA,qEACCnQ,MAAK+B,IACJ,IAAKA,GAAsB,KAAfA,EAAIkM,OACd,MAAM,IAAI1N,EAAe,kEAAmE,CAC1F7Y,MAAOqZ,EAAOkI,iBAMxB,oBAAoBtB,GAClB,OAAOhvB,KAAKkyB,aAAalyB,KAAK81B,WAAY9G,GAAQ,KAGpD,aAAaxP,EAAKwP,GAEhB,OADAA,EAAOA,GAAQ,GACRhvB,KAAKi2B,mBAAmBzW,EAAKwP,EAAKgH,oBACtC3O,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKoH,cAChC/O,MAAK,IAAM2H,EAAKqH,SAAWr2B,KAAKgyB,YAAYhD,MAGjD,mBAAmBxP,EAAK8W,GACtB,MAAM/G,EAAMjZ,EAAM6D,QAAQqF,GAG1B,OAFA+P,EAAIpiB,MAEG2a,EAAMyO,mBAAmBhH,GAC7BlI,MAAK0B,IACJ,GAAIuN,EAAU,CACZ,MAAMgB,EAAQxrB,SAASid,EAAK9Q,QAAQ,kBAAmB,IACvD,IAAIhX,EAAS,EAEb8nB,EAAKtW,GAAG,QAAQykB,IACdj2B,GAAUi2B,EAAMj2B,OAChBq1B,EAASr1B,EAAQq2B,EAAOr2B,EAASq2B,MAIrC,OAAOxP,EAAM0O,gBACXzN,EAAKnW,KAAK4D,EAAGigB,kBAAkBz2B,KAAKk2B,gBAEnC7O,MAAK,IAAM,IAAIF,SAAQ,CAACC,EAAS7d,KAChClC,WAAW+f,EAAS,cAK9B,YAAY4H,GAIV,OAHAA,EAAOA,GAAQ,GAEflH,EAAMqO,UAAUnH,EAAKuI,gBACdzP,EAAM0P,aACX,UACA,CAAC,SAAU,YAAax3B,KAAKs4B,eAC7B,cACA,4BACCjR,MAAK,IAAMS,EAAMqO,UAAUnH,EAAK0I,WAChCrQ,MAAK,IAAMS,EAAM0P,aAChB,KACA,CAAC,KAAMx3B,KAAKw4B,cAAcC,QAASz4B,KAAKq4B,WACxC,WACA,2DACDhR,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKkK,UAChC7R,MAAK,IACGS,EAAM0P,aACX,WACA,CAAC,UAAW,SAAU,SAAU,IAAKx3B,KAAKw4B,cAAcE,kBACxD,iBACA,uBAAuB14B,KAAKw4B,cAAcE,sBAE7CrR,MAAK,IAAMS,EAAM0P,aAChB,UACA,CAAC,SAAUx3B,KAAKu4B,kBAChB,gBACA,gCACDlR,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKmK,aAChC9R,MAAK,IAAMS,EAAM0P,aAChB,KAAM,CAACx3B,KAAKs4B,eACZ,WACA,+BACDjR,MAAK,IAAMS,EAAMqO,UAAUnH,EAAK4I,YAIhCvQ,MAAK,IAAMS,EAAMyK,cAAa,IAAMvyB,KAAKyxB,mBAAmB,GAAI,QAChEpK,MAAK,IAAM2H,EAAK6I,eAAiB73B,KAAKmyB,mBAAmBnD,MAG9D0C,cAAa,IACJ5J,EAAM0P,aACX,UACA,CAAC,QAAS,WACV,CAAErN,SAAU,QACZ,WACA,gEACC9C,MAAKgM,IAEJ,IADcA,EAAOxT,MAAM,MAChBjW,MAAKwvB,GAAK,SAAS7sB,KAAK6sB,KACjC,MAAM,IAAIxR,EAAe,wDAAyD,CAChF7Y,MAAOqZ,EAAOmI,iBAMxB,mBAAmBvB,GAEjB,MAAM8I,GADN9I,EAAOA,GAAQ,IACM8I,QAAU9I,EAAK8I,QAAU,sBAExCpc,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KAGtC,cAFOA,EAA0B,qBAE1BoM,EAAM0P,aACX,OACA,CAAC,KAAMx3B,KAAK60B,YAAa,SAAU,+BAAgC,aAAaiD,KAChF,CAAEpc,IAAKA,GACP,aACA,iDAIJ,UACE,MAAMA,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KAGtC,cAFOA,EAA0B,qBAE1B1b,KAAK0xB,gBACTzI,OAAM,IAAMnB,EAAM0P,aACjB,WACA,CAAC,QAAS,gBAAiB,sBAAuB,KAClD,iBACA,kCACCnQ,MAAK,IACJS,EAAM0P,aACJ,OACA,CAAC,KAAMx3B,KAAK60B,YAAa,SAAU,kBAAmB,iCACtD,CAAEnZ,IAAKA,GACP,aACA,qDAIV+W,wBAAuB,IACd3K,EAAM0P,aACX,UACA,CAAC,QAAS,WACV,CAAErN,SAAU,QACZ,WACA,2EACC9C,MAAKgM,IAEJ,IADcA,EAAOxT,MAAM,MAChBjW,MAAKwvB,GAAK,mBAAmB7sB,KAAK6sB,KAC3C,MAAM,IAAIxR,EAAe,mEAAoE,CAC3F7Y,MAAOqZ,EAAOmI,iBAMxB,oBACE,MAAM7U,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KAGtC,cAFOA,EAA0B,qBAE1BoM,EAAM0P,aACX,WACA,CAAC,QAAS,uBAAwB,sBAAuB,KACzD,iBACA,kCACCnQ,MAAK,IACJS,EAAM0P,aACJ,OACA,CAAC,KAAMx3B,KAAKq5B,uBACZ,CAAE3d,IAAKA,GACP,aACA,gEAIVjN,EAAOC,QAAU0pB,G,4BClTjB,MAAM7c,EAAK,EAAQ,MACb/E,EAAK,EAAQ,MACbJ,EAAO,EAAQ,MACfE,EAAQ,EAAQ,MAChB0d,EAAgB,EAAQ,MACxBlM,EAAQ,EAAQ,MAChBF,EAAiB,EAAQ,MACzBqM,EAAmB,EAAQ,OAE3B,OAAC7L,GAAU,EAAQ,MAEnBkR,EAAU,IAAIljB,EAAKvF,KAAK0oB,UAAW,mBACzC,IAAIC,EAEJ,MAAMC,EAAiB,CACrBtF,YAAa,qDACbI,oBAAqBne,EAAKvF,KAAK0K,EAAGiZ,SAAU,iBAC5CJ,mBAAoBhe,EAAKvF,KAAKrL,QAAQkW,IAAIge,aAAc,OAAQ,iBAChEpF,kBAAmBle,EAAKvF,KAAKrL,QAAQkW,IAAIge,aAAc,OAAQ,gBAG/D,kBAAkBtjB,GAChBojB,EAAwBpjB,GAE1B,oBACE,IAAKojB,EAAuB,CAC1B,IAAIG,EAAYC,EAGdA,EADEp0B,QAAQkW,IAAIme,aACOzjB,EAAKvF,KAAKrL,QAAQkW,IAAIme,aAAc,QAGpC,0BAGvB,IACE,MAAMC,EAAcnpB,OAAOqjB,EAAciB,SAASqE,IAAUhE,OAE5DqE,EAA6B,cAAhBG,EACTA,EACAF,EACJ,MAAO32B,GACP02B,EAAaC,EAEfJ,EAAwBpjB,EAAKvF,KAAK8oB,EAAY,aAGhD,OAAOH,GAGT,iBACE,OAAOx5B,KAAKm0B,aAGd,mBACE,OAAOn0B,KAAKu0B,qBAGd,kBACE,OAAOv0B,KAAK+5B,eAGd,4BACE,OAAO,MAGT,sBACE,MAAO,CAAC/5B,KAAK60B,cAGf,gCACE,MAAO,IAGT,sBACE,OAAO70B,KAAKs0B,mBAGd,UACE,IAME,OADAN,EAAciB,SAAS,gBAChB,EACP,MAAOM,GACP,OAAO,IAIXxC,KAAI,IAaK,QAGTC,cAAa,KACJ,EAGT,uBACE,OAAOiG,WAAW1d,EAAGtF,YAAc,KACZ,UAAhBjW,KAAK+yB,QAGd,kBACE,OAAO/yB,KAAKizB,wBAGd,aACE,OAAOzc,EAAGof,WAAW51B,KAAKo0B,qBAG5B,kBACE,OAAO,IAAIjN,SAAQ,CAACC,EAAS7d,KAC3BiN,EAAGqf,OAAO71B,KAAK+5B,eAAgBlE,IACzBA,EACFzO,IAEA7d,EAAO,IAAIqe,EAAe,GAAI,CAC5B7Y,MAAOqZ,EAAOkI,sBAOxBkC,0BAAyB,IAChBrL,QAAQ5d,OAAO,IAAIqe,EAAe,wDAAyD,CAChG7Y,MAAOqZ,EAAOiI,eAIlB,0BACE,OAAOrwB,KAAK80B,gBAAgB7zB,OAAS,GAGvC,oCACE,OAAOjB,KAAKg5B,0BAA0B/3B,OAAS,GAGjD,uBACE,OAAOkmB,QAAQtd,IAAI,CACjB7J,KAAKyxB,kBACLzxB,KAAKwyB,+BAIT,oBAAoBxD,GAClB,OAAOhvB,KAAKkyB,aAAalyB,KAAK81B,WAAY9G,GAAQ,KAGpD,aAAaxP,EAAKwP,GAEhB,OADAA,EAAOA,GAAQ,GACRhvB,KAAKi2B,mBAAmBzW,EAAKwP,EAAKgH,oBACtC3O,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKoH,cAChC/O,MAAK,IAAM2H,EAAKqH,SAAWr2B,KAAKgyB,YAAYhD,MAGjD,mBAAmBxP,EAAK8W,GACtB,MAAM/G,EAAMjZ,EAAM6D,QAAQqF,GAG1B,OAFA+P,EAAIpiB,MAEG2a,EAAMyO,mBAAmBhH,GAC7BlI,MAAK0B,IACJ,GAAIuN,EAAU,CACZ,MAAMgB,EAAQxrB,SAASid,EAAK9Q,QAAQ,kBAAmB,IACvD,IAAIhX,EAAS,EAEb8nB,EAAKtW,GAAG,QAAQykB,IACdj2B,GAAUi2B,EAAMj2B,OAChBq1B,EAASr1B,EAAQq2B,EAAOr2B,EAASq2B,MAIrC,OAAOxP,EAAM0O,gBACXzN,EAAKnW,KAAK4D,EAAGigB,kBAAkBz2B,KAAKk2B,gBAEnC7O,MAAK,IAAM,IAAIF,SAAQ,CAACC,EAAS7d,KAChClC,WAAW+f,EAAS,cAK9B,YAAY4H,GAEV,MAAMgL,GADNhL,EAAOA,GAAQ,IACK6I,cAAgB,+BAAiC,kBAC/DC,EAAU9I,EAAK8I,QAAU9I,EAAK8I,QAAU,sBAE9C,IAAIpc,EAAMnb,OAAOsR,OAAOrM,QAAQkW,KAIhC,OAHAA,EAAIue,qBAAuB,IAE3BnS,EAAMqO,UAAUnH,EAAKuI,gBACdzP,EAAMoS,YACX,IAAIl6B,KAAKu0B,0CAA0CyF,eAAoBlC,IACvE,CAACpc,IAAKA,GACN,qBACA,gCACC2L,MAAK,IAAMS,EAAMqO,UAAUnH,EAAKkK,UAChC7R,MAAK,IAAM7Q,EAAGmhB,WAAW33B,KAAKu0B,uBAC9BlN,MAAK,IAAMS,EAAMqO,UAAUnH,EAAK4I,aAGrClG,cAAa,IACJ5J,EAAM0P,aACX,WACA,iBACA,gFACCnQ,MAAKgM,IAEJ,GADcA,EAAOxT,MAAM,MACjB/V,OAAM+D,IAAiC,IAA5BA,EAAE7C,QAAQ,eAC7B,MAAM,IAAI4c,EAAe,qDAAsD,CAC7E7Y,MAAOqZ,EAAOmI,iBAMxB,mBAAmBvB,GAEjB,MAAM8I,GADN9I,EAAOA,GAAQ,IACM8I,QAAU9I,EAAK8I,QAAU,sBAE9C,IAAIpc,EAAMnb,OAAOsR,OAAOrM,QAAQkW,KAEhC,cADOA,EAA0B,qBAC1B,IAAIyL,SAAQ,CAACC,EAAS7d,KAC3B,IACEyqB,EAAc6C,MACZ72B,KAAK+5B,cACL,CAAC,+BAAgC,aAAajC,KAC9C,CAACG,UAAU,EAAMvc,IAAKA,IACxB0L,IACA,MAAOnkB,GACPsG,EAAO,IAAI0qB,EAAiB,iBAC1B,CACExgB,QAAS,gCACTujB,UAAW/zB,EAAI0jB,MACfyM,IAAKpzB,KAAK+5B,cACVjoB,QAAS,CAACmmB,UAAU,EAAMvc,IAAKA,WAMzC,UACE,OAAO1b,KAAK0xB,gBACTzI,OAAM,KACL,IAAIvN,EAAMnb,OAAOsR,OAAOrM,QAAQkW,KAChCA,EAAIue,qBAAuB,WACpBve,EAA0B,qBAEjC,IACEsY,EAAc6C,MACZ72B,KAAK+5B,cACL,CAAC,kBAAmB,iCACpB,CAAC9B,UAAU,EAAMvc,IAAKA,IACxB,MAAOzY,GACP,MAAM,IAAIgxB,EAAiB,iBACzB,CACExgB,QAAS,gCACTujB,UAAW/zB,EAAI0jB,MACfyM,IAAKpzB,KAAK+5B,cACVjoB,QAAS,CAACmmB,UAAU,EAAMvc,IAAKA,UAM3C+W,wBAAuB,IACdtL,QAAQ5d,OAAO,IAAIqe,EAAe,wDAAyD,CAChG7Y,MAAOqZ,EAAOiI,eAIlBqC,kBAAiB,IACRvL,QAAQ5d,OAAO,IAAIqe,EAAe,wDAAyD,CAChG7Y,MAAOqZ,EAAOiI,gBAKpB5hB,EAAOC,QAAU+qB,G,4BCnSjB,MAAMpjB,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChB0d,EAAgB,EAAQ,MACxBnM,EAAmB,EAAQ,MAC3BoM,EAAmB,EAAQ,MAkBjC,SAASkG,EAAiBhgB,GACxB,OAAO,IAAIgN,SAAQ,CAACC,EAAS7d,KAC3B4Q,EAAQ1H,GAAG,YAAYsW,GAAQ3B,EAAQ2B,KACvC5O,EAAQ1H,GAAG,SAASxP,GAAOsG,EAAOtG,QAkStCwL,EAAOC,QAAU,CACfmjB,WArFF,SAAoBuI,GAIlB,MAAMC,EAAoBD,EAAgB9xB,KAAIslB,GACrCA,EACJvG,MAAK/lB,IAAU,CAAG8lB,SAAS,EAAM9lB,OAAQA,MACzC2nB,OAAMziB,IAAS,CAAG4gB,SAAS,EAAO9lB,OAAQkF,QAG/C,OAAO2gB,QAAQtd,IAAIwwB,GAAmBhT,MAAK7jB,IACzC,MAAM82B,EAAW92B,EAAQqF,QAAO,CAAC0xB,EAAGrkB,IAC9BqkB,IACArkB,EAAEkR,QAAkBlR,EACjB,OACN,MAGH,GAAIokB,EACF,OAAOA,EAASh5B,OAEhB,MAAMkC,EAAQ8E,KAAI4N,GAAKA,EAAE5U,aAiE7Bk5B,UAvTF,SAASA,EAAU52B,EAAGC,GACpBD,EAAIkjB,KAAKQ,MAAMR,KAAKC,UAAUnjB,GAAK,KACnCC,EAAIijB,KAAKQ,MAAMR,KAAKC,UAAUljB,GAAK,KACnC,MAAM8Q,EAAIpU,OAAOw3B,OAAO,GAAIn0B,GAU5B,OARArD,OAAOsB,KAAKgC,GAAGyD,SAAQxF,IACjB6S,EAAE7S,IAAqB,iBAAR6S,EAAE7S,GACnB6S,EAAE7S,GAAK04B,EAAU7lB,EAAE7S,GAAI+B,EAAE/B,IAEzB6S,EAAE7S,GAAK+B,EAAE/B,MAIN6S,GA2SPub,YArMF,SAAqBnB,GACnB,OAAOA,EAAQzmB,KAAKqM,GAAMA,EAAEob,KAAO,IAAMpb,EAAE8lB,QAAO5pB,KAAK,OAqMvDqpB,YA3DF,SAAqB9G,EAAKsH,EAAYC,EAAeC,GACnD,MAAMx2B,EAAO,CAACgvB,GAEVsH,EACiB,WAAfA,IACFE,EAAmBD,EACnBA,EAAgBD,EAChBA,EAAa,IAGfA,EAAa,GAGft2B,EAAKpC,KAAK04B,GAEV,MAAMl0B,EAAQ,IAAI1G,MAElB,OAAO,IAAIqnB,SAAQ,CAACC,EAAS7d,KAC3ByqB,EAAcpF,QAAQxqB,GAAM,CAACnB,EAAKowB,EAAQC,KACpCrwB,GACFsG,EAAO,IAAI0qB,EAAiB0G,EAC1B,CACElnB,QAASmnB,EACTvH,SACAC,SACA0D,UAAWxwB,EAAMmgB,MACjByM,MACAthB,QAA8B,iBAAd4oB,EAAyBA,OAAa5iB,KAG5DsP,EAAQiM,UA8BZwH,WA3MF,SAAoB9L,EAASzoB,GAC3B,OAAOyoB,EAAQ3lB,QAAOuL,GAAKA,EAAEob,OAASzpB,IAAM,IA2M5CiwB,mBA3QF,SAASA,EAAmBhH,GAC1B,OAAO4K,EAAiB5K,GACrBlI,MAAK0B,IACJ,GAAIA,EAAK8E,YAAc,KAAO9E,EAAK8E,WAAa,IAC9C,OAAO9E,EACF,GAbb,SAAuBA,GACrB,OAAOA,EAAK8E,YAAc,KACxB9E,EAAK8E,WAAa,OANHxW,EAOL,cAAY0R,EAAK9Q,SANFZ,GAD7B,IAAmBA,EAiBFyjB,CAAc/R,GAAO,CAC9B,MACMwG,EAxBuB,KADpB/P,EAwBQuJ,EAAK9Q,QAAQ2T,UAvBzB5gB,QAAQ,YACfsL,EAAM6D,QAAQqF,GACdnJ,EAAK8D,QAAQqF,GAwBX,OADA+P,EAAIpiB,MACGopB,EAAmBhH,GAE1B,MAAM,IAAI1H,EAAiB,qDAAsD,CAC/E1N,QAASoV,EACTrX,SAAU6Q,EACVgF,eAAgBhF,EAAK8E,aAhC/B,IAAiBrO,MA8Rf2W,UA1BF,SAAmBv2B,GAAoB,mBAAPA,GAAqBA,KA2BnDopB,mBAtMF,SAA4BD,EAAMvmB,GAChC,GAAIA,EAAU,CACZ,IAAIuC,EAAO,GAGX,OAFAgkB,EAAKtW,GAAG,QAASykB,GAAUnyB,GAAQmyB,IACnCnO,EAAKtW,GAAG,OAAO,IAAMjQ,EAASuC,KACvB,KAEP,OAAO,IAAIoiB,SAAQ,CAACC,EAAS7d,KAC3B,IAAIxE,EAAO,GACXgkB,EAAKtW,GAAG,QAASykB,GAAUnyB,GAAQmyB,IACnCnO,EAAKtW,GAAG,SAASxP,GAAOsG,EAAOtG,KAC/B8lB,EAAKtW,GAAG,OAAO,IAAM2U,EAAQriB,SA4LjCg2B,UAzBF,SAAmBle,EAAMme,GACvB,IAAM,OAAOlU,KAAKQ,MAAMzK,IAASme,EAAY,MAAOzF,GAAK,OAAOyF,IAyBhElL,gBA3PF,SAAyBf,GACvB,OAAKpuB,MAAMC,QAAQmuB,IAAaA,EAAQ9tB,OAuCjC8tB,EAAQzmB,KApCF2yB,IACX,IAAIC,EAAS,CACXC,KAAM,GACNC,OAAQ,GACRC,QAAS,IAAIna,KAAK,wBAClBoa,WAAY,GACZC,OAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,IAAK,GACLC,SAAU,MAwBZ,OAtBAV,EAAOpb,MAAM,MAAMvY,SAAS+nB,IAC1B,GAAY,aAARA,EAIJ,GAAY,WAARA,EAAJ,CAIA,IAAIuM,EAAMvM,EAAIrkB,QAAQ,KAClBhI,EAAMqsB,EAAIzV,UAAU,EAAGgiB,GACvBxG,EAAM/F,EAAIzV,UAAUgiB,EAAM,GAClB,YAAR54B,IACFoyB,EAAM,IAAIlU,KAAKkU,IAEbpyB,KAAOk4B,EACTA,EAAOl4B,GAAOoyB,GAEd8F,EAAOnL,KAAO/sB,EACdk4B,EAAOT,MAAQrF,QAbf8F,EAAOM,QAAS,OAJhBN,EAAOO,UAAW,KAoBfP,KApCA,IA0PTf,mBACA3D,gBA1SF,SAAyBtkB,GACvB,OAAO,IAAIiV,SAAQ,CAACC,EAAS7d,KAC3B2I,EAAOO,GAAG,UAAU,IAAM2U,MAC1BlV,EAAOO,GAAG,SAASxP,GAAOsG,EAAOtG,SAwSnCsvB,aA7KF,SAAsBsJ,EAAWvwB,EAAU+mB,GACzC,OAAO,IAAIlL,SAAQ,CAACC,EAAS7d,KAC3BuyB,EAAY,EAAG1U,EAAS7d,MAG1B,SAASuyB,EAAYjoB,EAAGuT,EAAS7d,GAC/B,IAAIwyB,EAAiB94B,IACnB4Q,EAAI,GAAKvI,EACL/B,EAAOtG,GACP64B,EAAYjoB,EAAI,EAAGuT,EAAS7d,IAElClC,YAAW,IACTw0B,IAAYxU,KAAKD,EAAS2U,IAC1BloB,EAAIwe,EAAW,KAiKnB1I,eA1LF,SAAwBiE,EAASgN,EAAkBoB,GACjD,OAAO,IAAI7U,SAAQ,CAACC,EAAS7d,KAC3BqkB,EACGvG,MAAK,IAAM9d,EAAOqxB,KAClB3R,OAAM,IAAM7B,EAAQ4U,SAuLzBzK,yBAxBF,SAAkCnb,GAChC,OAAQA,EAAK6lB,WAAW,sBAwBxBzE,aA5JF,SAAsBpE,EAAK8I,EAASxB,EAAYC,EAAeC,GAC7D,MAAMx2B,EAAO,CAACgvB,GAoBd,OAlBI8I,IACqB,iBAAZA,GACTvB,EAAgBuB,EAChBtB,EAAmBF,GAEnBt2B,EAAKpC,KAAKk6B,IAIVxB,IACwB,iBAAfA,GACTE,EAAmBD,EACnBA,EAAgBD,GAEhBt2B,EAAKpC,KAAK04B,IAIP,IAAIvT,SAAQ,CAACC,EAAS7d,KAC3B,MAAM4yB,EAAOnI,EAAc6C,SAASzyB,GACpC,IAAIivB,EAAS,GAEb,MAAM+I,EAAcn5B,GACX,IAAIgxB,EAAiB0G,EAC1B,CACElnB,QAASmnB,EAAmB,cAAgBx2B,EAAKyM,KAAK,KACtDyiB,OALO,GAMPD,SACA2D,UAAW/zB,EAAI0jB,MACfyM,IAAK,GAAGA,MAA6B,iBAAdsH,GAAyBwB,GAAgB,IAAIrrB,KAAK,OACzEiB,QAA8B,iBAAd4oB,EAAyBA,OAAa5iB,IAI5DqkB,EAAK9I,OAAO5gB,GAAG,QAAQ1N,GAAQsuB,GAAUtuB,IACzCo3B,EAAK7I,OAAO7gB,GAAG,QAAQ1N,GAAQsuB,GAAUtuB,IACzCo3B,EAAK9I,OAAO5gB,GAAG,SAASxP,GAAOsG,EAAO6yB,EAAWn5B,MACjDk5B,EAAK7I,OAAO7gB,GAAG,SAASxP,GAAOsG,EAAO6yB,EAAWn5B,MAEjD,MAAMuD,EAAQ,IAAI1G,MAElBq8B,EAAK1pB,GAAG,SAASxP,IACfsG,EAAO6yB,EAAWn5B,OAGpBk5B,EAAK1pB,GAAG,SAASskB,IACfA,EACIxtB,EAAO6yB,EAAW51B,IAClB4gB,EAAQiM,UA0GhB2B,OArBF,WACE,OAAOrkB,OAAOqjB,EAAciB,SAAS,WAAWK,U,UC1TjD,WASD,SAAS+G,EAAKx7B,EAAKmC,GACjB,OAAOzC,OAAOC,UAAUuB,eAAejB,KAAKD,EAAKmC,GAGnD,SAASs5B,IAAiB,OAAO,EAEjC,SAASC,EAAUzqB,GACjB,KAAM9R,gBAAgBu8B,GACpB,OAAO,IAAIA,EAASzqB,GAGtB,IAAIwM,EACmB,iBAAZxM,IAETA,EAAU,CAAEwM,IADZA,EAAMxM,IAIHA,IAASA,EAAU,IAExBwM,EAAMxM,EAAQwM,IAEd,IAAIke,EAAmB1qB,EAAQ7Q,QAAUq7B,EAET,mBAArBE,IACTA,EAAmBF,KAGhBhe,GAAwB,iBAARA,GAAqBA,GAAO,KAE/CA,EAAM/L,KAGR,IAAIkqB,EAAa3qB,EAAQ4qB,QAAS,EAE9BC,EAAS7qB,EAAQ6qB,QAAU,KAE3BrL,EAAUxf,EAAQwf,QAElBsL,EAAQr8B,OAAOsR,OAAO,MACtBgrB,EAAUt8B,OAAOsR,OAAO,MACxBirB,EAAM,EACNC,EAAM,EACN97B,EAAS,EACT+7B,EAAY,EA+JhB,SAAS1H,IACP,KAAOyH,EAAMD,GAAO77B,EAASqd,GAC3B2e,EAAIJ,EAAQE,IAGhB,SAASG,EAAQC,GAEf,WADON,EAASM,EAAIC,IACbL,EAAMD,IAAQD,EAAQE,IAAMA,IAGrC,SAASE,EAAIE,GACPA,IACE7L,GAASA,EAAQ6L,EAAIn6B,IAAKm6B,EAAI56B,OAClCtB,GAAUk8B,EAAIl8B,OACd+7B,WACOJ,EAAOO,EAAIn6B,KAClBk6B,EAAQC,IA3KZ58B,OAAOqV,eAAe5V,KAAM,MAC1B,CAAEwnB,IAAM,SAAU6V,KACTA,GAAsB,iBAAPA,GAAoBA,GAAM,KAAIA,EAAK9qB,KAInDtR,GAHJqd,EAAM+e,IAGY/H,KAEpBvf,IAAM,WAAc,OAAOuI,GAC3BxI,YAAa,IAIjBvV,OAAOqV,eAAe5V,KAAM,mBAC1B,CAAEwnB,IAAM,SAAU8V,GACd,GAAkB,mBAAPA,EAGT,IAAK,IAAIt6B,KAFTw5B,EAAmBF,EACnBr7B,EAAS+7B,EACOJ,EACdA,EAAM55B,GAAK/B,OAAS,OAKtB,IAAK,IAAI+B,KAFTw5B,EAAmBc,EACnBr8B,EAAS,EACO27B,EACdA,EAAM55B,GAAK/B,OAASu7B,EAAiBI,EAAM55B,GAAKT,OAChDtB,GAAU27B,EAAM55B,GAAK/B,OAIrBA,EAASqd,GAAKgX,KAEpBvf,IAAM,WAAc,OAAOymB,GAC3B1mB,YAAa,IAGjBvV,OAAOqV,eAAe5V,KAAM,SAC1B,CAAE+V,IAAM,WAAc,OAAO9U,GAC3B6U,YAAa,IAIjBvV,OAAOqV,eAAe5V,KAAM,YAC1B,CAAE+V,IAAM,WAAc,OAAOinB,GAC3BlnB,YAAa,IAGjB9V,KAAKsH,QAAU,SAAU1H,EAAI29B,GAC3BA,EAAQA,GAASv9B,KAEjB,IADA,IAAI0B,EAAI,EACCI,EAAIg7B,EAAM,EAAGh7B,GAAK,GAAKJ,EAAIs7B,EAAWl7B,IAAK,GAAI+6B,EAAQ/6B,GAAI,CAClEJ,IACA,IAAIy7B,EAAMN,EAAQ/6B,GAClBlC,EAAGkB,KAAKy8B,EAAOJ,EAAI56B,MAAO46B,EAAIn6B,IAAKhD,QAIvCA,KAAK6B,KAAO,WAGV,IAFA,IAAIA,EAAO,IAAIlB,MAAMq8B,GACjBt7B,EAAI,EACCI,EAAIg7B,EAAM,EAAGh7B,GAAK,GAAKJ,EAAIs7B,EAAWl7B,IAAK,GAAI+6B,EAAQ/6B,GAAI,CAClE,IAAIq7B,EAAMN,EAAQ/6B,GAClBD,EAAKH,KAAOy7B,EAAIn6B,IAElB,OAAOnB,GAGT7B,KAAKga,OAAS,WAGZ,IAFA,IAAIA,EAAS,IAAIrZ,MAAMq8B,GACnBt7B,EAAI,EACCI,EAAIg7B,EAAM,EAAGh7B,GAAK,GAAKJ,EAAIs7B,EAAWl7B,IAAK,GAAI+6B,EAAQ/6B,GAAI,CAClE,IAAIq7B,EAAMN,EAAQ/6B,GAClBkY,EAAOtY,KAAOy7B,EAAI56B,MAEpB,OAAOyX,GAGTha,KAAKw9B,MAAQ,WACX,GAAIlM,EACF,IAAK,IAAIxvB,KAAK86B,EACZtL,EAAQxvB,EAAG86B,EAAM96B,GAAGS,OAGxBq6B,EAAQ,GACRC,EAAU,GACVE,EAAM,EACND,EAAM,EACN77B,EAAS,EACT+7B,EAAY,GAKdh9B,KAAKy9B,KAAO,WACV,OAAOb,GAGT58B,KAAK09B,QAAU,WACb,OAAOb,GAGT78B,KAAKwnB,IAAM,SAAUxkB,EAAKT,GACxB,GAAI85B,EAAIO,EAAO55B,GAMb,OAJIsuB,GAASA,EAAQtuB,EAAK45B,EAAM55B,GAAKT,OACjCo6B,IAAQC,EAAM55B,GAAKwe,IAAMN,KAAKM,OAClCob,EAAM55B,GAAKT,MAAQA,EACnBvC,KAAK+V,IAAI/S,IACF,EAGT,IAAIb,EAAMq6B,EAAiBj6B,GACvBo7B,EAAMhB,EAASzb,KAAKM,MAAQ,EAC5B2b,EAAM,IAAIS,EAAM56B,EAAKT,EAAOu6B,IAAO36B,EAAKw7B,GAG5C,OAAIR,EAAIl8B,OAASqd,GACXgT,GAASA,EAAQtuB,EAAKT,IACnB,IAGTtB,GAAUk8B,EAAIl8B,OACd47B,EAAQM,EAAIC,IAAMR,EAAM55B,GAAOm6B,EAC/BH,IAEI/7B,EAASqd,GAAKgX,KACX,IAGTt1B,KAAK69B,IAAM,SAAU76B,GACnB,IAAKq5B,EAAIO,EAAO55B,GAAM,OAAO,EAC7B,IAAIm6B,EAAMP,EAAM55B,GAChB,QAAI25B,GAAWzb,KAAKM,MAAQ2b,EAAI3b,IAAMmb,IAMxC38B,KAAK+V,IAAM,SAAU/S,GACnB,GAAKq5B,EAAIO,EAAO55B,GAAhB,CACA,IAAIm6B,EAAMP,EAAM55B,GAChB,OAAI25B,GAAWzb,KAAKM,MAAQ2b,EAAI3b,IAAMmb,GACpC38B,KAAKi9B,IAAIj6B,GACFy5B,EAAaU,EAAI56B,WAAQuV,IAElColB,EAAQC,GACRA,EAAIC,GAAKN,IACTD,EAAQM,EAAIC,IAAMD,EACXA,EAAI56B,SAGbvC,KAAKi9B,IAAM,SAAUj6B,GACnBi6B,EAAIL,EAAM55B,KAyBd,SAAS46B,EAAO56B,EAAKT,EAAOu6B,EAAK36B,EAAKw7B,GACpC39B,KAAKgD,IAAMA,EACXhD,KAAKuC,MAAQA,EACbvC,KAAKo9B,GAAKN,EACV98B,KAAKiB,OAASkB,EACdnC,KAAKwhB,IAAMmc,EA5OqBlvB,EAAOC,QACvCD,EAAOC,QAAU6tB,EAGjBv8B,KAAKu8B,SAAWA,EANjB,I,eCAD,IACM5oB,EACA3D,EACAoC,EACAjC,EAGJ8d,EANIta,EAAQ,EAAQ,MAChB3D,EAAO,YACPoC,EAAW,EAAQ,MACnBjC,EAAM,YAGV8d,EAAM,SAAUxa,EAAS3B,GAEnB2B,EAAQO,aAAerD,OAEvB8C,EADE3B,GAAgC,WAArBA,EAAQqY,SACXha,EAAIF,cAAcwD,GAElBzD,EAAKC,cAAcwD,GACxBrB,EAASqB,GAChBA,EAAU9S,MAAMH,UAAUiK,MAAM3J,KAAK2S,EAAS,GACtC9S,MAAMC,QAAQ6S,IAAYA,EAAQO,cAAgB8pB,aAC1DrqB,EAAUA,EAAQhT,YAWpB,IARA,IAAI85B,EAAI5mB,EAAMU,aAAaZ,GACvB5F,EAAqB,EAAjB4F,EAAQxS,OACZ2C,EAAK,WACLC,GAAK,UACL8Q,GAAK,WACLopB,EAAK,UAGAr8B,EAAI,EAAGA,EAAI64B,EAAEt5B,OAAQS,IAC5B64B,EAAE74B,GAAsC,UAA/B64B,EAAE74B,IAAO,EAAM64B,EAAE74B,KAAO,IACO,YAA/B64B,EAAE74B,IAAM,GAAO64B,EAAE74B,KAAQ,GAIpC64B,EAAE1sB,IAAM,IAAM,KAASA,EAAI,GAC3B0sB,EAA4B,IAAvB1sB,EAAI,KAAQ,GAAM,IAAWA,EAGlC,IAAImwB,EAAK/P,EAAIgQ,IACTC,EAAKjQ,EAAIkQ,IACTC,EAAKnQ,EAAIoQ,IACTC,EAAKrQ,EAAIsQ,IAEb,IAAS78B,EAAI,EAAGA,EAAI64B,EAAEt5B,OAAQS,GAAK,GAAI,CAErC,IAAI88B,EAAK56B,EACL66B,EAAK56B,EACL66B,EAAK/pB,EACLgqB,EAAKZ,EAETn6B,EAAIo6B,EAAGp6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIC,EAAGD,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,IAAK,WACjCiT,EAAIqpB,EAAGrpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,GAAK,WACjCmC,EAAIm6B,EAAGn6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,YACjCkC,EAAIo6B,EAAGp6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIC,EAAGD,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,GAAK,YACjCiT,EAAIqpB,EAAGrpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,IAAK,YACjCmC,EAAIm6B,EAAGn6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,UACjCkC,EAAIo6B,EAAGp6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,EAAI,YACjCq8B,EAAIC,EAAGD,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,IAAK,YACjCiT,EAAIqpB,EAAGrpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,IAAK,OACjCmC,EAAIm6B,EAAGn6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,IAAK,YACjCkC,EAAIo6B,EAAGp6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAE,IAAM,EAAI,YACjCq8B,EAAIC,EAAGD,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAK,IAAK,UACjCiT,EAAIqpB,EAAGrpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,IAAK,YAGjCkC,EAAIs6B,EAAGt6B,EAFPC,EAAIm6B,EAAGn6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,GAAK,YAEpBiT,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIG,EAAGH,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAK,GAAI,YACjCiT,EAAIupB,EAAGvpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,GAAK,WACjCmC,EAAIq6B,EAAGr6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,WACjCkC,EAAIs6B,EAAGt6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIG,EAAGH,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAM,EAAI,UACjCiT,EAAIupB,EAAGvpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,IAAK,WACjCmC,EAAIq6B,EAAGr6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,WACjCkC,EAAIs6B,EAAGt6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,EAAI,WACjCq8B,EAAIG,EAAGH,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAM,GAAI,YACjCiT,EAAIupB,EAAGvpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,IAAK,WACjCmC,EAAIq6B,EAAGr6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,GAAK,YACjCkC,EAAIs6B,EAAGt6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAE,IAAM,GAAI,YACjCq8B,EAAIG,EAAGH,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAK,GAAI,UACjCiT,EAAIupB,EAAGvpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,GAAK,YAGjCkC,EAAIw6B,EAAGx6B,EAFPC,EAAIq6B,EAAGr6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,IAAK,YAEpBiT,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,QACjCq8B,EAAIK,EAAGL,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,IAAK,YACjCiT,EAAIypB,EAAGzpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,GAAK,YACjCmC,EAAIu6B,EAAGv6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,IAAK,UACjCkC,EAAIw6B,EAAGx6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,YACjCq8B,EAAIK,EAAGL,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,GAAK,YACjCiT,EAAIypB,EAAGzpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,IAAK,WACjCmC,EAAIu6B,EAAGv6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,IAAK,YACjCkC,EAAIw6B,EAAGx6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAE,IAAM,EAAI,WACjCq8B,EAAIK,EAAGL,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,IAAK,WACjCiT,EAAIypB,EAAGzpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,IAAK,WACjCmC,EAAIu6B,EAAGv6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,GAAK,UACjCkC,EAAIw6B,EAAGx6B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIK,EAAGL,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAK,IAAK,WACjCiT,EAAIypB,EAAGzpB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,GAAK,WAGjCkC,EAAI06B,EAAG16B,EAFPC,EAAIu6B,EAAGv6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,WAEpBiT,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIO,EAAGP,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,GAAK,YACjCiT,EAAI2pB,EAAG3pB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,IAAK,YACjCmC,EAAIy6B,EAAGz6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,UACjCkC,EAAI06B,EAAG16B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAE,IAAM,EAAI,YACjCq8B,EAAIO,EAAGP,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAG,GAAI,IAAK,YACjCiT,EAAI2pB,EAAG3pB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAE,IAAK,IAAK,SACjCmC,EAAIy6B,EAAGz6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,YACjCkC,EAAI06B,EAAG16B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,EAAI,YACjCq8B,EAAIO,EAAGP,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAK,IAAK,UACjCiT,EAAI2pB,EAAG3pB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,IAAK,YACjCmC,EAAIy6B,EAAGz6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAE,IAAK,GAAK,YACjCkC,EAAI06B,EAAG16B,EAAGC,EAAG8Q,EAAGopB,EAAGxD,EAAE74B,EAAG,GAAK,GAAI,WACjCq8B,EAAIO,EAAGP,EAAGn6B,EAAGC,EAAG8Q,EAAG4lB,EAAE74B,EAAE,IAAK,IAAK,YACjCiT,EAAI2pB,EAAG3pB,EAAGopB,EAAGn6B,EAAGC,EAAG02B,EAAE74B,EAAG,GAAI,GAAK,WACjCmC,EAAIy6B,EAAGz6B,EAAG8Q,EAAGopB,EAAGn6B,EAAG22B,EAAE74B,EAAG,GAAI,IAAK,WAEjCkC,EAAKA,EAAI46B,IAAQ,EACjB36B,EAAKA,EAAI46B,IAAQ,EACjB9pB,EAAKA,EAAI+pB,IAAQ,EACjBX,EAAKA,EAAIY,IAAQ,EAGnB,OAAOhrB,EAAMI,OAAO,CAACnQ,EAAGC,EAAG8Q,EAAGopB,MAI5BE,IAAO,SAAUr6B,EAAGC,EAAG8Q,EAAGopB,EAAGr6B,EAAG01B,EAAGwF,GACrC,IAAI/qB,EAAIjQ,GAAKC,EAAI8Q,GAAK9Q,EAAIk6B,IAAMr6B,IAAM,GAAKk7B,EAC3C,OAAS/qB,GAAKulB,EAAMvlB,IAAO,GAAKulB,GAAOv1B,GAEzCoqB,EAAIkQ,IAAO,SAAUv6B,EAAGC,EAAG8Q,EAAGopB,EAAGr6B,EAAG01B,EAAGwF,GACrC,IAAI/qB,EAAIjQ,GAAKC,EAAIk6B,EAAIppB,GAAKopB,IAAMr6B,IAAM,GAAKk7B,EAC3C,OAAS/qB,GAAKulB,EAAMvlB,IAAO,GAAKulB,GAAOv1B,GAEzCoqB,EAAIoQ,IAAO,SAAUz6B,EAAGC,EAAG8Q,EAAGopB,EAAGr6B,EAAG01B,EAAGwF,GACrC,IAAI/qB,EAAIjQ,GAAKC,EAAI8Q,EAAIopB,IAAMr6B,IAAM,GAAKk7B,EACtC,OAAS/qB,GAAKulB,EAAMvlB,IAAO,GAAKulB,GAAOv1B,GAEzCoqB,EAAIsQ,IAAO,SAAU36B,EAAGC,EAAG8Q,EAAGopB,EAAGr6B,EAAG01B,EAAGwF,GACrC,IAAI/qB,EAAIjQ,GAAK+Q,GAAK9Q,GAAKk6B,KAAOr6B,IAAM,GAAKk7B,EACzC,OAAS/qB,GAAKulB,EAAMvlB,IAAO,GAAKulB,GAAOv1B,GAIzCoqB,EAAI4Q,WAAa,GACjB5Q,EAAI6Q,YAAc,GAElBrwB,EAAOC,QAAU,SAAU+E,EAAS3B,GAClC,GAAI2B,QACF,MAAM,IAAI3T,MAAM,oBAAsB2T,GAExC,IAAIsrB,EAAcprB,EAAMY,aAAa0Z,EAAIxa,EAAS3B,IAClD,OAAOA,GAAWA,EAAQktB,QAAUD,EAChCjtB,GAAWA,EAAQmtB,SAAW9uB,EAAIG,cAAcyuB,GAChDprB,EAAMa,WAAWuqB,K,w10IClJzBtwB,EAAOC,QAAU,EAAjB,O,2BCIA,IA2IuBwwB,EAAYC,EAE7BC,EA7IFC,EAAK,EAAQ,MACbC,EAAU,gBAOVC,EAAsB,0BACtBC,EAAmB,WAyBvB,SAASC,EAASvM,GAChB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI9W,EAAQmjB,EAAoB3Q,KAAKsE,GACjCzc,EAAO2F,GAASijB,EAAGjjB,EAAM,GAAGhD,eAEhC,OAAI3C,GAAQA,EAAKgpB,QACRhpB,EAAKgpB,WAIVrjB,IAASojB,EAAiBjzB,KAAK6P,EAAM,MAChC,QAjCX1N,EAAQ+wB,QAAUA,EAClB/wB,EAAQgxB,SAAW,CAAE3mB,OAAQ0mB,GAC7B/wB,EAAQ2J,YA4CR,SAAsBnI,GAEpB,IAAKA,GAAsB,iBAARA,EACjB,OAAO,EAGT,IAAIuG,GAA6B,IAAtBvG,EAAIlF,QAAQ,KACnB0D,EAAQqK,OAAO7I,GACfA,EAEJ,IAAKuG,EACH,OAAO,EAIT,IAAiC,IAA7BA,EAAKzL,QAAQ,WAAmB,CAClC,IAAIy0B,EAAU/wB,EAAQ+wB,QAAQhpB,GAC1BgpB,IAAShpB,GAAQ,aAAegpB,EAAQrmB,eAG9C,OAAO3C,GA/DT/H,EAAQixB,UAyER,SAAoBzM,GAClB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI9W,EAAQmjB,EAAoB3Q,KAAKsE,GAGjC0M,EAAOxjB,GAAS1N,EAAQwwB,WAAW9iB,EAAM,GAAGhD,eAEhD,SAAKwmB,IAASA,EAAK3+B,SAIZ2+B,EAAK,IAvFdlxB,EAAQwwB,WAAa3+B,OAAOsR,OAAO,MACnCnD,EAAQqK,OAgGR,SAAiB3C,GACf,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAIupB,EAAYL,EAAQ,KAAOlpB,GAC5BgD,cACAxE,OAAO,GAEV,OAAK+qB,GAIEjxB,EAAQywB,MAAMQ,KAHZ,GA1GXjxB,EAAQywB,MAAQ5+B,OAAOsR,OAAO,MAqHPqtB,EAlHVxwB,EAAQwwB,WAkHcC,EAlHFzwB,EAAQywB,MAoHnCC,EAAa,CAAC,QAAS,cAAUtnB,EAAW,QAEhDvX,OAAOsB,KAAKw9B,GAAI/3B,SAAQ,SAA0B4rB,GAChD,IAAIzc,EAAO4oB,EAAGnM,GACV0M,EAAOnpB,EAAKyoB,WAEhB,GAAKU,GAASA,EAAK3+B,OAAnB,CAKAi+B,EAAWhM,GAAQ0M,EAGnB,IAAK,IAAIl+B,EAAI,EAAGA,EAAIk+B,EAAK3+B,OAAQS,IAAK,CACpC,IAAIi+B,EAAYC,EAAKl+B,GAErB,GAAIy9B,EAAMQ,GAAY,CACpB,IAAIhmB,EAAOylB,EAAWp0B,QAAQq0B,EAAGF,EAAMQ,IAAYrqB,QAC/CuqB,EAAKT,EAAWp0B,QAAQyL,EAAKnB,QAEjC,GAAyB,6BAArB6pB,EAAMQ,KACPhmB,EAAOkmB,GAAOlmB,IAASkmB,GAAyC,iBAAnCV,EAAMQ,GAAW/qB,OAAO,EAAG,KAEzD,SAKJuqB,EAAMQ,GAAazM,Q,eC/KzB,IAAI7c,EAAc,EAAQ,MACtBC,EAAc,EAAQ,MACtBoR,EAAc,EAAQ,MACtBvV,EAAc,eACdrB,EAAc,EAAQ,MAEtBgvB,EAAe,CACfzpB,KAAMA,EACNC,MAAOA,GAGPypB,EAAgB,SAAS1K,EAAO2K,GAChC,IAAIC,EAAU,GAEd,IAAI5K,EACA,MAAM,IAAIv1B,MAAM,6DAIpBmgC,EAAQD,OAAS,CACbzzB,MAAM,EACN2zB,OAAO,EACPC,SAAS,EACT3lB,KAAM,mBACNE,SAAU,QAGdulB,EAAQ5K,MAAQA,EAWhB4K,EAAQG,aAAe,SAASC,EAAUt7B,EAAMvC,GAC5CA,EAAWA,GAAY,aACvB,IACI89B,EAAe,CACf,KAFa,IAAInuB,EAAO2U,KAAKC,UAAUhiB,IAEpBtE,SAAS,UAC5B,GAAM,EACN,QAAWw/B,EAAQD,OAAOG,QAAU,EAAI,GAGxCI,EAAcT,EAAaG,EAAQD,OAAOtlB,UAC9C,IAAK6lB,EACD,MAAM,IAAIzgC,MACN,uDAAyDmgC,EAAQD,OAAOtlB,SAAxE,8BAC8Bna,OAAOsB,KAAKi+B,IAIlD,GAAiB,YAAbO,EAAwB,CACxB,IAAIr9B,EAAMi9B,EAAQD,OAAOh9B,IACzB,IAAKA,EACD,MAAM,IAAIlD,MAAM,uGAEpBwgC,EAAaE,QAAUx9B,EAG3B,IAAIy9B,EAAkB,CAClBjmB,KAAMylB,EAAQD,OAAOxlB,KACrBF,KAAM2lB,EAAQD,OAAO1lB,KACrBrC,QAAS,IAGTgoB,EAAQD,OAAOzzB,OAAQ+zB,EAAa/zB,KAAO,GAE/C,IAAIyf,EAAQtE,EAAYX,UAAUuZ,GAElCG,EAAgBrqB,KAAO,CAACiqB,EAAS,IAAIrU,GAAOnb,KAAK,IAEjD0vB,EAAYxqB,IAAI0qB,GAAiB,SAASrX,GACtC,IAAIrkB,EAAO,GACXqkB,EAAI3W,GAAG,QAAQ,SAASykB,GACrBnyB,GAAQmyB,KAGX9N,EAAI3W,GAAG,OAAO,WACV,IAAI8iB,EACJ,GAAI0K,EAAQD,OAAOG,QACf,IACI,IAAI7+B,EAASwlB,KAAKQ,MAAMviB,GACJ,GAAjBzD,EAAO+pB,SACNkK,EAAI,IAAIz1B,MAAM,0BAA4BwB,EAAOkF,QAGzD,MAAMk6B,GACFnL,EAAI,IAAIz1B,MAAM,+CAIlBy1B,EAAc,MAATxwB,EAAgB,IAAIjF,MAAM,0BAA4BiF,QAAQ+S,EAGvEtV,EAAS+yB,SAEd9iB,GAAG,SAAS,SAAS8iB,GAChB0K,EAAQD,OAAOE,OACf35B,QAAQgH,IAAI,cAAgBgoB,EAAE9hB,SAElCjR,EAAS+yB,OAcjB0K,EAAQU,MAAQ,SAASlU,EAAOmU,EAAYp+B,GACb,mBAAjB,GAAgCo+B,IACtCp+B,EAAWo+B,EACXA,EAAa,IAIjB,IAAIP,EAAwC,iBAArBO,EAAe,KAAkB,UAAY,SAEpEA,EAAWvL,MAAQ4K,EAAQ5K,MAC3BuL,EAAWC,OAAS,OAEpB,IAAI97B,EAAO,CACP,MAAU0nB,EACV,WAAemU,GAGfX,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,4CACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAaC,EAAUt7B,EAAMvC,IAGzC,IAAIs+B,EAAa,SAASC,GACtB,QAAa,IAATA,EACA,MAAM,IAAIjhC,MAAM,+DAIpB,MAHoD,kBAAzCS,OAAOC,UAAUC,SAASK,KAAKigC,KACtCA,EAAO76B,KAAKiO,MAAM4sB,EAAKtf,UAAY,MAEhCsf,GAuBXd,EAAQe,OAAS,SAASvU,EAAOsU,EAAMH,EAAYp+B,GACpB,mBAAjB,GAAgCo+B,IACtCp+B,EAAWo+B,EACXA,EAAa,IAGjBA,EAAWG,KAAOD,EAAWC,GAE7Bd,EAAQU,MAAMlU,EAAOmU,EAAYp+B,IA2CrCy9B,EAAQgB,aAAe,SAASC,EAAYpvB,EAAStP,GACjD,IAAI2+B,EAAa,GACbC,EAAeF,EAAWjgC,OAC1BogC,EAA0BD,EAC1BE,EAAmB,EACnBC,EAAkB,EAClBC,EAAiB,GAEG,mBAAd,GAA6B1vB,IACnCtP,EAAWsP,EACXA,EAAU,IAEVA,EAAQ2vB,iBACRJ,EAA0BvvB,EAAQ2vB,eAC9B3vB,EAAQ2vB,eAAiBN,IACzBA,EAAarvB,EAAQ2vB,iBAI7B,IAAIC,EAAkB,WAKlB,IAJA,IAAId,EACAe,EAAc,GAGTC,EAAKL,EAAiBK,EAAKR,GAAgBQ,EAAKL,EAAkBJ,EAAYS,KACnFhB,EAAaM,EAAWU,GAAIhB,YACjBG,KAAOD,EAAWF,EAAWG,MACnCH,EAAWvL,QACZuL,EAAWvL,MAAQ4K,EAAQ5K,OAE/BsM,EAAY3/B,KAAKk/B,EAAWU,IAG5BD,EAAY1gC,OAAS,IACrBg/B,EAAQG,aAAa,UAAWuB,GAAa,SAASpM,GAClD+L,GAAoBK,EAAY1gC,OAC5Bs0B,GACAiM,EAAex/B,KAAKuzB,GAEpB+L,EAAmBF,EACnBM,IACOl/B,GACPA,EAASg/B,MAGjBD,GAAmBJ,IAIvBlB,EAAQD,OAAOE,OACf35B,QAAQgH,IACJ,WAAa2zB,EAAWjgC,OAAS,0BACjCiF,KAAK27B,KAAKT,EAAeD,GAAc,aAI/C,IAAK,IAAIz/B,EAAI,EAAGA,EAAI2/B,EAAyB3/B,GAAKy/B,EAC9CO,KAeRzB,EAAQ6B,MAAQ,SAASC,EAAaD,EAAOt/B,GACzC,IAAIo+B,EAAa,CACbmB,YAAaA,EACbD,MAAOA,GAGX7B,EAAQU,MAAM,gBAAiBC,EAAYp+B,IAG/Cy9B,EAAQ+B,OAAS,CAabC,SAAU,SAASF,EAAavpB,EAAMqnB,EAAIqC,EAAW1/B,GACjD,IAAI2/B,EAAO,GAEU,iBAAX,GACa,iBAAT,GACN3/B,EAAW0/B,EACXA,EAAYrC,GAEZr9B,EAAWq9B,EAEfsC,EAAO3pB,IAEP2pB,EAAK3pB,GAAQqnB,EACa,mBAAhB,GAA+BqC,IACrC1/B,EAAW0/B,KAInBA,EAAYA,GAAa,IACfD,UAAW,EAErBjiC,KAAKoiC,KAAKL,EAAaI,EAAM3/B,EAAU0/B,IAiB3C1a,IAAK,SAASua,EAAavpB,EAAMqnB,EAAIqC,EAAW1/B,GAC5C,IAAI2/B,EAAO,GAEU,iBAAX,GACa,iBAAT,GACN3/B,EAAW0/B,EACXA,EAAYrC,GAEZr9B,EAAWq9B,EAEfsC,EAAO3pB,IAEP2pB,EAAK3pB,GAAQqnB,EACa,mBAAhB,GAA+BqC,IACrC1/B,EAAW0/B,IAInBliC,KAAKoiC,KAAKL,EAAaI,EAAM3/B,EAAU0/B,IAI3CE,KAAM,SAASL,EAAaI,EAAM3/B,EAAUsP,GAExC,IAAIuwB,GADJvwB,EAAUA,GAAW,KACKA,EAAQmwB,SAAY,YAAc,OAExDl9B,EAAO,CACP,OAAUk7B,EAAQ5K,MAClB,aAAgB0M,GAEpBh9B,EAAKs9B,GAAWF,EAEZ,OAAQA,IACRp9B,EAAKu9B,IAAMH,EAAKxiB,UACTwiB,EAAKxiB,IAGZwiB,EAAKI,eACLx9B,EAAKw9B,aAAeJ,EAAKI,oBAClBJ,EAAKI,cAGhBx9B,EAAOy9B,EAAgBz9B,EAAM+M,GAEzBmuB,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,IA0B1CigC,UAAW,SAASV,EAAavpB,EAAMkqB,EAAIR,EAAW1/B,GAClD,IAAImgC,EAAO,GAEU,iBAAX,GACa,iBAAT,GACNngC,EAAW0/B,EACXA,EAAYQ,GAEZlgC,EAAWkgC,EAEfniC,OAAOsB,KAAK2W,GAAMlR,SAAQ,SAAStE,GAC/B,IAAIoyB,EAAM5c,EAAKxV,GAEX4/B,MAAM3J,WAAW7D,IACb6K,EAAQD,OAAOE,QACf35B,QAAQC,MAAM,kFACdD,QAAQC,MAAM,UAAYxD,EAAM,IAAMoyB,IAI1CuN,EAAK3/B,GAAOoyB,MAID,iBAAT,GAAsBsN,EAMN,mBAAT,GACblgC,EAAWkgC,EACXC,EAAKnqB,GAAQ,IAEbhW,EAAW0/B,EACXA,EAA4B,iBAAT,EAAqBQ,EAAK,GAC7CC,EAAKnqB,GAAQ,IAXbkqB,EAAKA,GAAM,EACXC,EAAKnqB,GAAQkqB,EACa,mBAAhB,IACNlgC,EAAW0/B,IAYvB,IAAIn9B,EAAO,CACP,KAAQ49B,EACR,OAAU1C,EAAQ5K,MAClB,aAAgB0M,GAGpBh9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,IAmB1C6P,OAAQ,SAAS0vB,EAAavpB,EAAMjW,EAAO2/B,EAAW1/B,GAClD,IAAIqgC,EAAU,GAEO,iBAAX,GACgB,iBAAZ,GACNrgC,EAAW0/B,EACXA,EAAY3/B,GAEZC,EAAWD,EAEfhC,OAAOsB,KAAK2W,GAAMlR,SAAQ,SAAStE,GAC/B6/B,EAAQ7/B,GAAOwV,EAAKxV,QAGxB6/B,EAAQrqB,GAAQjW,EACU,mBAAhB,IACNC,EAAW0/B,IAInB,IAAIn9B,EAAO,CACP,QAAW89B,EACX,OAAU5C,EAAQ5K,MAClB,aAAgB0M,GAGpBh9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,IAiB1CsgC,aAAc,SAASf,EAAagB,EAAQnC,EAAYsB,EAAW1/B,GAiB/D,GAhB2B,mBAAjB,GAAgCo+B,EAIZ,mBAAhB,GAA+BsB,IACrC1/B,EAAW0/B,GAAa,cACpBtB,EAAW2B,cAAgB3B,EAAW7+B,eAAe,UACrDmgC,EAAY,GACZ3hC,OAAOsB,KAAK++B,GAAYt5B,SAAQ,SAAStE,GACrCk/B,EAAUl/B,GAAO49B,EAAW59B,UACrB49B,EAAW59B,SAT9BR,EAAWo+B,GAAc,aACzBA,EAAa,IAcM,iBAAb,IACNmC,EAAS9J,WAAW8J,GAChBH,MAAMG,IACNx8B,QAAQC,MAAM,+EAHtB,CAUA,GAFAo6B,EAAWoC,QAAUD,EAEjBnC,EAAW7+B,eAAe,SAAU,CACpC,IAAIg/B,EAAOH,EAAWqC,MACuB,kBAAzC1iC,OAAOC,UAAUC,SAASK,KAAKigC,KAC/BH,EAAWqC,MAAQlC,EAAKmC,eAIhC,IAAIn+B,EAAO,CACP,QAAW,CAAE,cAAiB67B,GAC9B,OAAUX,EAAQ5K,MAClB,aAAgB0M,GAGpBh9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,KAY1C2gC,cAAe,SAASpB,EAAaG,EAAW1/B,GAC5C,IAAIuC,EAAO,CACP,KAAQ,CAAE,cAAiB,IAC3B,OAAUk7B,EAAQ5K,MAClB,aAAgB0M,GAGM,mBAAhB,IAA8Bv/B,EAAW0/B,GAEnDn9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,OACf35B,QAAQgH,IAAI,gCAAiCw0B,GAGjD9B,EAAQG,aAAa,UAAWr7B,EAAMvC,IAY1C4gC,YAAa,SAASrB,EAAaG,EAAW1/B,GAC1C,IAAIuC,EAAO,CACP,QAAW,GACX,OAAUk7B,EAAQ5K,MAClB,aAAgB0M,GAGM,mBAAhB,IAA8Bv/B,EAAW0/B,GAEnDn9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,OACf35B,QAAQgH,IAAI,iCAAkCw0B,GAGlD9B,EAAQG,aAAa,UAAWr7B,EAAMvC,IAc1C6gC,MAAO,SAAStB,EAAah9B,EAAMm9B,EAAW1/B,GAC1C,IAAI8gC,EAAS,GAEQ,iBAAX,GAAuBxyB,EAAKlQ,QAAQmE,GACtCk7B,EAAQD,OAAOE,OACf35B,QAAQC,MAAM,6FAKtBjG,OAAOsB,KAAKkD,GAAMuC,SAAQ,SAAStE,GAC/B,IAAIoyB,EAAMrwB,EAAK/B,GACf,GAAI8N,EAAKlQ,QAAQw0B,GAAM,CACnB,IAAImO,EAAenO,EAAIhsB,QAAO,SAAS3H,GACnC,MAAqB,iBAAR,GAAkC,iBAAR,KAEvC8hC,EAAatiC,OAAS,IACtBqiC,EAAOtgC,GAAOugC,OAEf,IAAoB,iBAAV,GAAsC,iBAAV,EAOzC,YAJItD,EAAQD,OAAOE,QACf35B,QAAQC,MAAM,6FACdD,QAAQC,MAAM,UAAYxD,EAAM,IAAKoyB,KAJzCkO,EAAOtgC,GAAO,CAACoyB,OAUY,IAA/B70B,OAAOsB,KAAKyhC,GAAQriC,SAIxB8D,EAAO,CACH,OAAUu+B,EACV,OAAUrD,EAAQ5K,MAClB,aAAgB0M,GAGM,mBAAhB,IACNv/B,EAAW0/B,GAGfn9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,MAc1CghC,MAAO,SAASzB,EAAavpB,EAAM0pB,EAAW1/B,GAC1C,IAAIihC,EAAS,GAEb,GAAI3yB,EAAKlQ,QAAQ4X,GACbirB,EAASjrB,MACN,IAAqB,iBAAX,EAOb,YAJIynB,EAAQD,OAAOE,QACf35B,QAAQC,MAAM,gFACdD,QAAQC,MAAM,WAAagS,KAJ/BirB,EAAS,CAACjrB,GASd,IAAIzT,EAAO,CACP,OAAU0+B,EACV,OAAUxD,EAAQ5K,MAClB,aAAgB0M,GAGM,mBAAhB,IACNv/B,EAAW0/B,GAGfn9B,EAAOy9B,EAAgBz9B,EAAMm9B,GAEzBjC,EAAQD,OAAOE,QACf35B,QAAQgH,IAAI,oDACZhH,QAAQgH,IAAIxI,IAGhBk7B,EAAQG,aAAa,UAAWr7B,EAAMvC,KAI9C,IAAIggC,EAAkB,SAASz9B,EAAMm9B,GAejC,OAdIA,IACIA,EAAUwB,gBACV3+B,EAAK2+B,cAAgBxB,EAAUwB,eAE/BxB,EAAUK,eACVx9B,EAAKw9B,aAAeL,EAAUK,cAE9BL,EAAUngC,eAAe,SACzBgD,EAAKu9B,IAAMJ,EAAUI,KAErBJ,EAAUngC,eAAe,WACzBgD,EAAKk+B,MAAQnC,EAAWoB,EAAUe,SAGnCl+B,GA+BX,OApBAk7B,EAAQ0D,WAAa,SAAS3D,GAC1B,IAAK,IAAIrrB,KAAKqrB,EACV,GAAIA,EAAOj+B,eAAe4S,GACtB,GAAS,QAALA,EAAa,CACbsrB,EAAQD,OAAOxlB,KAAOwlB,EAAOrrB,GAAGkL,MAAM,KAAK,GAC3C,IAAIvF,EAAO0lB,EAAOrrB,GAAGkL,MAAM,KAAK,GAC5BvF,IACA2lB,EAAQD,OAAO1lB,KAAOrG,OAAOqG,SAGjC2lB,EAAQD,OAAOrrB,GAAKqrB,EAAOrrB,IAMvCqrB,GACAC,EAAQ0D,WAAW3D,GAGhBC,GAIXxxB,EAAOC,QAAU,CACbk1B,OAAQ,SAASvO,GAEb,OADA9uB,QAAQs9B,KAAK,gFACN9D,EAAc1K,IAEzByO,KAAM/D,I,4BC/zBV,MAAM,UAACgE,GAAa,EAAQ,MACtB3tB,EAAO,EAAQ,MACf4tB,EAAe,EAAQ,MACvBxtB,EAAK,EAAQ,MACbgF,EAAQ,EAAQ,MAChBP,EAAW,EAAQ,MAEnBgpB,EAAUF,EAAUvtB,EAAG0tB,QACvBC,EAAYJ,EAAUC,EAAaI,UAGnCC,EAAmBjuB,EAAKvF,KAAK0oB,UAAW,YAqB9C9qB,EAAOC,QAAUjP,MAAOygB,EAAQpO,KAC/B,GAAsB,iBAAXoO,EACV,MAAM,IAAIokB,UAAU,uBAUrB,IAAIC,EAPJzyB,EAAU,CACT0yB,MAAM,EACNC,YAAY,EACZC,sBAAsB,KACnB5yB,GAIJ,IAAI,IAAC6yB,GAAO7yB,EACR8yB,EAAe,GACnB,MAAMC,EAAe,GACfC,EAAsB,GAO5B,GALInkC,MAAMC,QAAQ+jC,KACjBC,EAAeD,EAAIl6B,MAAM,GACzBk6B,EAAMA,EAAI,IAGc,WAArBn/B,QAAQiW,SACX8oB,EAAU,OAENzyB,EAAQ0yB,MACXK,EAAa7iC,KAAK,eAGf8P,EAAQ2yB,YACXI,EAAa7iC,KAAK,gBAGf2iC,GACHE,EAAa7iC,KAAK,KAAM2iC,QAEnB,GAAyB,UAArBn/B,QAAQiW,UAAyBD,IAAUP,IAAa,CAClE,MAAM8pB,EAAcvpB,OA3CM/b,WAC3B,MAAM,OAAC4zB,SAAgB8Q,EAAU,SAAU,CA0CY,eAzCvD,OAAO9Q,EAAOiC,QAyCqB0P,GAAoCx/B,QAAQkW,IAAIupB,WAClFV,EAAU5zB,OAAO0e,GAAG,GAAG0V,+CAAyDvpB,EAAQ,OAAS,KACjGqpB,EAAa7iC,KACZ,aACA,kBACA,mBACA,SACA,mBAGGwZ,EACH+oB,OA5DsB9kC,WACxB,MAAM,OAAC4zB,SAAgB8Q,EAAU,UAAW,CAAC/tB,IAC7C,OAAOid,EAAOiC,QA0DI4P,CAAiBX,GAEjCO,EAAoBK,0BAA2B,EAGhD,MAAMC,EAAmB,CAAC,SAEtBtzB,EAAQ0yB,MACXY,EAAiBpjC,KAAK,SAGnB2iC,GACCnpB,GAASmpB,EAAI1I,WAAW,OAE3B0I,OAhFqBllC,WACxB,MAAM,OAAC4zB,SAAgB8Q,EAAU,UAAW,CAAC,KAAM/tB,IACnD,OAAOid,EAAOiC,QA6Ee+P,CAAiBV,IAM5CS,EAAiBpjC,KAAK,OAAO2iC,QAAW,iBACxCC,EAAat/B,QAAQ4a,IAErBklB,EAAiBpjC,KAAK,OAAOke,SAG1B0kB,EAAa3jC,OAAS,IACzB2jC,EAAeA,EAAat8B,KAAIimB,GAAO,OAAOA,UAC9C6W,EAAiBpjC,KAAK4iC,EAAa/zB,KAAK,OAIzCqP,EAAS/N,OAAOwH,KAAKyrB,EAAiBv0B,KAAK,KAAM,WAAWpQ,SAAS,cAC/D,CACN,GAAIkkC,EACHJ,EAAUI,MACJ,CAEN,MAAMW,EAAwC,MAAd/L,UAGhC,IAAIgM,GAAkB,EACtB,UACOtB,EAAQI,EAAkB7tB,EAAGgvB,UAAUC,MAC7CF,GAAkB,EACjB,MAAOv+B,IAITu9B,EAFyB/+B,QAAQkgC,SAASC,UACpB,YAArBngC,QAAQiW,UAA0B6pB,IAAcC,EACpB,WAAalB,EAGvCO,EAAa3jC,OAAS,GACzB4jC,EAAa7iC,QAAQ4iC,GAGjB9yB,EAAQ0yB,OAGZM,EAAoB5M,MAAQ,SAC5B4M,EAAoB7M,UAAW,GAIjC4M,EAAa7iC,KAAKke,GAEO,WAArB1a,QAAQiW,UAAyBmpB,EAAa3jC,OAAS,GAC1D4jC,EAAa7iC,KAAK,YAAa4iC,GAGhC,MAAMgB,EAAa5B,EAAanN,MAAM0N,EAASM,EAAcC,GAE7D,OAAIhzB,EAAQ0yB,KACJ,IAAIrd,SAAQ,CAACC,EAAS7d,KAC5Bq8B,EAAWC,KAAK,QAASt8B,GAEzBq8B,EAAWC,KAAK,SAASC,IACpBh0B,EAAQ4yB,sBAAwBoB,EAAW,EAC9Cv8B,EAAO,IAAIzJ,MAAM,oBAAoBgmC,MAItC1e,EAAQwe,UAKXA,EAAWG,QAEJH,K,eC1KR,MAAMhqB,EAAK,EAAQ,MAQnB,SAASoqB,EAA6BzjC,GAClC,IAAKqZ,EAAG2B,OAAOhb,GACX,OAAO,KAGX,GAAIqZ,EAAGC,IAAIM,OAAO5Z,GACd,MAAM,IAAI+hC,UAAU,kCAAkC/hC,MAwB1D,OAfqBA,EAAMsd,MAAM,KAAKvX,KAAKitB,IACvC,MAAM5V,EAAK4V,EAAED,OACb,GAAI3V,EAAGtE,SAAS,KAAM,CAClB,MAAM4qB,EAAWtmB,EAAGE,MAAM,KAE1B,GAAwB,IAApBomB,EAAShlC,OACT,OAAOglC,EAAS,GAGxB,OAAOtmB,KAMSumB,KAAKtqB,EAAG+D,IAShC,SAASwmB,EAAY5W,GAEjB,GAAIA,EAAItX,QAAS,CAEb,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,gBAClB,OAAOsX,EAAItX,QAAQ,eAIvB,MAAMmuB,EAAgBJ,EAA6BzW,EAAItX,QAAQ,oBAC/D,GAAI2D,EAAG+D,GAAGymB,GACN,OAAOA,EAMX,GAAIxqB,EAAG+D,GAAG4P,EAAItX,QAAQ,qBAClB,OAAOsX,EAAItX,QAAQ,oBAIvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,mBAClB,OAAOsX,EAAItX,QAAQ,kBAIvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,cAClB,OAAOsX,EAAItX,QAAQ,aAMvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,wBAClB,OAAOsX,EAAItX,QAAQ,uBAGvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,gBAClB,OAAOsX,EAAItX,QAAQ,eAGvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQ,kBAClB,OAAOsX,EAAItX,QAAQ,iBAGvB,GAAI2D,EAAG+D,GAAG4P,EAAItX,QAAQouB,WAClB,OAAO9W,EAAItX,QAAQouB,UAK3B,GAAIzqB,EAAG2B,OAAOgS,EAAI+W,YAAa,CAC3B,GAAI1qB,EAAG+D,GAAG4P,EAAI+W,WAAWC,eACrB,OAAOhX,EAAI+W,WAAWC,cAE1B,GAAI3qB,EAAG2B,OAAOgS,EAAI+W,WAAWE,SAAW5qB,EAAG+D,GAAG4P,EAAI+W,WAAWE,OAAOD,eAChE,OAAOhX,EAAI+W,WAAWE,OAAOD,cAIrC,OAAI3qB,EAAG2B,OAAOgS,EAAIiX,SAAW5qB,EAAG+D,GAAG4P,EAAIiX,OAAOD,eACnChX,EAAIiX,OAAOD,cAGlB3qB,EAAG2B,OAAOgS,EAAIkX,OAAS7qB,EAAG+D,GAAG4P,EAAIkX,KAAKF,eAC/BhX,EAAIkX,KAAKF,cAGb,KA0BX93B,EAAOC,QAAU,CACbs3B,+BACAG,cACAO,GAnBJ,SAAY50B,GAER,MAAM60B,EAAgB/qB,EAAGC,IAAI0B,OAAOzL,GAAW,GAAKA,EAGpD,GAAI8J,EAAGC,IAAIhU,OAAO8+B,GACd,MAAM,IAAIrC,UAAU,8BAGxB,MAAMsC,EAAgBD,EAAcC,eAAiB,WACrD,MAAO,CAACrX,EAAKnG,EAAKnd,KACdsjB,EAAIqX,GAAiBT,EAAY5W,GACjCtjB,Q,6/HC1IR,IAAIjF,EAAI,EAAQ,KACZ6/B,EAAU,EAAQ,MAElBC,EAAiB,CACnBrsB,SAAU,kBACVrE,KAAM,eACN2wB,OAAQ,KACR9qB,QAAS,IACTvB,SAAU,SACVJ,KAAM,KAsBR,SAAS0sB,EAAIl1B,EAASm1B,EAAWC,EAAQC,EAAYC,GACnDpnC,KAAK8R,QAAUA,EACf9R,KAAKinC,UAAYA,EACjBjnC,KAAKwf,IAAM0nB,EACXlnC,KAAKmnC,WAAaA,EAClBnnC,KAAKonC,WAAaA,EAClBpnC,KAAKqnC,YAAcv1B,EAAQu1B,YAC3BrnC,KAAKsnC,iBAAmBC,EAAcz1B,EAASo1B,GA2DjD,SAASK,EAAcz1B,EAAS0N,GAC9B,OAAOqnB,EAAQW,wBAAwB11B,EAASg1B,EAAgBtnB,GApDlEwnB,EAAIxmC,UAAUinC,SAAW,SAAS1iC,EAAMvC,GACtC,IAAI8kC,EAAmBT,EAAQS,iBAAiBtnC,KAAKsnC,iBAAkB,QACnE1iC,EAAUiiC,EAAQa,aAAa1nC,KAAKqnC,YAAatiC,EAAM/E,KAAKonC,YAChEpnC,KAAKinC,UAAUU,KAAK3nC,KAAKqnC,YAAaC,EAAkB1iC,EAASpC,IAQnEwkC,EAAIxmC,UAAUonC,iBAAmB,SAAS7iC,EAAMvC,GAC9C,IAEIqlC,EAFAjjC,EAAUiiC,EAAQa,aAAa1nC,KAAKqnC,YAAatiC,EAAM/E,KAAKonC,YAShE,OALES,EADE7nC,KAAKmnC,WACWnnC,KAAKmnC,WAAWW,SAASljC,GAEzBoC,EAAE+f,UAAUniB,IAGZ4B,OACdhE,GACFA,EAASqlC,EAAgBrhC,OAEpB,MAGFqhC,EAAgBtlC,OAQzBykC,EAAIxmC,UAAUunC,gBAAkB,SAASC,EAAaxlC,GACpD,IAAI8kC,EAAmBT,EAAQS,iBAAiBtnC,KAAKsnC,iBAAkB,QACvEtnC,KAAKinC,UAAUc,gBAAgB/nC,KAAKqnC,YAAaC,EAAkBU,EAAaxlC,IAGlFwkC,EAAIxmC,UAAUynC,UAAY,SAASn2B,GACjC,IAAIo2B,EAAaloC,KAAKkoC,WAMtB,OALAloC,KAAK8R,QAAU9K,EAAEqhB,MAAM6f,EAAYp2B,GACnC9R,KAAKsnC,iBAAmBC,EAAcvnC,KAAK8R,QAAS9R,KAAKwf,UACxB1H,IAA7B9X,KAAK8R,QAAQu1B,cACfrnC,KAAKqnC,YAAcrnC,KAAK8R,QAAQu1B,aAE3BrnC,MAOTyO,EAAOC,QAAUs4B,G,eCrGjB,IAAIhgC,EAAI,EAAQ,KAkFhByH,EAAOC,QAAU,CACfg5B,aAjFF,SAAsBL,EAAatiC,EAAMqiC,GACvC,IAAKpgC,EAAEmhC,OAAOpjC,EAAKqjC,QAAS,UAAW,CACrC,IAAIC,EAAgBrhC,EAAE+f,UAAUhiB,EAAKqjC,QAAShB,GAC1CiB,EAAc7hC,MAChBzB,EAAKqjC,QAAU,uCAEfrjC,EAAKqjC,QAAUC,EAAc9lC,OAAS,GAEpCwC,EAAKqjC,QAAQnnC,OAAS,MACxB8D,EAAKqjC,QAAUrjC,EAAKqjC,QAAQxzB,OAAO,EAAG,MAG1C,MAAO,CACL0zB,aAAcjB,EACdtiC,KAAMA,IAoERyiC,wBAhEF,SAAiC11B,EAASsI,EAAUoF,GAClD,IAAI/E,EAAWL,EAASK,SACpBC,EAAWN,EAASM,SACpBJ,EAAOF,EAASE,KAChBlE,EAAOgE,EAAShE,KAChB2wB,EAAS3sB,EAAS2sB,OAElBwB,EAAQz2B,EAAQy2B,MACpB,GAAIz2B,EAAQuuB,SAAU,CACpB,IAAIrR,EAAOxP,EAAI8H,MAAMxV,EAAQuuB,UAC7B5lB,EAAWuU,EAAKvU,SAChBC,EAAWsU,EAAKtU,SAChBJ,EAAO0U,EAAK1U,KACZlE,EAAO4Y,EAAKzU,SACZwsB,EAAS/X,EAAK+X,OAEhB,MAAO,CACLtsB,SAAUA,EACVC,SAAUA,EACVJ,KAAMA,EACNlE,KAAMA,EACN2wB,OAAQA,EACRwB,MAAOA,IA2CTjB,iBAvCF,SAA0BL,EAAW5sB,GACnC,IAAIK,EAAWusB,EAAUvsB,UAAY,SACjCJ,EAAO2sB,EAAU3sB,OAAsB,UAAbI,EAAuB,GAAkB,WAAbA,EAAwB,SAAM5C,GACpF2C,EAAWwsB,EAAUxsB,SACrBrE,EAAO6wB,EAAU7wB,KAUrB,OATI6wB,EAAUF,SACZ3wB,GAAc6wB,EAAUF,QAEtBE,EAAUsB,QACZnyB,EAAOsE,EAAW,KAAOD,EAAWrE,EACpCqE,EAAWwsB,EAAUsB,MAAM/tB,MAAQysB,EAAUsB,MAAM9tB,SACnDH,EAAO2sB,EAAUsB,MAAMjuB,KACvBI,EAAWusB,EAAUsB,MAAM7tB,UAAYA,GAElC,CACLA,SAAUA,EACVD,SAAUA,EACVrE,KAAMA,EACNkE,KAAMA,EACND,OAAQA,IAqBVmuB,iBAjBF,SAA0B/a,EAAMrX,GAC9B,IAAIqyB,EAAoB,MAAMl8B,KAAKkhB,GAC/Bib,EAAqB,MAAMn8B,KAAK6J,GAQpC,OANIqyB,GAAqBC,EACvBtyB,EAAOA,EAAKwD,UAAU,GACZ6uB,GAAsBC,IAChCtyB,EAAO,IAAMA,GAGRqX,EAAOrX,K,sBC7EhB,IAAIuyB,EAASpoC,OAAOC,UAAUuB,eAC1B6mC,EAAQroC,OAAOC,UAAUC,SAEzBooC,EAAgB,SAAuBhoC,GAC1C,IAAKA,GAA2B,oBAApB+nC,EAAM9nC,KAAKD,GACtB,OAAO,EAGR,IASImC,EATA8lC,EAAoBH,EAAO7nC,KAAKD,EAAK,eACrCkoC,EAAmBloC,EAAImT,aAAenT,EAAImT,YAAYxT,WAAamoC,EAAO7nC,KAAKD,EAAImT,YAAYxT,UAAW,iBAE9G,GAAIK,EAAImT,cAAgB80B,IAAsBC,EAC7C,OAAO,EAMR,IAAK/lC,KAAOnC,GAEZ,YAAsB,IAARmC,GAAuB2lC,EAAO7nC,KAAKD,EAAKmC,IA+BvDyL,EAAOC,QA5BP,SAAS2Z,IACP,IAAI3mB,EAAGmZ,EAAKmuB,EAAMC,EAAO3iC,EACrBhF,EAAS,GACV4nC,EAAU,KACTjoC,EAAShB,UAAUgB,OAEvB,IAAKS,EAAE,EAAGA,EAAIT,EAAQS,IAEpB,GAAe,OADfwnC,EAAUjpC,UAAUyB,IAKpB,IAAK4E,KAAQ4iC,EACXruB,EAAMvZ,EAAOgF,GAEThF,KADJ0nC,EAAOE,EAAQ5iC,MAET0iC,GAAQH,EAAcG,IACxBC,EAAQpuB,GAAOguB,EAAchuB,GAAOA,EAAM,GAC1CvZ,EAAOgF,GAAQ+hB,EAAM4gB,EAAOD,SACH,IAATA,IAChB1nC,EAAOgF,GAAQ0iC,IAKvB,OAAO1nC,I,eClDT,IAAI0F,EAAI,EAAQ,KAWhB,SAASmiC,EAASx8B,EAAOmF,GACvB9R,KAAK2M,MAAQA,EACb3M,KAAK8R,QAAUA,EACf9R,KAAKopC,WAAa,GAClBppC,KAAKqpC,WAAa,GASpBF,EAAS3oC,UAAUynC,UAAY,SAASn2B,GACtC9R,KAAK2M,OAAS3M,KAAK2M,MAAMs7B,UAAUn2B,GACnC,IAAIo2B,EAAaloC,KAAK8R,QAEtB,OADA9R,KAAK8R,QAAU9K,EAAEqhB,MAAM6f,EAAYp2B,GAC5B9R,MAcTmpC,EAAS3oC,UAAU8oC,aAAe,SAASC,GAIzC,OAHIviC,EAAEwiC,WAAWD,IACfvpC,KAAKopC,WAAWpnC,KAAKunC,GAEhBvpC,MAgBTmpC,EAAS3oC,UAAU+M,IAAM,SAASlI,EAAM7C,GAKtC,GAJKA,GAAawE,EAAEwiC,WAAWhnC,KAC7BA,EAAW,eAGRxC,KAAK8R,QAAQ23B,QAChB,OAAOjnC,EAAS,IAAI1C,MAAM,2BAG5BE,KAAK2M,MAAM+8B,eAAerkC,GAC1B,IAAIskC,EAAgBtkC,EAAKpC,IACzBjD,KAAK4pC,iBAAiBvkC,EAAM,SAASpC,EAAKvB,GACxC,GAAIuB,EAEF,OADAjD,KAAK2M,MAAMk9B,kBAAkBxkC,GACtB7C,EAASS,EAAK,MAEvBjD,KAAK2M,MAAMm9B,QAAQpoC,EAAGc,EAAUmnC,EAAetkC,IAC/C2J,KAAKhP,QAcTmpC,EAAS3oC,UAAUopC,iBAAmB,SAASvkC,EAAM7C,GACnD,IAAIunC,GAAkB,EAClBC,EAAmBhqC,KAAKopC,WAAWnoC,OACnCmoC,EAAappC,KAAKopC,WAClBt3B,EAAU9R,KAAK8R,QAEfxN,EAAK,SAASrB,EAAKvB,GACjBuB,EACFT,EAASS,EAAK,QAIhB8mC,IAEuBC,EAKvBZ,EAAWW,GAAgBroC,EAAGoQ,EAASxN,GAJrC9B,EAAS,KAAMd,IAOnB4C,EAAG,KAAMe,IAGXoJ,EAAOC,QAAUy6B,G,eCtHjB,IAAIniC,EAAI,EAAQ,KAoDhB,SAASijC,EAAYC,EAAO96B,EAAM+6B,GAChC,IAAKD,EAAS,OAAQC,EAEtB,IAIWhzB,EAAUqI,EAJjB4qB,EAASF,EAAME,OAEnB,IAAKA,GAA4B,IAAlBA,EAAOnpC,OAAgB,OAAQkpC,EAK9C,IAFA,IAAIE,EAAaj7B,EAAKnO,OAClBqpC,EAAcF,EAAOnpC,OAChBS,EAAI,EAAGA,EAAI4oC,EAAa5oC,IAAK,CAIpC,GAFAyV,EADQizB,EAAO1oC,GACEyV,UAEZnQ,EAAEmhC,OAAOhxB,EAAU,UAAa,OAAQgzB,EAE7C,IAAK,IAAIn1B,EAAI,EAAGA,EAAIq1B,EAAYr1B,IAI9B,GAHAwK,EAAMpQ,EAAK4F,GACA,IAAIu1B,OAAO/qB,GAETjT,KAAK4K,GAChB,OAAO,EAIb,OAAO,EAGT,SAASqzB,EAAanlC,EAAMolC,EAAUC,EAAcC,GAElD,IAKIv7B,EAAMw7B,EALNT,GAAQ,EACS,cAAjBO,IACFP,GAAQ,GAIV,IAME,GALA/6B,EAAO+6B,EAAQM,EAASI,cAAgBJ,EAASK,cACjDF,EAAS5jC,EAAE+O,IAAI1Q,EAAM,qBAAuB,CAAC2B,EAAE+O,IAAI1Q,EAAM,gBAIpD+J,GAAwB,IAAhBA,EAAKnO,OAChB,OAAQkpC,EAEV,GAAsB,IAAlBS,EAAO3pC,SAAiB2pC,EAAO,GACjC,OAAQT,EAIV,IADA,IAAIY,EAAeH,EAAO3pC,OACjBS,EAAI,EAAGA,EAAIqpC,EAAcrpC,IAChC,GAAGuoC,EAAYW,EAAOlpC,GAAI0N,EAAM+6B,GAC9B,OAAO,EAGX,MAAO5U,GAGH4U,EACFM,EAASI,cAAgB,KAEzBJ,EAASK,cAAgB,KAE3B,IAAIE,EAAWb,EAAQ,gBAAkB,gBAEzC,OADAQ,EAAOnkC,MAAM,4CAA+CwkC,EAAW,4BAA8BA,EAAW,IAAKzV,IAC7G4U,EAEV,OAAO,EA+CT17B,EAAOC,QAAU,CACfu8B,WArKF,SAAoB5lC,EAAMolC,GACxB,IAAI7W,EAAQvuB,EAAKuuB,MACbsX,EAAWlkC,EAAE8pB,OAAO8C,IAAU,EAC9BuX,EAAcV,EAASU,YAG3B,QAAID,GAFiBlkC,EAAE8pB,OAAOqa,IAAgB,KAkK9CC,gBA1JF,SAAyBT,GACvB,OAAO,SAAStlC,EAAMolC,GACpB,IAAIY,IAAehmC,EAAKimC,mBACjBjmC,EAAKimC,YACZ,IAAIlnC,EAAOiB,EAAKkmC,qBACTlmC,EAAKkmC,cACZ,IACMvkC,EAAEwiC,WAAWiB,EAASe,iBACxBf,EAASe,eAAeH,EAAYjnC,EAAMiB,GAE5C,MAAOkwB,GACPkV,EAASe,eAAiB,KAC1Bb,EAAOnkC,MAAM,+CAAgD+uB,GAE/D,IACE,GAAIvuB,EAAEwiC,WAAWiB,EAASgB,cAAgBhB,EAASgB,YAAYJ,EAAYjnC,EAAMiB,GAC/E,OAAO,EAET,MAAOkwB,GACPkV,EAASgB,YAAc,KACvBd,EAAOnkC,MAAM,qDAAsD+uB,GAErE,OAAO,IAqITmW,oBAjIF,SAA6Bf,GAC3B,OAAO,SAAStlC,EAAMolC,GACpB,OAAQD,EAAanlC,EAAMolC,EAAU,YAAaE,KAgIpDgB,iBA5HF,SAA0BhB,GACxB,OAAO,SAAStlC,EAAMolC,GACpB,OAAOD,EAAanlC,EAAMolC,EAAU,YAAaE,KA2HnDiB,iBAjDF,SAA0BjB,GACxB,OAAO,SAAStlC,EAAMolC,GACpB,IAAIoB,EAAkBnqC,EAAGoqC,EACrB3pC,EAAKypC,EACLG,EAAMC,EAAcC,EAExB,IAIE,GAHAL,GAAmB,IACnBE,EAAkBrB,EAASqB,kBAEwB,IAA3BA,EAAgB7qC,OACtC,OAAO,EAST,GANA8qC,EAAO1mC,EAAK0mC,KACZC,EAAehlC,EAAE+O,IAAIg2B,EAAM,2BAC3BE,EAAcjlC,EAAE+O,IAAIg2B,EAAM,kBAE1BF,EAAmBG,GAAgBC,GAGjC,OAAO,EAIT,IADA9pC,EAAM2pC,EAAgB7qC,OACjBS,EAAI,EAAGA,EAAIS,KAEdypC,EADkB,IAAIrB,OAAOuB,EAAgBpqC,GAAI,MACd6K,KAAKs/B,IAFrBnqC,MAQrB,MAAM6zB,GAGNkV,EAASqB,gBAAkB,KAC3BnB,EAAOnkC,MAAM,qGAGf,OAAQolC,M,eClKZ,IAAI5kC,EAAI,EAAQ,KAehB,SAASklC,EAAMC,EAAa/uB,EAAKutB,EAAQ74B,GACvC9R,KAAKmsC,YAAcA,EACnBnsC,KAAKod,IAAMA,EACXpd,KAAK2qC,OAASA,EACd3qC,KAAK8R,QAAUA,EACf9R,KAAKosC,WAAa,GAClBpsC,KAAKqsC,aAAe,GACpBrsC,KAAKssC,gBAAkB,GACvBtsC,KAAKusC,WAAa,GAClBvsC,KAAKwsC,YAAc,KACnBxsC,KAAKysC,aAAe,KACpBzsC,KAAK0sC,eAAiB,KAQxBR,EAAM1rC,UAAUynC,UAAY,SAASn2B,GACnC9R,KAAKod,KAAOpd,KAAKod,IAAI6qB,UAAUn2B,GAC/B,IAAIo2B,EAAaloC,KAAK8R,QAEtB,OADA9R,KAAK8R,QAAU9K,EAAEqhB,MAAM6f,EAAYp2B,GAC5B9R,MAYTksC,EAAM1rC,UAAUmsC,aAAe,SAASzmB,GAItC,OAHIlf,EAAEwiC,WAAWtjB,IACflmB,KAAKosC,WAAWpqC,KAAKkkB,GAEhBlmB,MAGTksC,EAAM1rC,UAAUkpC,eAAiB,SAASrkC,GACxCrF,KAAKqsC,aAAarqC,KAAKqD,IAGzB6mC,EAAM1rC,UAAUqpC,kBAAoB,SAASxkC,GAC3C,IAAIu2B,EAAM57B,KAAKqsC,aAAarhC,QAAQ3F,IACvB,IAATu2B,GACF57B,KAAKqsC,aAAavmC,OAAO81B,EAAK,IAclCsQ,EAAM1rC,UAAUspC,QAAU,SAASzkC,EAAM7C,EAAUmnC,EAAeiD,GAC3DpqC,GAAawE,EAAEwiC,WAAWhnC,KAC7BA,EAAW,cAEb,IAAIqqC,EAAkB7sC,KAAK8sC,iBAAiBznC,GAC5C,GAAIwnC,EAAgBE,KAGlB,OAFA/sC,KAAK6pC,kBAAkB+C,QACvBpqC,EAASqqC,EAAgB5pC,KAK3B,GAFAjD,KAAKgtC,UAAU3nC,EAAMskC,GACrB3pC,KAAK6pC,kBAAkB+C,GAClB5sC,KAAK8R,QAAQm7B,SAAlB,CAIAjtC,KAAKssC,gBAAgBtqC,KAAKqD,GAC1B,IACErF,KAAKktC,gBAAgB7nC,EAAM,SAASpC,EAAK8lB,GACvC/oB,KAAKmtC,uBAAuB9nC,GAC5B7C,EAASS,EAAK8lB,IACd/Z,KAAKhP,OACP,MAAOu1B,GACPv1B,KAAKmtC,uBAAuB9nC,GAC5B7C,EAAS+yB,SAXT/yB,EAAS,IAAI1C,MAAM,uBAqBvBosC,EAAM1rC,UAAUgkC,KAAO,SAAShiC,GACzBwE,EAAEwiC,WAAWhnC,KAGlBxC,KAAKysC,aAAejqC,EAChBxC,KAAKotC,mBAGLptC,KAAK0sC,iBACP1sC,KAAK0sC,eAAiBW,cAAcrtC,KAAK0sC,iBAE3C1sC,KAAK0sC,eAAiBY,YAAY,WAChCttC,KAAKotC,kBACLp+B,KAAKhP,MAAO,QAUhBksC,EAAM1rC,UAAUssC,iBAAmB,SAASznC,GAE1C,IADA,IAAI8oB,EAAI,KACCzsB,EAAI,EAAGS,EAAMnC,KAAKosC,WAAWnrC,OAAQS,EAAIS,EAAKT,IAErD,KADAysB,EAAInuB,KAAKosC,WAAW1qC,GAAG2D,EAAMrF,KAAK8R,gBACdgG,IAAVqW,EAAElrB,IACV,MAAO,CAAC8pC,MAAM,EAAM9pC,IAAKkrB,EAAElrB,KAG/B,MAAO,CAAC8pC,MAAM,EAAO9pC,IAAK,OAU5BipC,EAAM1rC,UAAU0sC,gBAAkB,SAAS7nC,EAAM7C,GAC/C,IAAI+qC,EAAoBvtC,KAAKmsC,YAAYqB,WAAWnoC,GAChDkoC,EAAkBC,WACpBxtC,KAAKod,IAAIqqB,SAASpiC,EAAM,SAASpC,EAAK8lB,GAChC9lB,EACFjD,KAAKytC,YAAYxqC,EAAKoC,EAAM7C,GAE5BA,EAASS,EAAK8lB,IAEhB/Z,KAAKhP,OACEutC,EAAkB/mC,MAC3BhE,EAAS+qC,EAAkB/mC,OAE3BxG,KAAKod,IAAIqqB,SAAS8F,EAAkB3oC,QAASpC,IAKjD,IAAIkrC,EAAmB,CAAC,aAAc,YAAa,kBAAmB,YAAa,eAAgB,eAAgB,QAAS,aAU5HxB,EAAM1rC,UAAUitC,YAAc,SAASxqC,EAAKoC,EAAM7C,GAChD,IAAImrC,GAAc,EAClB,GAAI3tC,KAAK8R,QAAQ87B,cACf,IAAK,IAAIlsC,EAAI,EAAGS,EAAMurC,EAAiBzsC,OAAQS,EAAIS,EAAKT,IACtD,GAAIuB,EAAI8zB,OAAS2W,EAAiBhsC,GAAI,CACpCisC,GAAc,EACd,MAIFA,EACF3tC,KAAK6tC,iBAAiBxoC,EAAM7C,GAE5BA,EAASS,IAWbipC,EAAM1rC,UAAUqtC,iBAAmB,SAASxoC,EAAM7C,GAChDxC,KAAKusC,WAAWvqC,KAAK,CAACqD,KAAMA,EAAM7C,SAAUA,IAEvCxC,KAAKwsC,cACRxsC,KAAKwsC,YAAcc,YAAY,WAC7B,KAAOttC,KAAKusC,WAAWtrC,QAAQ,CAC7B,IAAI6sC,EAAc9tC,KAAKusC,WAAWv5B,QAClChT,KAAKktC,gBAAgBY,EAAYzoC,KAAMyoC,EAAYtrC,YAErDwM,KAAKhP,MAAOA,KAAK8R,QAAQ87B,iBAY/B1B,EAAM1rC,UAAU2sC,uBAAyB,SAAS9nC,GAChD,IAAIu2B,EAAM57B,KAAKssC,gBAAgBthC,QAAQ3F,IAC1B,IAATu2B,IACF57B,KAAKssC,gBAAgBxmC,OAAO81B,EAAK,GACjC57B,KAAKotC,mBAITlB,EAAM1rC,UAAUwsC,UAAY,SAASjoC,EAAM4kC,GACzC,GAAI3pC,KAAK2qC,QAAU3qC,KAAK8R,QAAQquB,QAAS,CACvC,IAAI1sB,EAAUk2B,EAGd,GADAl2B,GADAA,EAAUA,GAAWzM,EAAE+O,IAAIhR,EAAM,kCACZiC,EAAE+O,IAAIhR,EAAM,wCAG/B,YADA/E,KAAK2qC,OAAOnkC,MAAMiN,IAGpBA,EAAUzM,EAAE+O,IAAIhR,EAAM,uBAEpB/E,KAAK2qC,OAAOp9B,IAAIkG,KAKtBy4B,EAAM1rC,UAAU4sC,eAAiB,WAC/B,SAAIpmC,EAAEwiC,WAAWxpC,KAAKysC,eAA8C,IAA7BzsC,KAAKqsC,aAAaprC,QAAgD,IAAhCjB,KAAKssC,gBAAgBrrC,SACxFjB,KAAK0sC,iBACP1sC,KAAK0sC,eAAiBW,cAAcrtC,KAAK0sC,iBAE3C1sC,KAAKysC,eACE,KAKXh+B,EAAOC,QAAUw9B,G,eCrQjB,IAAIllC,EAAI,EAAQ,KAOhB,SAAS+mC,EAAYj8B,GACnB9R,KAAKguC,UAAYhnC,EAAEwa,MACnBxhB,KAAKiuC,QAAU,EACfjuC,KAAKkuC,cAAgB,EACrBluC,KAAKyb,SAAW,KAChBzb,KAAKmuC,gBAAkB,GACvBnuC,KAAKouC,gBAAgBt8B,GA4EvB,SAASu8B,EAAUhpC,EAAM3C,EAAOurC,GAC9B,OAAQ5oC,EAAKipC,iBAAmB5rC,GAAS,GAAKurC,EAAUvrC,EAG1D,SAAS6rC,EAAgB9yB,EAAU3J,EAAStL,EAAOgnC,EAAYgB,EAAiBC,EAAaC,GAC3F,IAAI9pC,EAAU,KAOd,OANI4B,IACFA,EAAQ,IAAI1G,MAAM0G,IAEfA,GAAUgnC,IACb5oC,EAKJ,SAA0B6W,EAAU3J,EAAS08B,EAAiBC,EAAaC,GACzE,IAOIrpC,EAAO,CACT0mC,KAAM,CACJt4B,QAAS,CACPs4B,KARF2C,EACI,+DAEA,sDAMFC,MAAO,CACLC,SAAUJ,EACVK,eAAgBJ,KAItBnlB,SAAU,aACVwlB,YAlBgBh9B,EAAQg9B,aAAgBh9B,EAAQlN,SAAWkN,EAAQlN,QAAQkqC,YAmB3EC,SAAU,CACR9yB,QAAUnK,EAAQi9B,UAAYj9B,EAAQi9B,SAAS9yB,SAAYnK,EAAQmK,UAcvE,MAXiB,YAAbR,GACFpW,EAAKoW,SAAW,UAChBpW,EAAK2pC,UAAY,aACjB3pC,EAAK0pC,SAASzoC,KAAO,sBACC,WAAbmV,GACTpW,EAAK2pC,UAAYl9B,EAAQk9B,WAAa,UACtC3pC,EAAK0pC,SAASzoC,KAAOwL,EAAQi9B,SAASzoC,MAChB,iBAAbmV,IACTpW,EAAK2pC,UAAYl9B,EAAQk9B,WAAa,eACtC3pC,EAAK0pC,SAASzoC,KAAOwL,EAAQi9B,SAASzoC,MAEjCjB,EAxCK4pC,CAAiBxzB,EAAU3J,EAAS08B,EAAiBC,EAAaC,IAEvE,CAACloC,MAAOA,EAAOgnC,WAAYA,EAAY5oC,QAASA,GArFzDmpC,EAAYmB,eAAiB,CAC3BlB,UAAWhnC,EAAEwa,MACbotB,cAAU92B,EACV+2B,oBAAgB/2B,GAWlBi2B,EAAYvtC,UAAU4tC,gBAAkB,SAASt8B,QACrBgG,IAAtBhG,EAAQk8B,YACVD,EAAYmB,eAAelB,UAAYl8B,EAAQk8B,gBAExBl2B,IAArBhG,EAAQ88B,WACVb,EAAYmB,eAAeN,SAAW98B,EAAQ88B,eAEjB92B,IAA3BhG,EAAQ+8B,iBACVd,EAAYmB,eAAeL,eAAiB/8B,EAAQ+8B,iBAmBxDd,EAAYvtC,UAAUgtC,WAAa,SAASnoC,EAAMmc,GAEhD,IAAI2tB,GADJ3tB,EAAMA,GAAOxa,EAAEwa,OACSxhB,KAAKguC,WACzBmB,EAAc,GAAKA,GAAe,OACpCnvC,KAAKguC,UAAYxsB,EACjBxhB,KAAKkuC,cAAgB,GAGvB,IAAIM,EAAkBT,EAAYmB,eAAeN,SAC7CQ,EAAwBrB,EAAYmB,eAAeL,eAEvD,GAAIR,EAAUhpC,EAAMmpC,EAAiBxuC,KAAKiuC,SACxC,OAAOM,EAAgBvuC,KAAKyb,SAAUzb,KAAKmuC,gBAAiBK,EAAkB,sBAAsB,GAC/F,GAAIH,EAAUhpC,EAAM+pC,EAAuBpvC,KAAKkuC,eACrD,OAAOK,EAAgBvuC,KAAKyb,SAAUzb,KAAKmuC,gBAAiBiB,EAAwB,6BAA6B,GAEnHpvC,KAAKiuC,UACLjuC,KAAKkuC,gBAEL,IAAIV,GAAca,EAAUhpC,EAAMmpC,EAAiBxuC,KAAKiuC,SACpDS,EAAYlB,EAEhB,OADAA,EAAaA,IAAea,EAAUhpC,EAAM+pC,EAAuBpvC,KAAKkuC,eACjEK,EAAgBvuC,KAAKyb,SAAUzb,KAAKmuC,gBAAiB,KAAMX,EAAYgB,EAAiBY,EAAuBV,IAGxHX,EAAYvtC,UAAU6uC,mBAAqB,SAAS5zB,EAAU3J,GAC5D9R,KAAKyb,SAAWA,EAChBzb,KAAKmuC,gBAAkBr8B,GA0DzBrD,EAAOC,QAAUq/B,G,eC9IjB,IAAIA,EAAc,EAAQ,MACtB7B,EAAQ,EAAQ,MAChB/C,EAAW,EAAQ,MACnBniC,EAAI,EAAQ,KAShB,SAASsoC,EAAQx9B,EAASsL,EAAKutB,EAAQ4E,EAAW9zB,GAChDzb,KAAK8R,QAAU9K,EAAEqhB,MAAMvW,GACvB9R,KAAK2qC,OAASA,EACd2E,EAAQnD,YAAYiC,gBAAgBpuC,KAAK8R,SACzCw9B,EAAQnD,YAAYkD,mBAAmB5zB,EAAUzb,KAAK8R,SACtD9R,KAAKod,IAAMA,EACXpd,KAAK2M,MAAQ,IAAIu/B,EAAMoD,EAAQnD,YAAa/uB,EAAKutB,EAAQ3qC,KAAK8R,SAG9D,IAAI09B,EAASxvC,KAAK8R,QAAQ09B,QAAU,KAChCC,EAAeD,IACjBxvC,KAAKwvC,OAASA,EAEdxvC,KAAK8R,QAAQ09B,OAAS,6BACtBxvC,KAAK8R,QAAQ49B,mBAAmBF,OAAS,8BAEzCxvC,KAAKwvC,OAAS,KAGhBxvC,KAAK+uC,SAAW,IAAI5F,EAASnpC,KAAK2M,MAAO3M,KAAK8R,SAC9C9R,KAAKuvC,UAAYA,EACjBI,EAAmB79B,GACnB9R,KAAK4vC,UAAY,KACjB5vC,KAAK6vC,cAAgB,OAsLvB,SAASF,EAAmB79B,GACtBA,EAAQg+B,kBACVhwC,MAAMgwC,gBAAkBh+B,EAAQg+B,iBASpC,SAASL,EAAeD,GACtB,IAAKA,EACH,OAAO,EAGT,IAAKA,EAAOO,OAAiC,mBAAjBP,EAAOO,MACjC,OAAO,EAGT,IAAIA,EAAQP,EAAOO,QAEnB,SAAKA,IAAUA,EAAMC,QAAkC,mBAAjBD,EAAMC,QApM9CV,EAAQnD,YAAc,IAAI4B,EALL,CACnBa,SAAU,EACVC,eAAgB,KAKlBS,EAAQ9uC,UAAUJ,OAAS,SAAU0R,GAEnC,OADAw9B,EAAQnD,YAAYiC,gBAAgBt8B,GAC7B9R,MAGTsvC,EAAQ9uC,UAAUynC,UAAY,SAAUn2B,EAASm+B,GAC/C,IAAI/H,EAAaloC,KAAK8R,QAClBlN,EAAU,GACVqrC,IACFrrC,EAAU,CAAEA,QAASqrC,IAGvBjwC,KAAK8R,QAAU9K,EAAEqhB,MAAM6f,EAAYp2B,EAASlN,GAG5C,IAAI4qC,EAASxvC,KAAK8R,QAAQ09B,QAAU,KAmBpC,OAlBIC,EAAeD,IACjBxvC,KAAKwvC,OAASA,EAEdxvC,KAAK8R,QAAQ09B,OAAS,6BACtBxvC,KAAK8R,QAAQ49B,mBAAmBF,OAAS,8BAEzCxvC,KAAKwvC,OAAS,KAGhBxvC,KAAK+uC,UAAY/uC,KAAK+uC,SAAS9G,UAAUjoC,KAAK8R,SAC9C9R,KAAKuvC,WAAavvC,KAAKuvC,UAAUtH,UAAUjoC,KAAK8R,SAChD69B,EAAmB79B,GACnB9R,KAAKI,OAAOJ,KAAK8R,SAEb29B,EAAe39B,EAAQ09B,UACzBxvC,KAAKwvC,OAAS19B,EAAQ09B,QAGjBxvC,MAGTsvC,EAAQ9uC,UAAU+M,IAAM,SAAUlI,GAChC,IAAIuuB,EAAQ5zB,KAAKkwC,mBACjB,OAAOlwC,KAAKmwC,KAAKvc,EAAOvuB,IAG1BiqC,EAAQ9uC,UAAU0/B,MAAQ,SAAU76B,GAClCrF,KAAKmwC,KAAK,QAAS9qC,IAGrBiqC,EAAQ9uC,UAAUimC,KAAO,SAAUphC,GACjCrF,KAAKmwC,KAAK,OAAQ9qC,IAGpBiqC,EAAQ9uC,UAAUqjC,KAAO,SAAUx+B,GACjCrF,KAAKmwC,KAAK,UAAW9qC,IAGvBiqC,EAAQ9uC,UAAU4vC,QAAU,SAAU/qC,GACpCrF,KAAKmwC,KAAK,UAAW9qC,IAGvBiqC,EAAQ9uC,UAAUgG,MAAQ,SAAUnB,GAClCrF,KAAKmwC,KAAK,QAAS9qC,IAGrBiqC,EAAQ9uC,UAAU6vC,SAAW,SAAUhrC,GACrCrF,KAAKmwC,KAAK,WAAY9qC,IAGxBiqC,EAAQ9uC,UAAUgkC,KAAO,SAAUhiC,GACjCxC,KAAK2M,MAAM63B,KAAKhiC,IAGlB8sC,EAAQ9uC,UAAU8vC,aAAe,SAAUpd,EAAM7G,EAAUuH,GACzD,OAAO5zB,KAAKuvC,WAAavvC,KAAKuvC,UAAUe,aAAapd,EAAM7G,EAAUuH,IAGvE0b,EAAQ9uC,UAAU+vC,wBAA0B,SAAUC,GACpD,OAAOxwC,KAAKuvC,WAAavvC,KAAKuvC,UAAUgB,wBAAwBC,IAGlElB,EAAQ9uC,UAAUiwC,YAAc,SAAUD,GACxC,OAAOxwC,KAAKuvC,WAAavvC,KAAKuvC,UAAUkB,YAAYD,IAGtDlB,EAAQ9uC,UAAUonC,iBAAmB,SAAUviC,GAC7C,OAAOrF,KAAKod,IAAIwqB,iBAAiBviC,IAGnCiqC,EAAQ9uC,UAAUkwC,gBAAkB,SAAU1I,GAC5ChoC,KAAKod,IAAI2qB,gBAAgBC,IAK3BsH,EAAQ9uC,UAAU2vC,KAAO,SAAUQ,EAActrC,GAC/C,IAAI7C,EAKJ,GAJI6C,EAAK7C,WACPA,EAAW6C,EAAK7C,gBACT6C,EAAK7C,UAEVxC,KAAK8R,QAAQ8+B,uBAAyB5wC,KAAK6wC,iBAAiBxrC,IAC9D,GAAI7C,EAAU,CACZ,IAAIgE,EAAQ,IAAI1G,MAAM,0BACtB0G,EAAMnB,KAAOA,EACb7C,EAASgE,SAIb,IACExG,KAAK8wC,gBAAgBzrC,GACrBA,EAAKuuB,MAAQvuB,EAAKuuB,OAAS+c,EAC3B3wC,KAAKuvC,WAAavvC,KAAKuvC,UAAUwB,oBAAoB1rC,GACrDA,EAAK2rC,gBAAmBhxC,KAAKuvC,WAAavvC,KAAKuvC,UAAU0B,cAAiB,GAC1EjxC,KAAK+uC,SAASxhC,IAAIlI,EAAM7C,GACxB,MAAO+yB,GACPv1B,KAAK2qC,OAAOnkC,MAAM+uB,KAItB+Z,EAAQ9uC,UAAU0vC,iBAAmB,WACnC,OAAOlwC,KAAK8R,QAAQo/B,UAAY,SAGlC5B,EAAQ9uC,UAAUqwC,iBAAmB,SAAUxrC,GAC7C,IAAKA,EAAKimC,YACR,OAAO,EAET,IAAI6F,EAsCN,SAA0B9rC,GAGxB,OAFcA,EAAKoO,SAAW,IAEb,OADJpO,EAAKpC,KAAO,IAAI0jB,OAAShW,OAAOtL,EAAKpC,MAxCnCmuC,CAAiB/rC,GAChC,OAAIrF,KAAK6vC,gBAAkBsB,IAG3BnxC,KAAK4vC,UAAYvqC,EAAKpC,IACtBjD,KAAK6vC,cAAgBsB,GACd,IAGT7B,EAAQ9uC,UAAUswC,gBAAkB,SAAUzrC,GAG5C,GAAIrF,KAAKwvC,OAAQ,CAEf,IAAI6B,EAAOrxC,KAAKwvC,OAAOO,QAAQC,SAE/B,GAgEJ,SAAsBqB,GACpB,IAAKA,IAASA,EAAKjJ,SAAmC,mBAAjBiJ,EAAKjJ,QACxC,OAAO,EAGT,IAAIkJ,EAAcD,EAAKjJ,UAEvB,SAAKkJ,GACCA,EAAYC,UACZD,EAAYE,WACmB,mBAAzBF,EAAYC,UACc,mBAA1BD,EAAYE,WA3ElBC,CAAaJ,GAAO,CACtBA,EAAKK,OAAO,qBAAsBrsC,EAAKssC,MACvCN,EAAKK,OAAO,qBAAqB,GACjCL,EAAKK,OAAO,SAAS,GAGrB,IAAIE,EAAoBP,EAAKjJ,UAAUmJ,WACnCM,EAAqBR,EAAKjJ,UAAUoJ,YAEpCnsC,EAAKysC,QACPzsC,EAAKysC,OAAOC,oBAAsBH,EAClCvsC,EAAKysC,OAAOE,qBAAuBH,GAEnCxsC,EAAKysC,OAAS,CACZC,oBAAqBH,EACrBI,qBAAsBH,MAmEhCpjC,EAAOC,QAAU4gC,G,eC5QjB,IAAItoC,EAAI,EAAQ,KACZirC,EAAW,EAAQ,MAsDvB,SAASC,EAAUrxC,EAAKuV,GACtB,IAAIvU,EAAOuU,EAAKyJ,MAAM,KAClBoX,EAAOp1B,EAAKZ,OAAS,EACzB,IACE,IAAK,IAAIS,EAAI,EAAGA,GAAKu1B,IAAQv1B,EACvBA,EAAIu1B,EACNp2B,EAAMA,EAAIgB,EAAKH,IAEfb,EAAIgB,EAAKH,IAAMsF,EAAEmrC,SAGrB,MAAO5c,KA0BX9mB,EAAOC,QAzFP,SAAe3J,EAAMqtC,EAAaC,GAGhC,GAFAD,EAAcA,GAAe,GAEzBC,EACF,IAAK,IAAI3wC,EAAI,EAAGA,EAAI2wC,EAAWpxC,SAAUS,EACvCwwC,EAAUntC,EAAMstC,EAAW3wC,IAI/B,IAAI4wC,EA2DN,SAA8BF,GAG5B,IAFA,IACIG,EADAC,EAAM,GAED9wC,EAAI,EAAGA,EAAI0wC,EAAYnxC,SAAUS,EACxC6wC,EAAM,iBAAmBH,EAAY1wC,GAAK,8BAC1C8wC,EAAIxwC,KAAK,IAAIuoC,OAAOgI,EAAK,MAE3B,OAAOC,EAlEQC,CAAqBL,GAChCM,EAqEN,SAAmCN,GAGjC,IAFA,IACIG,EADAC,EAAM,GAED9wC,EAAI,EAAGA,EAAI0wC,EAAYnxC,SAAUS,EACxC6wC,EAAM,gBAAkBH,EAAY1wC,GAAK,6BACzC8wC,EAAIxwC,KAAK,IAAIuoC,OAAO,IAAMgI,EAAM,eAAgB,QAElD,OAAOC,EA5EQG,CAA0BP,GAEzC,SAASQ,EAAiBC,EAAQC,GAChC,OAAOA,EAAY9rC,EAAEmrC,SAoCvB,OAAOF,EAASltC,GAZhB,SAASguC,EAASjxC,EAAGL,EAAGuxC,GACtB,IAAIC,EAZN,SAAqBnxC,EAAGL,GACtB,IAAIC,EACJ,IAAKA,EAAI,EAAGA,EAAI4wC,EAASrxC,SAAUS,EACjC,GAAI4wC,EAAS5wC,GAAG6K,KAAKzK,GAAI,CACvBL,EAAIuF,EAAEmrC,SACN,MAGJ,OAAO1wC,EAIIyxC,CAAYpxC,EAAGL,GAC1B,OAAIwxC,IAASxxC,EACPuF,EAAEmhC,OAAO1mC,EAAG,WAAauF,EAAEmhC,OAAO1mC,EAAG,SAChCwwC,EAASxwC,EAAGsxC,EAAUC,GAzBnC,SAAuBvxC,GACrB,IAAIC,EACJ,GAAIsF,EAAEmhC,OAAO1mC,EAAG,UACd,IAAKC,EAAI,EAAGA,EAAIgxC,EAASzxC,SAAUS,EACjCD,EAAIA,EAAE0T,QAAQu9B,EAAShxC,GAAIkxC,GAG/B,OAAOnxC,EAoBE0xC,CAAcF,GAEdA,IAIqB,M,sBClDlC,IAAI9S,GAAU,EAEVwK,EAAS,CAEXp9B,IAAK,WACC4yB,GACF55B,QAAQgH,IAAIxN,MAAMwG,QAAStG,YAG/BuG,MAAO,WACD25B,GACF55B,QAAQC,MAAMzG,MAAMwG,QAAStG,YAIjCmzC,WAAY,SAAShe,GACnB+K,EAAU/K,IAId3mB,EAAOC,QAAUi8B,G,4BCpBjB,IAAIA,EAAS,EAAQ,MACjBlrC,EAAQ,EAAQ,MAChB+W,EAAK,EAAQ,MACbumB,EAAM,EAAQ,MACdjsB,EAAO,EAAQ,MACfuiC,EAAa,EAAQ,MAGrBC,EACF,mGAEEC,EAAmB,gCACnBC,EAAmB,6BAGnB5W,EAAQ,IAAIG,EAAI,CAACze,IAAK,MACtBm1B,EAAe,GA8GnB,SAASC,EAAehoB,EAAMlpB,GAC5B,IAAImxC,EAASC,EAAS7uC,EAAM8uC,EAS5B,IANAF,GADAC,EAAUloB,GACQtP,MAAMm3B,MAEtBK,EAAUD,EAAQ,MAGpBA,EAAUC,EAAQx3B,MAAMk3B,IAEtB,OAAO9wC,EAAS,KAAM,MAIxB,IAAI2d,EAAW,CACb7K,QAFFvQ,EAAO4uC,EAAQlpC,MAAM,IAEN,GACbihB,KAAMxlB,KAAKiO,MAAMpP,EAAK,IACtB+uC,OAAQ5tC,KAAKiO,MAAMpP,EAAK,IAAM,GAE5B/E,KAAK+zC,gBACP5zB,EA/BJ,SAAqBA,EAAUkpB,GAC7B,OAAOgK,EAAWW,kBAAkB,CAChC1+B,OAAQ6K,EAAS7K,OACjBoW,KAAMvL,EAASuL,KACfooB,OAAQ3zB,EAAS2zB,QAEnBzK,GAyBW4K,CAAY9zB,EAAUngB,KAAKqpC,aAGxCwK,EAAQ,CACNx5B,OAAQtV,EAAK,IAAM,YACnBoS,SAAUgJ,EAAS7K,OACnB4+B,OAAQ/zB,EAASuL,KACjByoB,MAAOh0B,EAAS2zB,QAKd/uC,EAAK,KACP8uC,EAAMO,gBAAkBluC,KAAKiO,MAAMpP,EAAK,KAGtCA,EAAK,KACP8uC,EAAMQ,eAAiBnuC,KAAKiO,MAAMpP,EAAK,KAGzCvC,EAAS,KAAMqxC,GAIjB,SAASS,EAAoBC,EAAe/xC,GAC1C,IAAIgyC,EAAiBC,EAErBD,EAAuC,MAArBD,EAAc,IAAmC,MAArBA,EAAc,GAC5DE,IAAa7X,EAAM7mB,IAAIw+B,GAGvB/xC,EAASgyC,IAAoBC,IAFfhB,EAAac,IAwB7B,SAASG,EAAgBv9B,EAAU3U,QACfsV,IAAdtB,EAAGqf,OACLrf,EAAGqf,OAAO1e,EAAU3U,GAEpBgU,EAAGuB,KAAKZ,GAAU,SAAUlU,GAC1BT,GAAUS,MA3LhByL,EAAQkuB,MAAQA,EAChBluB,EAAQ+kC,aAAeA,EA6PvB/kC,EAAQimC,eAAiB,SAAUC,EAAK9iC,EAASzM,EAAM7C,GACrD,IAAIqyC,EAtPN,SAA2BC,GACzB,IAAIC,EAAU/xC,EAEd,GAAI8xC,QACF,OAAO,KAGT,GAAsB,iBAAXA,EACT,OAAO,KAGT,GAAIhkC,EAAKlQ,QAAQk0C,GACf,OAAOA,EAKT,IAAK9xC,KAFL+xC,EAAW,GAECD,EACNv0C,OAAOC,UAAUuB,eAAejB,KAAKg0C,EAAQ9xC,IAC/C+xC,EAAS/yC,KAAK8yC,EAAO9xC,IAGzB,OAAO+xC,EAgOYC,CAAkBJ,EAAIE,QAEzC,OAAOpmC,EAAQumC,WAAWL,EAAIjuB,MAAO7U,EAASzM,GAAM,SAAUpC,EAAK0jB,GACjE,IAAIlT,EAASyhC,EAAM1C,EAAK2C,EAAqBC,EAE7C,OAAInyC,GACF0nC,EAAOnkC,MAAM,mCAAqCvD,GAC3CT,EAASS,KAElBwQ,EAAU9C,OAAOikC,EAAInhC,SAAW,gBAGhC++B,EAAM,CACJ6C,MAHFH,EAAOvkC,OAAOikC,EAAItuC,MAAQ,aAIxBmN,QAASA,EACT22B,OAAQzjB,GAGNkuB,GAAgBA,EAAa5zC,SAC/Bk0C,EAAWN,EAAa,GACxBrC,EAAM,CACJ6C,MAAOH,EACPzhC,QAAS9C,OAAOwkC,EAAS1hC,SAAW,gBACpC22B,OAAQzjB,IAIAlT,EAAQ2I,MAAMo3B,KAExB4B,EAzPN,SAA6BrJ,GAC3B,IAAIuJ,EAAOC,EAAYp+B,EAAU+8B,EAAQsB,EAAUC,EAAK/zC,EACtDg0C,EAAaC,EAAYC,EAAmBC,EAc9C,IAVAN,GADAD,EAAQvJ,EAAKlsB,MAAM,OACA,GAAG7U,QAAQ,KAC9BmM,EAAWm+B,EAAM,GAAG7qC,MAAM,EAAG8qC,GAC7BrB,EAASpoC,SAASwpC,EAAM,GAAG7qC,MAAM8qC,EAAa,GAAI,IAElDE,EAAMH,GADNE,EAAWF,EAAMr0C,QACM,GAEvBq0C,EAAQA,EAAM7qC,MAAM,EAAG+qC,EAAW,GAElCG,EAAa,GACbC,EAAc,GACTl0C,EAAI,EAAGA,EAAI8zC,EAAW,IAAK9zC,GAE9Bm0C,EADOP,EAAM5zC,GACI0a,MAAMo3B,MAEA,MAAjBqC,EAAU,GACZH,EAAcG,EAAU,GAEnBH,EAKCG,EAAU,IACZD,EAAY5zC,KAAK6zC,EAAU,IALzBA,EAAU,IACZF,EAAW3zC,KAAK6zC,EAAU,KAcpC,MAAO,CACLhC,MAAO,CACLx5B,OAAQ,SACRlD,SAAUA,EACV+8B,OAAQA,EACRnd,KAAM2e,EACNtN,QAAS,CACP0N,IAVNH,EAAaA,EAAWlrC,MAAM,EAAGvE,KAAKC,IAAIwvC,EAAW10C,OAlFlC,IA6Fb0mC,KAVNiO,EAAcA,EAAYnrC,MAAM,EAAGvE,KAAKC,IAAIyvC,EAAY30C,OAnFrC,MAgGjBwS,QAASgiC,GAuMIM,CAAoBtiC,GAC/B++B,EAAI/+B,QAAU2hC,EAAS3hC,QACvB++B,EAAIpI,OAAOpoC,KAAKozC,EAASvB,QAEpBrxC,EAAS,KAAMgwC,QAK1B9jC,EAAQumC,WAAa,SAAUtuB,EAAO7U,EAASzM,EAAM7C,GAInD,IAHA,IAAI8yC,EAAOU,EAASrvB,EAGK,iBAAXqvB,GACZA,EAASA,GAAUA,EAAOrvB,MAI5B2uB,GAASU,GAAU,IAAIn2B,MAAM,MAAMpV,MAAM,GAErCqH,EAAQmkC,iBACV5wC,EAAKgkC,WAAW6M,iBAAmB,GACnC7wC,EAAKgkC,WAAW6M,iBAAiBC,oBAAsB,IAIzD12C,EAAM6I,IAAIgtC,EAAO5B,EAAe1kC,KAAK,CAAE+kC,cAAejiC,EAAQmkC,eAAgB5M,WAAYhkC,EAAKgkC,cAAe,SAAUpmC,EAAKmnC,GAC3H,GAAInnC,EACF,OAAOT,EAASS,GAElBmnC,EAAOlhC,UACPzJ,EAAM2J,OAAOghC,GAAQ,SAAUyJ,EAAOrxC,GAAYA,IAAWqxC,MAAW,SAAUrwC,IA1HtF,SAAwB4mC,EAAQ5nC,GAC9B,IAAI4zC,EAAiB,GAErBhM,EAAO9iC,SAAQ,SAAUusC,IACyB,IAA5CuC,EAAeprC,QAAQ6oC,EAAM18B,WAC/Bi/B,EAAep0C,KAAK6xC,EAAM18B,aAI9B1X,EAAM2J,OAAOgtC,EAAgB9B,GAAqB,SAAU9wC,GAC1D,IAAI6yC,EAIJ,SAASC,EAAen/B,EAAU3U,IA3CtC,SAAuB2U,EAAU3U,GAC/B,IACEgU,EAAG+/B,SAASp/B,GAAU,SAAUlU,EAAKuzC,GACnC,IAAIC,EACJ,OAAIxzC,EACKT,EAASS,IAGlBwzC,EAAYD,EAAS/1C,SAAS,QAAQof,MAAM,MACrCrd,EAAS,KAAMi0C,OAExB,MAAOlhB,GACPoV,EAAOp9B,IAAIgoB,IAgCTmhB,CAAcv/B,GAAU,SAAUlU,EAAKqyC,GACrC,OAAIryC,EACKT,EAASS,IAMlBozC,EAAcl/B,GAAYm+B,EAC1B1Y,EAAMpV,IAAIrQ,EAAUm+B,GAEb9yC,EAAS,UAIpB,SAASm0C,EAAmB9C,EAAOrxC,GACjC,IAAI8yC,EAAQe,EAAcxC,EAAM18B,WAAaylB,EAAM7mB,IAAI89B,EAAM18B,UAEzDm+B,GAxIV,SAA6BzB,EAAO4C,GAClC5C,EAAM9c,KAAO0f,EAAU5C,EAAMK,OAAS,GACtCL,EAAMzL,QAAU,CACd0N,IAAKW,EAAUhsC,MAAMvE,KAAKoY,IAAI,EAAGu1B,EAAMK,OAAS,GAAuBL,EAAMK,OAAS,GACtFvM,KAAM8O,EAAUhsC,MAAMopC,EAAMK,OAAQL,EAAMK,OAzGzB,IA8Ob0C,CAAoB/C,EAAOyB,GAE7B9yC,EAAS,MAxBX6zC,EAAgB,GA2BhB52C,EAAM2J,OAAO5F,EAASkxC,GAAiB,SAAUmC,GAC/Cp3C,EAAM8H,KAAKsvC,EAAWP,GAAgB,SAAUrzC,GAC9C,GAAIA,EACF,OAAOT,EAASS,GAElBxD,EAAMgI,WAAW2iC,EAAQuM,GAAoB,SAAU1zC,GACrD,GAAIA,EACF,OAAOT,EAASS,GAElBT,EAAS,KAAM4nC,eA2EnB0M,CAAetzC,EAAShB,W,eChV9B,IAAIsO,EAAO,EAAQ,MACfyK,EAAK,EAAQ,MAEbw7B,EAAc,EAAQ,KACtBnT,EAAS,EAAQ,MACjB58B,EAAI,EAAQ,KACZgwC,EAAM,EAAQ,MACdrM,EAAS,EAAQ,MAEjBsM,EAAY,EAAQ,MACpB/P,EAAS,EAAQ,MACjBE,EAAa,EAAQ,MAErB8P,EAAY,EAAQ,MACpB9N,EAAa,EAAQ,KACrB+N,EAAmB,EAAQ,KAC3BC,EAAmB,EAAQ,MAC3BjQ,EAAa,EAAQ,MACrBkQ,EAAe,EAAQ,MAE3B,SAAS/H,EAAQx9B,EAAS+G,GACxB,GAAI7R,EAAEmhC,OAAOr2B,EAAS,UAAW,CAC/B,IAAIu1B,EAAcv1B,GAClBA,EAAU,IACFu1B,YAAcA,OAEKvvB,IAAzBhG,EAAQwlC,eACVxlC,EAAQq5B,YAAcr5B,EAAQwlC,oBACvBxlC,EAAQwlC,cAEjBt3C,KAAK8R,QAAU9K,EAAEuwC,cAAcjI,EAAQxI,eAAgBh1B,GACvD9R,KAAK8R,QAAQ49B,mBAAqB59B,SAE3B9R,KAAK8R,QAAQ88B,SACpB5uC,KAAK8R,QAAQg9B,YAAc9uC,KAAK8R,QAAQg9B,aAAe,cACvDnE,EAAOyI,WAAWpzC,KAAK8R,QAAQquB,SAC/BngC,KAAKw3C,cAAgB,KACrBx3C,KAAKy3C,oBAAsB,KAC3B,IAAIxQ,EAAY,IAAIgQ,EAChB75B,EAAM,IAAI45B,EAAIh3C,KAAK8R,QAASm1B,EAAWC,EAAQC,EAAYC,GAC3DmI,EAAY,IAAI2H,EAAUl3C,KAAK8R,SACnC9R,KAAK6Y,OAASA,GAAU,IAAI+qB,EAAO5jC,KAAK8R,QAASsL,EAAKutB,EAAQ4E,EAAW,UACjDvvC,KAAK6Y,OAAOk2B,SAqcjCzF,aAAaF,EAAWsO,UACxBpO,aAAaF,EAAWuO,qBACxBrO,aAAaF,EAAWwO,SACxBtO,aAAa6N,EAAiBU,qBAC9BvO,aAAa6N,EAAiBW,kBAC9BxO,aAAaF,EAAW2O,gBACxBzO,aAAaF,EAAW4O,eACxB1O,aAAa6N,EAAiBc,oBAC9B3O,aAAaF,EAAW8O,cACxB5O,aAAa6N,EAAiBgB,cAAcxN,IAC5CrB,aAAa6N,EAAiBiB,sBAC9B9O,aAAa6N,EAAiBkB,mBAC9B/O,aAAa6N,EAAiBmB,eAhdZt4C,KAAK6Y,OAAOlM,MAqd9BggC,aAAayK,EAAiBnM,YAC9B0B,aAAayK,EAAiBhM,gBAAgBT,IAC9CgC,aAAayK,EAAiB1L,oBAAoBf,IAClDgC,aAAayK,EAAiBzL,iBAAiBhB,IAC/CgC,aAAayK,EAAiBxL,iBAAiBjB,IAxdlD3qC,KAAKu4C,wBACLvxC,EAAEwxC,UAAUnB,GAGd,IAAIoB,EAAY,KAShB,SAASC,EAAoBC,GAC3B,IAAIllC,EAAU,6BACdk3B,EAAOnkC,MAAMiN,GACTklC,GACFA,EAAc,IAAI74C,MAAM2T,IA+c5B,SAASmlC,EAAkBx0C,GACzB,IAAK,IAAI1C,EAAI,EAAGS,EAAMiC,EAAKnD,OAAQS,EAAIS,IAAOT,EAC5C,GAAIsF,EAAEwiC,WAAWplC,EAAK1C,IACpB,OAAO0C,EAAK1C,GAuDlB,SAASm3C,EAA2BpsB,EAAOqsB,GAGzC,IAAIl5C,EAAK,SAAUgE,EAAGC,GACpBi1C,EAAOl1C,EAAGC,IAEZjE,EAAGm5C,iBAAkB,EAIrB,IAFA,IAAIzuC,EAAY9E,QAAQ8E,UAAUmiB,GAC9BtqB,EAAMmI,EAAUrJ,OACXS,EAAI,EAAGA,EAAIS,IAAOT,EACrB4I,EAAU5I,GAAGq3C,iBACfvzC,QAAQ2F,eAAeshB,EAAOniB,EAAU5I,IAG5C8D,QAAQiN,GAAGga,EAAO7sB,GAGpB,SAASo5C,EAAavlC,EAASwlC,GAC7Bn5C,MAAMgB,KAAKd,MACXF,MAAMyzB,kBAAkBvzB,KAAMA,KAAKgU,aAEnChU,KAAKyT,QAAUA,EACfzT,KAAKi5C,OAASA,EACdj5C,KAAKsG,KAAOtG,KAAKgU,YAAY1N,KA7iB/BgpC,EAAQxL,KAAO,SAAUhyB,EAAS+G,GAChC,OAAI4/B,EACKA,EAAUr4C,OAAO0R,GAASm2B,UAAUn2B,GAE7C2mC,EAAY,IAAInJ,EAAQx9B,EAAS+G,IAYnCy2B,EAAQ9uC,UAAUJ,OAAS,SAAU0R,GAKnC,cAJAA,EAAU9K,EAAEuwC,cAAczlC,IAEX88B,SACf5uC,KAAK6Y,OAAOzY,OAAO0R,GACZ9R,MAETsvC,EAAQlvC,OAAS,SAAU0R,GACzB,GAAI2mC,EACF,OAAOA,EAAUr4C,OAAO0R,GAExB4mC,KAIJpJ,EAAQ9uC,UAAUynC,UAAY,SAAUn2B,EAASm+B,GAC/C,IAAI/H,EAAaloC,KAAK8R,QAClBlN,EAAU,GAWd,OAVIqrC,IACFrrC,EAAU,CAAEA,QAASqrC,IAEvBjwC,KAAK8R,QAAU9K,EAAEuwC,cAAcrP,EAAYp2B,EAASlN,GACpD5E,KAAK8R,QAAQ49B,mBAAqB1oC,EAAEuwC,cAAcrP,EAAWwH,mBAAoB59B,EAASlN,UAEnF5E,KAAK8R,QAAQ88B,SACpBjE,EAAOyI,WAAWpzC,KAAK8R,QAAQquB,SAC/BngC,KAAK6Y,OAAOovB,UAAUn2B,EAASm+B,GAC/BjwC,KAAKu4C,wBACEv4C,MAETsvC,EAAQrH,UAAY,SAAUn2B,EAASm+B,GACrC,GAAIwI,EACF,OAAOA,EAAUxQ,UAAUn2B,EAASm+B,GAEpCyI,KAIJpJ,EAAQ9uC,UAAUovC,UAAY,WAC5B,OAAO5vC,KAAK6Y,OAAO+2B,WAErBN,EAAQM,UAAY,WAClB,GAAI6I,EACF,OAAOA,EAAU7I,YAEjB8I,KAIJpJ,EAAQ9uC,UAAU+M,IAAM,WACtB,IAAIlI,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOtL,IAAIlI,GACT,CAAEssC,KAAMA,IAEjBrC,EAAQ/hC,IAAM,WACZ,GAAIkrC,EACF,OAAOA,EAAUlrC,IAAIxN,MAAM04C,EAAWx4C,WAEtC,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAIxBrJ,EAAQ9uC,UAAU0/B,MAAQ,WACxB,IAAI76B,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOqnB,MAAM76B,GACX,CAAEssC,KAAMA,IAEjBrC,EAAQpP,MAAQ,WACd,GAAIuY,EACF,OAAOA,EAAUvY,MAAMngC,MAAM04C,EAAWx4C,WAExC,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAIxBrJ,EAAQ9uC,UAAUimC,KAAO,WACvB,IAAIphC,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAO4tB,KAAKphC,GACV,CAAEssC,KAAMA,IAEjBrC,EAAQ7I,KAAO,WACb,GAAIgS,EACF,OAAOA,EAAUhS,KAAK1mC,MAAM04C,EAAWx4C,WAEvC,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAIxBrJ,EAAQ9uC,UAAUqjC,KAAO,WACvB,IAAIx+B,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOgrB,KAAKx+B,GACV,CAAEssC,KAAMA,IAEjBrC,EAAQzL,KAAO,WACb,GAAI4U,EACF,OAAOA,EAAU5U,KAAK9jC,MAAM04C,EAAWx4C,WAEvC,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAKxBrJ,EAAQ9uC,UAAU4vC,QAAU,WAC1B,IAAI/qC,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOu3B,QAAQ/qC,GACb,CAAEssC,KAAMA,IAEjBrC,EAAQc,QAAU,WAChB,GAAIqI,EACF,OAAOA,EAAUrI,QAAQrwC,MAAM04C,EAAWx4C,WAE1C,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAKxBrJ,EAAQ9uC,UAAUgG,MAAQ,WACxB,IAAInB,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOrS,MAAMnB,GACX,CAAEssC,KAAMA,IAEjBrC,EAAQ9oC,MAAQ,WACd,GAAIiyC,EACF,OAAOA,EAAUjyC,MAAMzG,MAAM04C,EAAWx4C,WAExC,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAGxBrJ,EAAQ9uC,UAAU24C,eAAiB,WACjC,IAAI9zC,EAAOrF,KAAKk5C,YAAYj5C,WAC5BoF,EAAKimC,aAAc,EACnB,IAAIqG,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOrS,MAAMnB,GACX,CAAEssC,KAAMA,IAGjBrC,EAAQ9uC,UAAU6vC,SAAW,WAC3B,IAAIhrC,EAAOrF,KAAKk5C,YAAYj5C,WACxB0xC,EAAOtsC,EAAKssC,KAEhB,OADA3xC,KAAK6Y,OAAOw3B,SAAShrC,GACd,CAAEssC,KAAMA,IAEjBrC,EAAQe,SAAW,WACjB,GAAIoI,EACF,OAAOA,EAAUpI,SAAStwC,MAAM04C,EAAWx4C,WAE3C,IAAI04C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAIxBrJ,EAAQ9uC,UAAUonC,iBAAmB,SAAUviC,GAC7C,OAAOrF,KAAK6Y,OAAO+uB,iBAAiBviC,IAEtCiqC,EAAQ1H,iBAAmB,WACzB,GAAI6Q,EACF,OAAOA,EAAU7Q,iBAAiB7nC,MAAM04C,EAAWx4C,WAEnDy4C,KAIJpJ,EAAQ9uC,UAAUkwC,gBAAkB,SAAU1I,GAC5C,OAAOhoC,KAAK6Y,OAAO63B,gBAAgB1I,IAErCsH,EAAQoB,gBAAkB,WACxB,GAAI+H,EACF,OAAOA,EAAU/H,gBAAgB3wC,MAAM04C,EAAWx4C,WAElDy4C,KAIJpJ,EAAQ9uC,UAAUgkC,KAAO,SAAUhiC,GACjCxC,KAAK6Y,OAAO2rB,KAAKhiC,IAEnB8sC,EAAQ9K,KAAO,SAAUhiC,GACvB,GAAIi2C,EACF,OAAOA,EAAUjU,KAAKhiC,GAEtB,IAAIm2C,EAAgBC,EAAkB34C,WACtCy4C,EAAoBC,IAIxBrJ,EAAQ9uC,UAAU44C,aAAe,WAC/B,OAAO,SAAUn2C,EAAKkX,EAASjC,EAAUjM,GACvC,IAAI3H,EAAK,SAAU+0C,GAIjB,OAHIA,GACF1O,EAAOnkC,MAAM,yCAA2C6yC,GAEnDptC,EAAKhJ,EAAKkX,EAASjC,IAE5B,OAAKjV,EAIDA,aAAenD,MACVE,KAAKwG,MAAMvD,EAAKkX,EAAS7V,GAE3BtE,KAAKwG,MAAM,UAAYvD,EAAKkX,EAAS7V,GANnC2H,EAAKhJ,EAAKkX,EAASjC,IAO5BlJ,KAAKhP,OAETsvC,EAAQ8J,aAAe,WACrB,GAAIX,EACF,OAAOA,EAAUW,eAEjBV,KAIJpJ,EAAQ9uC,UAAU84C,cAAgB,SAAUC,EAASC,GACnD,OAAID,EAAQt4C,QAAU,EACbjB,KAAKy5C,mBAAmBF,EAASC,GAEnCx5C,KAAK05C,kBAAkBH,EAASC,IAGzClK,EAAQ9uC,UAAUi5C,mBAAqB,SAAUF,EAASC,GACxD,IAAIrmC,EAAOnT,KACP25C,EAAkB,SAAUltB,EAAO2b,GACrC,IACI0J,EAAS,CACX8H,cAAentB,EACfotB,kBAAmBzR,EAAQ0R,cAE7B3mC,EAAK3M,MALS,qBAKMsrC,IAElBiI,EAAuB5mC,EAAKrB,QAAQkoC,sBACxC,OAAO,SAAUvtB,EAAO2b,GACtB,OAAO,IAAIjhB,SAAQ,SAAUC,EAAS7d,GAEpC,GADA4J,EAAKqkC,cAAgBpP,EACjB2R,EAAsB,CACxB,IAAIE,GAAaT,GAAkBG,GAAiB3qC,KAAK,KAAMyd,EAAO2b,GACtEj1B,EAAKskC,oBAAsBpwC,WAAW4yC,EAAW7R,EAAQ8R,2BAA6B,KAExFX,EAAQ9sB,EAAO2b,GACZ/gB,MAAK,SAAU0B,GACdoxB,aAAahnC,EAAKskC,qBAClBrwB,EAAQ2B,MAETE,OAAM,SAAUhmB,GACfkQ,EAAK3M,MAAMvD,GACXkQ,EAAKqxB,MAAK,WACR2V,aAAahnC,EAAKskC,qBAClBluC,EAAOtG,cAMnBqsC,EAAQ9uC,UAAUk5C,kBAAoB,SAAUH,EAASC,GACvD,IAAIrmC,EAAOnT,KACP25C,EAAkB,SAAUltB,EAAO2b,EAASgS,GAC9C,IACItI,EAAS,CACX8H,cAAentB,EACfotB,kBAAmBzR,EAAQ0R,cAE7B3mC,EAAK3M,MALS,qBAKMsrC,IAElBiI,EAAuB5mC,EAAKrB,QAAQkoC,sBACxC,OAAO,SAAUvtB,EAAO2b,EAAS5lC,GAE/B,GADA2Q,EAAKqkC,cAAgBpP,EACjB2R,EAAsB,CACxB,IAAIE,GAAaT,GAAkBG,GAAiB3qC,KAAK,KAAMyd,EAAO2b,EAAS5lC,GAC/E2Q,EAAKskC,oBAAsBpwC,WAAW4yC,EAAW7R,EAAQ8R,2BAA6B,KAExF,IACEX,EAAQ9sB,EAAO2b,GAAS,SAAUnlC,EAAK8lB,GACjC9lB,GACFkQ,EAAK3M,MAAMvD,GAEbkQ,EAAKqxB,MAAK,WACR2V,aAAahnC,EAAKskC,qBAClBj1C,EAASS,EAAK8lB,SAGlB,MAAO9lB,GACPkQ,EAAK3M,MAAMvD,GACXkQ,EAAKqxB,MAAK,WAER,MADA2V,aAAahnC,EAAKskC,qBACZx0C,QAKdqsC,EAAQgK,cAAgB,SAAUC,GAChC,GAAId,EACF,OAAOA,EAAUa,cAAcC,GAE/Bb,KAcJpJ,EAAQ9uC,UAAU65C,aAAe,SAAUC,GACzC,OAXF,SAAsBpkC,EAAGokC,GACvB,OAAO,WACL,IAAIr3C,EAAMhD,UAAU,GAIpB,OAHIgD,GACFiT,EAAE1P,MAAMvD,GAEHq3C,EAAEv6C,MAAMC,KAAMC,YAKhBo6C,CAAar6C,KAAMs6C,IAE5BhL,EAAQ+K,aAAe,SAAUC,GAC/B,GAAI7B,EACF,OAAOA,EAAU4B,aAAaC,GAE9B5B,KAIJpJ,EAAQ9uC,UAAU8vC,aAAe,WAC/B,IAAI7jB,EAAQzlB,EAAEuzC,qBAAqBt6C,WACnC,OAAOD,KAAK6Y,OAAOy3B,aAAa7jB,EAAMyG,KAAMzG,EAAMJ,SAAUI,EAAMmH,QAEpE0b,EAAQgB,aAAe,WACrB,GAAImI,EACF,OAAOA,EAAUnI,aAAavwC,MAAM04C,EAAWx4C,WAE/Cy4C,KAMJpJ,EAAQ9uC,UAAUg6C,cAAgB,SAAU/mC,EAASmgB,EAAOzZ,EAAS3X,GAEnE,OADAmoC,EAAOp9B,IAAI,+BACPvG,EAAEwiC,WAAWxpC,KAAK4zB,IACb5zB,KAAK4zB,GAAOngB,EAAS0G,EAAS3X,GAE9BxC,KAAKwG,MAAMiN,EAAS0G,EAAS3X,IAGxC8sC,EAAQkL,cAAgB,SAAU/mC,EAASmgB,EAAOzZ,EAAS3X,GACzD,GAAIi2C,EACF,OAAOA,EAAU+B,cAAc/mC,EAASmgB,EAAOzZ,EAAS3X,GAExDk2C,EAAoBl2C,IAIxB8sC,EAAQ9uC,UAAUi6C,6BAA+B,SAAUhnC,EAASw8B,EAAa91B,EAAS3X,GAExF,OADAmoC,EAAOp9B,IAAI,8CACJvN,KAAKwG,MAAMiN,EAAS0G,EAAS81B,EAAaztC,IAEnD8sC,EAAQmL,6BAA+B,SAAUhnC,EAASw8B,EAAa91B,EAAS3X,GAC9E,GAAIi2C,EACF,OAAOA,EAAUgC,6BAA6BhnC,EAASw8B,EAAa91B,EAAS3X,GAE7Ek2C,EAAoBl2C,IAKxB8sC,EAAQ9uC,UAAUk6C,YAAc,SAAUz3C,EAAKkX,EAAS3X,GAEtD,OADAmoC,EAAOp9B,IAAI,6BACJvN,KAAKwG,MAAMvD,EAAKkX,EAAS3X,IAElC8sC,EAAQoL,YAAc,SAAUz3C,EAAKkX,EAAS3X,GAC5C,GAAIi2C,EACF,OAAOA,EAAUiC,YAAYz3C,EAAKkX,EAAS3X,GAE3Ck2C,EAAoBl2C,IAKxB8sC,EAAQ9uC,UAAUm6C,2BAA6B,SAAU13C,EAAKgtC,EAAa91B,EAAS3X,GAElF,OADAmoC,EAAOp9B,IAAI,4CACJvN,KAAKwG,MAAMvD,EAAKkX,EAAS81B,EAAaztC,IAE/C8sC,EAAQqL,2BAA6B,SAAU13C,EAAKgtC,EAAa91B,EAAS3X,GACxE,GAAIi2C,EACF,OAAOA,EAAUkC,2BAA2B13C,EAAKgtC,EAAa91B,EAAS3X,GAEvEk2C,EAAoBl2C,IAIxB8sC,EAAQsL,yBAA2B,SAAUvT,EAAav1B,GACxD,GAAI2mC,EAGF,OAFA3mC,EAAUA,GAAW,IACbu1B,YAAcA,EACfoR,EAAUxQ,UAAUn2B,GAE3B4mC,KAIJpJ,EAAQuL,0BAA4B,SAAUxT,EAAav1B,GACzD,GAAI2mC,EAGF,OAFA3mC,EAAUA,GAAW,IACbu1B,YAAcA,EACfoR,EAAUxQ,UAAUn2B,GAE3B4mC,KAIJpJ,EAAQwL,sCAAwC,SAAUzT,EAAav1B,GACrE,GAAI2mC,EAGF,OAFA3mC,EAAUA,GAAW,IACbu1B,YAAcA,EACfoR,EAAUxQ,UAAUn2B,GAE3B4mC,KAgCJpJ,EAAQ9uC,UAAU04C,YAAc,SAAU90C,GAExC,OAAO4C,EAAE+zC,WAAW32C,EAAMumC,EAAQ3qC,KADhB,CAAC,UAAW,WAAY,MAAO,SAAU,OAAQ,SACdA,KAAKw3C,gBAY5DlI,EAAQ9uC,UAAU+3C,sBAAwB,YACpCv4C,KAAK8R,QAAQkpC,iBAAmBh7C,KAAK8R,QAAQ8oC,2BAC/C56C,KAAK46C,4BAEH56C,KAAK8R,QAAQmpC,4BAA8Bj7C,KAAK8R,QAAQ+oC,4BAC1D76C,KAAK66C,6BAITvL,EAAQ9uC,UAAUo6C,yBAA2B,WAC3C,IAAIM,IAAmBl7C,KAAK8R,QAAQqpC,+BAC7Bn7C,KAAK8R,QAAQqpC,wBAEpBtC,EAA2B,oBAAqB,SAAU51C,IACnDjD,KAAK8R,QAAQkpC,iBAAoBh7C,KAAK8R,QAAQ8oC,4BAInD56C,KAAKm5C,eAAel2C,GAAK,SAAUA,GAC7BA,IACF0nC,EAAOnkC,MAAM,2DACbmkC,EAAOnkC,MAAMvD,OAGbi4C,GACF/1C,aAAa,WACXnF,KAAKwkC,MAAK,WACRh/B,QAAQ41C,KAAK,OAEfpsC,KAAKhP,SAETgP,KAAKhP,QAGTsvC,EAAQ9uC,UAAUq6C,0BAA4B,WAC5ChC,EAA2B,qBAAsB,SAAUwC,IACpDr7C,KAAK8R,QAAQmpC,4BAA+Bj7C,KAAK8R,QAAQ+oC,4BAI9D76C,KAAKm5C,eAAekC,GAAQ,SAAUp4C,GAChCA,IACF0nC,EAAOnkC,MAAM,2DACbmkC,EAAOnkC,MAAMvD,QAGjB+L,KAAKhP,QA6BT8Q,EAAKc,SAASonC,EAAcl5C,OAC5BwvC,EAAQxvC,MAAQk5C,EAEhB1J,EAAQxI,eAAiB,CACvBtsB,KAAMe,EAAGd,WACTq0B,YAAa,aACbE,UAAW,UACXsM,2BAA2B,EAC3BvM,SAAU,CACRzoC,KAAM,eACN2V,QAAS86B,EAAY96B,SAEvBs/B,aAAcxE,EAAY38B,SAASohC,OAAOD,aAC1CnJ,YAAa2E,EAAY38B,SAASohC,OAAOpJ,YACzC2F,eAAgB,KAChB5M,YAAa4L,EAAY38B,SAAS+wB,YAClChL,SAAS,EACTsJ,SAAS,EACTwD,UAAU,EACVwO,YAAY,EACZC,yBAAyB,EACzBC,cAAc,EACdC,iBAAiB,EACjBC,WAAW,EACX7B,uBAAuB,EACvBpJ,uBAAuB,EACvBkL,kBAAkB,GAGpBrtC,EAAOC,QAAU4gC,G,eC7nBjB,IAAIyM,EAAoB,0BACpB3lC,EAAO,EAAQ,MACfI,EAAK,EAAQ,MAebwlC,EAAoB,GAGpBC,EAAiB,GAGjBC,EAAc,sCAElB,SAASC,EAAa/lC,GAWpB,GATAA,EAAOA,EAAKkf,OACR,SAAS/oB,KAAK6J,KAEhBA,EAAOA,EAAKjB,QAAQ,qBAAqB,SAASinC,EAAWC,GAC3D,OAAOA,EACL,GACA,QAGFjmC,KAAQ4lC,EACV,OAAOA,EAAkB5lC,GAG3B,IAAImC,EAAW,GACf,IACM/B,EAAGof,WAAWxf,KAChBmC,EAAW/B,EAAG4E,aAAahF,EAAM,SAEnC,MAAOkmC,IAIT,OAAON,EAAkB5lC,GAAQmC,EAKnC,SAASgkC,EAAmBC,EAAMh9B,GAChC,IAAKg9B,EAAM,OAAOh9B,EAClB,IAAIhS,EAAM4I,EAAKqmC,QAAQD,GACnBpgC,EAAQ,kBAAkBwS,KAAKphB,GAC/BkN,EAAW0B,EAAQA,EAAM,GAAK,GAC9BsgC,EAAYlvC,EAAI/C,MAAMiQ,EAASzZ,QACnC,OAAIyZ,GAAY,UAAUnO,KAAKmwC,IAE7BhiC,GAAY,KACMtE,EAAKgR,QAAQ5Z,EAAI/C,MAAMiQ,EAASzZ,QAASue,GAAKrK,QAAQ,MAAO,KAE1EuF,EAAWtE,EAAKgR,QAAQ5Z,EAAI/C,MAAMiQ,EAASzZ,QAASue,GAgD7D9Q,EAAQslC,kBAAoB,SAA2B7zB,EAAUkpB,GAC/D,IAAIsT,EAAYV,EAAe97B,EAAS7K,QACxC,IAAKqnC,EAAW,CAEd,IAAIC,EA/BR,SAA2BtnC,GACzB,IAIIunC,EAJAC,EAnBN,SAA8BxnC,GAC5B,IAAIkhC,EAGJA,EAAW2F,EAAa7mC,GAKxB,IAJA,IAGI6hB,EAAW/a,EAHX2gC,EAAK,4HAID3gC,EAAQ2gC,EAAGnuB,KAAK4nB,IAAYrf,EAAY/a,EAChD,OAAK+a,EACEA,EAAU,GADM,KASA6lB,CAAqB1nC,GAC5C,IAAKwnC,EAAkB,OAAO,KAI9B,GAAIZ,EAAY3vC,KAAKuwC,GAAmB,CAEtC,IAAIG,EAAUH,EAAiBryC,MAAMqyC,EAAiB9xC,QAAQ,KAAO,GACrE6xC,EAAgB1qC,OAAOwH,KAAKsjC,EAAS,UAAUx8C,WAC/Cq8C,EAAmBxnC,OAInBunC,EAAgBV,EADhBW,EAAmBP,EAAmBjnC,EAAQwnC,IAIhD,OAAKD,EAIE,CACLr9B,IAAKs9B,EACLx0C,IAAKu0C,GALE,KAaSK,CAAkB/8B,EAAS7K,QACvCsnC,GACFD,EAAYV,EAAe97B,EAAS7K,QAAU,CAC5CkK,IAAKo9B,EAAUp9B,IACflX,IAAK,IAAIyzC,EAAkBa,EAAUt0C,MAEvC+gC,EAAW6M,iBAAiBC,oBAAoBh2B,EAAS7K,QAAUsnC,EAAUp9B,IAIzEm9B,EAAUr0C,IAAI60C,gBAChBR,EAAUr0C,IAAI80C,QAAQ91C,SAAQ,SAASgO,EAAQ5T,GAC7C,IAAI6W,EAAWokC,EAAUr0C,IAAI60C,eAAez7C,GAC5C,GAAI6W,EAAU,CACZ,IAAIiH,EAAM+8B,EAAmBI,EAAUn9B,IAAKlK,GAC5C0mC,EAAkBx8B,GAAOjH,QAK/BokC,EAAYV,EAAe97B,EAAS7K,QAAU,CAC5CkK,IAAK,KACLlX,IAAK,MAEP+gC,EAAW6M,iBAAiBC,oBAAoBh2B,EAAS7K,QAAU,aAKvE,GAAIqnC,GAAaA,EAAUr0C,KAAoD,mBAAtCq0C,EAAUr0C,IAAI+0C,oBAAoC,CACzF,IAAIC,EAAmBX,EAAUr0C,IAAI+0C,oBAAoBl9B,GAOzD,GAAgC,OAA5Bm9B,EAAiBhoC,OAGnB,OAFAgoC,EAAiBhoC,OAASinC,EACxBI,EAAUn9B,IAAK89B,EAAiBhoC,QAC3BgoC,EAIX,OAAOn9B,I,cCjKT,IAAI1gB,EAAQ,EAAQ,MAChB89C,EAAS,EAAQ,MACjBC,EAAY,EAAQ,MACpBh+B,EAAM,EAAQ,MACdxY,EAAI,EAAQ,KACZy2C,EAAQ,EAAQ,MA6CpB,SAASC,EAAer4C,EAAMyM,EAAStP,GACrC6C,EAAKN,KAAOM,EAAKN,MAAQ,GACzBM,EAAKN,KAAKgnC,KAAO1mC,EAAKN,KAAKgnC,MAAQ,GACnC,IAAIt4B,EAAUpO,EAAKoO,SAAW,4CAC9BpO,EAAKN,KAAKgnC,KAAKt4B,QAAU,CACvBs4B,KAAMt4B,GAERjR,EAAS,KAAM6C,GAGjB,SAASs4C,EAAat4C,EAAMyM,EAAStP,GAC/B6C,EAAKu4C,YACPv4C,EAAKN,KAAOM,EAAKN,MAAQ,GACzBM,EAAKN,KAAKgnC,KAAO1mC,EAAKN,KAAKgnC,MAAQ,GACnC1mC,EAAKN,KAAKgnC,KAAK8R,YAAcx4C,EAAKu4C,WAEpCp7C,EAAS,KAAM6C,GAyKjB,SAASy4C,EAAmBvuB,GAC1B,OAAOA,EAAItX,SAAWsX,EAAItX,QAAQ,iBAAmBsX,EAAItX,QAAQ,gBAAgBoD,SAAS,QAuB5F,SAAS0iC,EAAWxuB,GAClB,IAAI5P,EAAK4P,EAAI5P,GAIb,OAHKA,IACHA,EAAK69B,EAAUrX,YAAY5W,IAEtB5P,EA6CTlR,EAAOC,QAAU,CACfgpC,SA/SF,SAAkBryC,EAAMyM,EAAStP,GAC/B,IAAIssC,EAAeh9B,EAAQlN,SAAWkN,EAAQlN,QAAQkqC,aAAgBh9B,EAAQg9B,YAC1E/pC,EAAO,CACTi5C,UAAW93C,KAAK+3C,MAAM54C,EAAK24C,UAAY,KACvClP,YAAazpC,EAAKypC,aAAeA,EACjClb,MAAOvuB,EAAKuuB,OAAS,QACrBtK,SAAU,aACV0lB,UAAW3pC,EAAK2pC,WAAal9B,EAAQk9B,UACrC2C,KAAMtsC,EAAKssC,KACX5C,SAAUjoB,KAAKQ,MAAMR,KAAKC,UAAUjV,EAAQi9B,WAC5C+C,OAAQzsC,EAAKysC,QAGXhgC,EAAQosC,YACVn5C,EAAKo5C,aAAersC,EAAQosC,YACnBpsC,EAAQqsC,eACjBp5C,EAAKo5C,aAAersC,EAAQqsC,cAGlB59C,OAAO+c,oBAAoBjY,EAAKysC,QAAU,IAChDxqC,SAAQ,SAAUhB,GACjBvB,EAAKhD,eAAeuE,KACvBvB,EAAKuB,GAAQjB,EAAKysC,OAAOxrC,OAI7BvB,EAAKy2C,OAAS,CACZhhC,KAAM1I,EAAQ0I,KACd4jC,KAAM54C,QAAQ44C,KAAK55C,SACnB65C,IAAK74C,QAAQ64C,KAGXvsC,EAAQwsC,SACVv5C,EAAKy2C,OAAO8C,OAASxsC,EAAQwsC,QAE3BxsC,EAAQvS,OACVwF,EAAKy2C,OAAOj8C,KAAOuS,EAAQvS,MAG7B8F,EAAKN,KAAOA,EACZvC,EAAS,KAAM6C,IAwQfsyC,oBA1OF,SAA6BtyC,EAAMyM,EAAStP,GAC1C,IAAK6C,EAAKpC,IACR,OAAOT,EAAS,KAAM6C,GAGxB,IAAIpC,EAAMoC,EAAKpC,IACX6xC,EAAS,GACTyJ,EAAQ,GACZ,GACEzJ,EAAO9yC,KAAKiB,GACZA,EAAMA,EAAIg2C,kBACKnhC,IAAR7U,GACToC,EAAKu4C,UAAYW,EAEbzsC,EAAQ0sC,iBACVx3C,EAAEw3C,gBAAgBn5C,EAAMyvC,GAW1Br1C,EAAMgI,WAAWqtC,EAwInB,SAAyByJ,EAAOzsC,EAASzM,GACvC,OAAO,SAASq7B,EAAIp8B,GAClBi5C,EAAO5I,eAAejU,EAAI5uB,EAASzM,GAAM,SAAUpC,EAAKw7C,GACtD,OAAIx7C,EACKqB,EAAGrB,IAGZs7C,EAAMv8C,KAAK,CACTooC,OAAQqU,EAAQrU,OAChBsU,UAAW,CACTrJ,MAAOoJ,EAAe,MACtBhrC,QAASgrC,EAAQhrC,WAIdnP,EAAG,WAvJWq6C,CAAgBJ,EAAOzsC,EAASzM,IARhD,SAASkwB,GACZA,IACFlwB,EAAKoO,QAAUpO,EAAKpC,IAAIwQ,SAAWpO,EAAKpC,IAAI27C,aAAev5C,EAAKoO,SAAW9C,OAAOtL,EAAKpC,KACvFoC,EAAKgkC,WAAWwV,eAAiBtpB,EAAE9hB,eAC5BpO,EAAKu4C,WAEdp7C,EAAS,KAAM6C,OAmNjBuyC,QAnPF,SAAiBvyC,EAAMyM,EAAStP,GAC1B6C,EAAKu4C,UACPD,EAAat4C,EAAMyM,EAAStP,GAE5Bk7C,EAAer4C,EAAMyM,EAAStP,IAgPhCk7C,eAAgBA,EAChBC,aAAcA,EACd5F,eAjNF,SAAwB1yC,EAAMyM,EAAStP,GACrC6C,EAAKN,KAAOM,EAAKN,MAAQ,GAEzB,IAAIwqB,EAAMlqB,EAAK8U,QACf,GAAKoV,EAAL,CAKA,IAAIuvB,EAAUvvB,EAAIuvB,SAAW,GAE7B,GAAIhtC,EAAQimC,gBAAkB/wC,EAAEwiC,WAAW13B,EAAQimC,gBAGjD,OAFAjmC,EAAQimC,eAAe1yC,EAAKN,KAAMwqB,QAClC/sB,EAAS,KAAM6C,GAIjB,IAII05C,EAJAptB,EAgJN,SAA2BpC,GACzB,IAGIyvB,EAHA/mC,EAAUsX,EAAItX,SAAW,GACzBuC,EAAOvC,EAAQuC,MAAQ,YACvBykC,EAAQ1vB,EAAI7U,WAAc6U,EAAIiX,QAAUjX,EAAIiX,OAAO0Y,UAAa,QAAU,QAE1EJ,EAAUvvB,EAAIuvB,SAAW,GAC7B,GAAI93C,EAAEmhC,OAAO5Y,EAAI/P,IAAK,UAAW,CAC/B,IAAI2/B,EAAUL,GAAWA,EAAQ79C,OAAS69C,EAAUvvB,EAAI/P,IAAM+P,EAAI/P,IAClEw/B,EAAYx/B,EAAI8H,MAAM63B,GAAS,QAE/BH,EAAYzvB,EAAI/P,KAAO,GAEzBw/B,EAAUtkC,SAAWskC,EAAUtkC,UAAYukC,EAC3CD,EAAUxkC,KAAOwkC,EAAUxkC,MAAQA,EACnC,IACIzV,EAAO,CACTya,IAFWA,EAAI4/B,OAAOJ,GAGtBK,QAAStB,EAAWxuB,GACpBtX,QAASA,EACToC,OAAQkV,EAAIlV,QAEV2kC,EAAUjY,QAAUiY,EAAUjY,OAAO9lC,OAAS,IAChD8D,EAAKu6C,IAAMN,EAAUhzB,OAGvB,IAAI+f,EAAOxc,EAAIwc,MAAQxc,EAAI3qB,QAC3B,GAAImnC,EAAM,CACR,IAAIwT,EAAa,GACjB,GAAIv4C,EAAEw4C,WAAWzT,GAAO,CACtB,IAAK,IAAIjqC,KAAKiqC,EACRxrC,OAAOC,UAAUuB,eAAejB,KAAKirC,EAAMjqC,KAC7Cy9C,EAAWz9C,GAAKiqC,EAAKjqC,IAGzBiD,EAAKwqB,EAAIlV,QAAUklC,OAEnBx6C,EAAKgnC,KAAOA,EAGhB,OAAOhnC,EAvLW06C,CAAkBlwB,GAMpC,GALAvoB,EAAE04C,SAAS/tB,EAAa7f,EAAQ+pC,WAChCx2C,EAAKN,KAAKoV,QAAUwX,EAIhBpC,EAAIowB,MACNZ,EAAYxvB,EAAIowB,MAAMvpC,KACtB/Q,EAAKN,KAAKqjC,QAAU0W,GAAWA,EAAQ79C,OAAS69C,EAAUC,EAAYA,OAEtE,IACEA,EAAYxvB,EAAIoV,IAAIib,QAAQC,aAAatwB,GAAKnZ,KAC9C/Q,EAAKN,KAAKqjC,QAAU0W,GAAWA,EAAQ79C,OAAS69C,EAAUC,EAAYA,EACtE,MAAOe,IAKX,IAAInE,EAAe7pC,EAAQ6pC,aACvBC,EAAkB9pC,EAAQ8pC,gBAC9B,GAAIrsB,EAAIwwB,eAAgB,CACtB,IAAIC,EAASzwB,EAAIwwB,gBACZpE,GAAgBqE,EAAOlhC,QAC1BkhC,EAAOlhC,MAAQ,OAEZ88B,GAAmBoE,EAAOtqB,WAC7BsqB,EAAOtqB,SAAW,MAEpBrwB,EAAKN,KAAKi7C,OAASA,OACd,GAAIzwB,EAAIwF,KACb1vB,EAAKN,KAAKi7C,OAAS,CAAC91B,GAAIqF,EAAIwF,KAAK7K,IAC7BqF,EAAIwF,KAAKW,UAAYkmB,IACvBv2C,EAAKN,KAAKi7C,OAAOtqB,SAAWnG,EAAIwF,KAAKW,UAEnCnG,EAAIwF,KAAKjW,OAAS68B,IACpBt2C,EAAKN,KAAKi7C,OAAOlhC,MAAQyQ,EAAIwF,KAAKjW,YAE/B,GAAIyQ,EAAI0wB,SAAW1wB,EAAI2wB,OAAQ,CACpC,IAAIA,EAAS3wB,EAAI0wB,SAAW1wB,EAAI2wB,OAC5Bl5C,EAAEwiC,WAAW0W,KACfA,EAASA,KAEX76C,EAAKN,KAAKi7C,OAAS,CAAC91B,GAAIg2B,GAG1B19C,EAAS,KAAM6C,QAzDb7C,EAAS,KAAM6C,IA6MjB2yC,cAjJF,SAAuB3yC,EAAMyM,EAAStP,GACpC,IAAImS,EAAItP,EAAKmyC,cACb,GAAK7iC,EAAL,CAKA,IAAI5P,EAAO,CACTo7C,sBAAuBxrC,EAAEulC,2BACzBkG,+BAAgCzrC,EAAEyrC,+BAClCC,aAAc1rC,EAAE0rC,aAChBC,gBAAiB3rC,EAAE2rC,gBACnBC,IAAK5rC,EAAE6rC,mBACPC,UAAW9rC,EAAEmlC,cAGfz0C,EAAKN,KAAOM,EAAKN,MAAQ,GACzBM,EAAKN,KAAK+sC,OAASzsC,EAAKN,KAAK+sC,QAAU,GACvCzsC,EAAKN,KAAK+sC,OAAO4O,OAAS37C,EAE1BvC,EAAS,KAAM6C,QAjBb7C,EAAS,KAAM6C,IA+IjB6yC,aA3HF,SAAsB7yC,EAAMyM,EAAStP,GACnC,IAAI+4C,EAAezpC,EAAQypC,cAAgB,GACvCnJ,EAActgC,EAAQsgC,aAAe,GACrCC,EAAavgC,EAAQugC,YAAc,GACvCD,EAAcmJ,EAAa/2C,OAAO4tC,GASpC,SAA0B7iB,EAAKzd,GAC7B,GAAKyd,GAAQzd,EAAQgqC,iBAErB,IACM90C,EAAE25C,SAASpxB,EAAIwc,OAAS+R,EAAmBvuB,KAC7CA,EAAIwc,KAAOjlB,KAAKQ,MAAMiI,EAAIwc,OAE5B,MAAOxW,GACPhG,EAAIwc,KAAO,KACXxc,EAAI/oB,MAAQ,8BAAgC+uB,EAAE9hB,SAhBhDmtC,CAAiBv7C,EAAKN,KAAKoV,QAASrI,GACpCzM,EAAKN,KAAO04C,EAAMp4C,EAAKN,KAAMqtC,EAAaC,GAmB5C,SAA8B9iB,EAAKzd,GACjC,GAAKyd,GAAQzd,EAAQgqC,iBAErB,IACM90C,EAAE65C,SAAStxB,EAAIwc,OAAS+R,EAAmBvuB,KAC7CA,EAAIwc,KAAOjlB,KAAKC,UAAUwI,EAAIwc,OAEhC,MAAOxW,GACPhG,EAAIwc,KAAO,KACXxc,EAAI/oB,MAAQ,sCAAwC+uB,EAAE9hB,SA3BxDqtC,CAAqBz7C,EAAKN,KAAKoV,QAASrI,GAExCtP,EAAS,KAAM6C,M,eC5MjB,IAAI2B,EAAI,EAAQ,KACZmgC,EAAa,EAAQ,MACrBwD,EAAS,EAAQ,MAEjBt0B,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChB8wB,EAAa,EAAQ,MAoBzB,SAAS6P,IACPj3C,KAAK+gD,iBAAmB,EAkG1B,SAASC,EAAS3Z,EAAav1B,EAAS/M,GACtC,IAAIkT,EAAWnG,GAAWA,EAAQmG,SAAY,GAE9C,GADAA,EAAQ,gBAAkB,mBACtBlT,EACF,IACEkT,EAAQ,kBAAoB9F,OAAOyF,WAAW7S,EAAM,QACpD,MAAOwwB,GACPoV,EAAOnkC,MAAM,gDAIjB,OADAyR,EAAQ,0BAA4BovB,EAC7BpvB,EAGT,SAASgpC,EAAWnvC,GAClB,MAAO,CAAC,QAASuE,EAAM,SAAUC,GAAOxE,EAAQ4I,UAoClD,SAASwmC,IACP,OAAOh7C,KAAKiO,MAAM+M,KAAKM,MAAQ,KAnJjCy1B,EAAUz2C,UAAUuV,IAAM,SAASsxB,EAAav1B,EAASoI,EAAQ1X,EAAU2+C,GACzE,IAAIviB,EAYJ,GAXKp8B,GAAawE,EAAEwiC,WAAWhnC,KAC7BA,EAAW,cAEbsP,EAAUA,GAAW,GACrB9K,EAAEo6C,8BAA8B/Z,EAAav1B,EAASoI,GACtDpI,EAAQmG,QAAU+oC,EAAS3Z,EAAav1B,KAEtC8sB,EADEuiB,EACEA,EAAiBrvC,GAEjBmvC,EAAWnvC,IAIf,OADA64B,EAAOnkC,MAAM,8CAAgDsL,EAAQ4I,UAC9DlY,EAAS,IAAI1C,MAAM,sBAE5B,IAAIyvB,EAAMqP,EAAEzkB,QAAQrI,EAAS,SAASiX,GACpC/oB,KAAKqhD,eAAet4B,EAAMvmB,IAC1BwM,KAAKhP,OACPuvB,EAAI9c,GAAG,SAAS,SAASxP,GACvBT,EAASS,MAEXssB,EAAIpiB,OAGN8pC,EAAUz2C,UAAUmnC,KAAO,SAASN,EAAav1B,EAASlN,EAASpC,EAAU2+C,GAC3E,IAAIviB,EAIJ,GAHKp8B,GAAawE,EAAEwiC,WAAWhnC,KAC7BA,EAAW,cAET0+C,IAAiBlhD,KAAK+gD,iBACxB,OAAOv+C,EAAS,IAAI1C,MAAM,wBAG5B,GADAgS,EAAUA,GAAW,IAChBlN,EACH,OAAOpC,EAAS,IAAI1C,MAAM,8BAE5B,IAAI+nC,EAAkBV,EAAWW,SAASljC,EAASwiC,GACnD,GAAIS,EAAgBrhC,MAElB,OADAmkC,EAAOnkC,MAAM,2CACNhE,EAASqlC,EAAgBrhC,OAElC,IAAI86C,EAAYzZ,EAAgBtlC,MAOhC,GANAuP,EAAQmG,QAAU+oC,EAAS3Z,EAAav1B,EAASwvC,KAE/C1iB,EADEuiB,EACEA,EAAiBrvC,GAEjBmvC,EAAWnvC,IAIf,OADA64B,EAAOnkC,MAAM,8CAAgDsL,EAAQ4I,UAC9DlY,EAAS,IAAI1C,MAAM,sBAE5B,IAAIyvB,EAAMqP,EAAEzkB,QAAQrI,EAAS,SAASiX,GACpC/oB,KAAKqhD,eAAet4B,EA0ExB,SAA2BvmB,GACzB,OAAO,SAASS,EAAK8B,GACnB,GAAI9B,EACF,OAAOT,EAASS,GAEd8B,EAAKzD,QAAUyD,EAAKzD,OAAOqwC,KAC7BhH,EAAOp9B,IAAI,CACP,2BACA,oDAAsDxI,EAAKzD,OAAOqwC,MACpE9gC,KAAK,KAEP85B,EAAOp9B,IAAI,2BAEb/K,EAAS,KAAMuC,EAAKzD,SAvFMigD,CAAkB/+C,KAC5CwM,KAAKhP,OACPuvB,EAAI9c,GAAG,SAAS,SAASxP,GACvBT,EAASS,MAEPq+C,GACF/xB,EAAIrc,MAAMouC,GAEZ/xB,EAAIpiB,OAGN8pC,EAAUz2C,UAAUghD,gBAAkB,SAASz4B,GAC7C,IAAI04B,EAAY31C,SAASid,EAAK9Q,QAAQ,2BAA6B,GAC/DypC,EAAmBx7C,KAAKC,IA1FA,GA0F6B4iB,EAAK9Q,QAAQ,mCAAqC,GACvG0pC,EAAcT,IAEO,MAApBn4B,EAAK8E,YAAsC,IAAd4zB,EAChCzhD,KAAK+gD,iBAAmBY,EAAcD,EAEtC1hD,KAAK+gD,iBAAmBY,GAI5B1K,EAAUz2C,UAAU6gD,eAAiB,SAASt4B,EAAMvmB,GAClDxC,KAAKwhD,gBAAgBz4B,GAErB,IAAI+E,EAAW,GACf/E,EAAK/S,YAAY,QACjB+S,EAAKtW,GAAG,QAAQ,SAASykB,GACvBpJ,EAAS9rB,KAAKk1B,MAGhBnO,EAAKtW,GAAG,OAAO,YA0BjB,SAA2B1N,EAAMvC,GAC/B,IAAIo/C,EAAa56C,EAAE66C,UAAU98C,GACzB68C,EAAWp7C,OACbmkC,EAAOnkC,MAAM,sCAAwCo7C,EAAWp7C,OACzDhE,EAASo/C,EAAWp7C,SAE7BzB,EAAO68C,EAAWr/C,OAETU,KACP0nC,EAAOnkC,MAAM,mBAAqBzB,EAAK0O,SAChCjR,EAAS,IAAI1C,MAAM,eAAiBiF,EAAK0O,SAAW,oBAG7DjR,EAAS,KAAMuC,GArCb+8C,CADAh0B,EAAWA,EAASjd,KAAK,IACGrO,OA6DhCiM,EAAOC,QAAUuoC,G,eCpLjB,IAAIjwC,EAAI,EAAQ,KAEZ+6C,EAAa,IAEjB,SAAS7K,EAAUplC,GACjB9R,KAAK2M,MAAQ,GACb3M,KAAK8R,QAAU9K,EAAEqhB,MAAMvW,GACvB,IAAIkwC,EAAqBhiD,KAAK8R,QAAQkwC,oBAAsBD,EAC5D/hD,KAAKiiD,aAAe/7C,KAAKoY,IAAI,EAAGpY,KAAKC,IAAI67C,EAAoBD,IA6J/D,SAASG,EAAShvB,EAAMU,GACtB,OAAIA,IAGe,CACjBptB,MAAO,QACP27C,OAAQ,QAEUjvB,IAAS,QAlK/BgkB,EAAU12C,UAAUynC,UAAY,SAASn2B,GACvC,IAAIo2B,EAAaloC,KAAK8R,QACtB9R,KAAK8R,QAAU9K,EAAEqhB,MAAM6f,EAAYp2B,GACnC,IAAIkwC,EAAqBhiD,KAAK8R,QAAQkwC,oBAAsBD,EACxDK,EAAel8C,KAAKoY,IAAI,EAAGpY,KAAKC,IAAI67C,EAAoBD,IACxDM,EAAc,EACdriD,KAAKiiD,aAAeG,IACtBC,EAAcriD,KAAKiiD,aAAeG,GAEpCpiD,KAAKiiD,aAAeG,EACpBpiD,KAAK2M,MAAM7G,OAAO,EAAGu8C,IAGvBnL,EAAU12C,UAAUywC,WAAa,WAC/B,IAAIqR,EAAS3hD,MAAMH,UAAUiK,MAAM3J,KAAKd,KAAK2M,MAAO,GACpD,GAAI3F,EAAEwiC,WAAWxpC,KAAK8R,QAAQywC,iBAC5B,IAEE,IADA,IAAI7gD,EAAI4gD,EAAOrhD,OACRS,KACD1B,KAAK8R,QAAQywC,gBAAgBD,EAAO5gD,KACtC4gD,EAAOx8C,OAAOpE,EAAG,GAGrB,MAAO6zB,GACPv1B,KAAK8R,QAAQywC,gBAAkB,KAGnC,OAAOD,GAGTpL,EAAU12C,UAAUgiD,QAAU,SAAStvB,EAAM7G,EAAUuH,EAAO6uB,EAAazE,GACzE,IAAIzoB,EAAI,CACN3B,MAAOsuB,EAAShvB,EAAMU,GACtBV,KAAMA,EACNwvB,aAAc1E,GAAah3C,EAAEwa,MAC7BuqB,KAAM1f,EACN/W,OAAQ,UAENmtC,IACFltB,EAAEoc,KAAO8Q,GAGX,IACE,GAAIz7C,EAAEwiC,WAAWxpC,KAAK8R,QAAQywC,kBAAoBviD,KAAK8R,QAAQywC,gBAAgBhtB,GAC7E,OAAO,EAET,MAAOqf,GACP50C,KAAK8R,QAAQywC,gBAAkB,KAIjC,OADAviD,KAAKgC,KAAKuzB,GACHA,GAGT2hB,EAAU12C,UAAU8vC,aAAe,SAASpd,EAAM7G,EAAUuH,EAAO6uB,GACjE,OAAOziD,KAAKwiD,QAAQtvB,EAAM7G,EAAUuH,EAAO6uB,IAG7CvL,EAAU12C,UAAUmiD,aAAe,SAAS1/C,EAAK2wB,EAAO6uB,EAAazE,GACnE,IAAI3xB,EAAW,CACb5Y,QAASxQ,EAAIwQ,SAAW9C,OAAO1N,IAKjC,OAHIA,EAAI0jB,QACN0F,EAAS1F,MAAQ1jB,EAAI0jB,OAEhB3mB,KAAKwiD,QAAQ,QAASn2B,EAAUuH,EAAO6uB,EAAazE,IAG7D9G,EAAU12C,UAAUoiD,WAAa,SAASnvC,EAASmgB,EAAO6uB,EAAazE,GACrE,OAAOh+C,KAAKwiD,QAAQ,MAAO,CACzB/uC,QAASA,GACRmgB,EAAO6uB,EAAazE,IAGzB9G,EAAU12C,UAAUqiD,eAAiB,SAASx2B,EAAUy2B,EAASL,EAAa9wB,GAC5EmxB,EAAUA,GAAW,MACrBz2B,EAASy2B,QAAUz2B,EAASy2B,SAAWA,EACnCnxB,IACFtF,EAASlS,QAAUwX,GAErB,IAAIiC,EAAQ5zB,KAAK+iD,gBAAgB12B,EAAS22B,aAC1C,OAAOhjD,KAAKwiD,QAAQ,UAAWn2B,EAAUuH,EAAO6uB,IAGlDvL,EAAU12C,UAAUuiD,gBAAkB,SAASl1B,GAC7C,OAAIA,GAAc,KAAOA,EAAa,IAC7B,OAEU,IAAfA,GAAoBA,GAAc,IAC7B,QAEF,QAGTqpB,EAAU12C,UAAUyiD,WAAa,SAASH,EAASI,EAAS3gD,EAAO4gD,EAASV,GAC1E,IAAIp2B,EAAW,CACby2B,QAASA,EACTI,QAASA,GAQX,YANcprC,IAAVvV,IACF8pB,EAAS9pB,MAAQA,QAEHuV,IAAZqrC,IACF92B,EAAS82B,QAAUA,GAEdnjD,KAAKwiD,QAAQ,MAAOn2B,EAAU,OAAQo2B,IAG/CvL,EAAU12C,UAAU4iD,kBAAoB,SAASzpC,EAAMkmB,EAAI4iB,GACzD,OAAOziD,KAAKwiD,QAAQ,aAAc,CAAC7oC,KAAMA,EAAMkmB,GAAIA,GAAK,OAAQ4iB,IAGlEvL,EAAU12C,UAAU+vC,wBAA0B,SAASC,GACrD,OAAOxwC,KAAKwiD,QAAQ,aAAc,CAACM,QAAS,oBAAqB,YAAQhrC,EAAW04B,GAAMA,EAAG/uB,YAM/Fy1B,EAAU12C,UAAUiwC,YAAc,SAASD,GACzC,OAAOxwC,KAAKwiD,QAAQ,aAAc,CAACM,QAAS,QAAS,YAAQhrC,EAAW04B,GAAMA,EAAG/uB,YAOnFy1B,EAAU12C,UAAU6iD,0BAA4B,SAASnwB,EAAMuvB,GAC7D,OAAOziD,KAAK6iD,eAAe,CAACS,OAAQpwB,GAAO,eAAgBuvB,IAI7DvL,EAAU12C,UAAUuwC,oBAAsB,SAAS1rC,GACjD,GAAKrF,KAAK8R,QAAQ4pC,wBAGlB,OAAIr2C,EAAKpC,IACAjD,KAAK2iD,aAAat9C,EAAKpC,IAAKoC,EAAKuuB,MAAOvuB,EAAKssC,KAAMtsC,EAAK24C,WAE7D34C,EAAKoO,QACAzT,KAAK4iD,WAAWv9C,EAAKoO,QAASpO,EAAKuuB,MAAOvuB,EAAKssC,KAAMtsC,EAAK24C,WAE/D34C,EAAKysC,OACA9xC,KAAKwiD,QAAQ,MAAOn9C,EAAKysC,OAAQzsC,EAAKuuB,MAAOvuB,EAAKssC,KAAMtsC,EAAK24C,gBADtE,GAKF9G,EAAU12C,UAAUwB,KAAO,SAASuzB,GAClCv1B,KAAK2M,MAAM3K,KAAKuzB,GACZv1B,KAAK2M,MAAM1L,OAASjB,KAAKiiD,cAC3BjiD,KAAK2M,MAAMqG,SAefvE,EAAOC,QAAUwoC,G,cChLjB,IAAIlwC,EAAI,EAAQ,KA6EhB,SAASu8C,EAAkBzxC,EAASxL,GAC/BU,EAAEwiC,WAAW13B,EAAQxL,MACtBwL,EAAQxL,GAAQwL,EAAQxL,GAAM7F,YAgDlCgO,EAAOC,QAAU,CACf4pC,cA9HF,SAAuBjzC,EAAMyM,EAAStP,GACpC,IAAIghD,EAAiB1xC,EAAQlN,SAAW,GACpC4+C,EAAezX,aACVyX,EAAezX,KAGxB,IAAIhnC,EAAOiC,EAAEqhB,MAAMhjB,EAAKN,KAAMy+C,GAC1Bn+C,EAAKimC,cACPvmC,EAAKumC,aAAc,GAEjBjmC,EAAKkmC,gBACPxmC,EAAKwmC,cAAgBlmC,EAAKkmC,eAE5B/oC,EAAS,KAAMuC,IAkHf+yC,iBA/GF,SAA0BzyC,EAAMyM,EAAStP,GACnC6C,EAAK2rC,iBACPhqC,EAAEwgB,IAAIniB,EAAM,sBAAuBA,EAAK2rC,iBAE1CxuC,EAAS,KAAM6C,IA4GfwyC,oBAzGF,SAA6BxyC,EAAMyM,EAAStP,GAC1C,GAAK6C,EAAKoO,QAAV,CAIA,IAAIgwC,EAAY,0BACZvZ,EAAQljC,EAAE+O,IAAI1Q,EAAMo+C,GAKxB,GAJKvZ,IACHuZ,EAAY,kBACZvZ,EAAQljC,EAAE+O,IAAI1Q,EAAMo+C,IAElBvZ,EAAO,CACT,IAAMA,EAAMwU,YAAaxU,EAAMwU,UAAUE,YAGvC,OAFA53C,EAAEwgB,IAAIniB,EAAMo+C,EAAU,yBAA0Bp+C,EAAKoO,cACrDjR,EAAS,KAAM6C,GAGjB,IAAIspC,EAAQ3nC,EAAE+O,IAAI1Q,EAAMo+C,EAAU,WAAa,GAC3CC,EAAY18C,EAAEqhB,MAAMsmB,EAAO,CAACl7B,QAASpO,EAAKoO,UAC9CzM,EAAEwgB,IAAIniB,EAAMo+C,EAAU,SAAUC,GAElClhD,EAAS,KAAM6C,QAnBb7C,EAAS,KAAM6C,IAwGjB8yC,cAlFF,SAAuBxN,GACrB,OAAO,SAAStlC,EAAMyM,EAAStP,GAC7B,IAAImhD,EAAU38C,EAAEqhB,MAAMhjB,GACtB,IACM2B,EAAEwiC,WAAW13B,EAAQy3B,YACvBz3B,EAAQy3B,UAAUoa,EAAQ5+C,KAAMM,GAElC,MAAOkwB,GAIP,OAHAzjB,EAAQy3B,UAAY,KACpBoB,EAAOnkC,MAAM,gFAAiF+uB,QAC9F/yB,EAAS,KAAM6C,GAGjB7C,EAAS,KAAMmhD,KAsEjB1L,mBAlEF,SAA4B5yC,EAAMyM,EAAStP,GACzC,IAAKsP,EAAQ2pC,WACX,OAAOj5C,EAAS,KAAM6C,GAExB,IACIysC,EAAS9qC,EAAE+O,IAAI1Q,EAAM,gBAAkB,GAC3CysC,EAAgB,eAAIhgC,EACpBzM,EAAKN,KAAK+sC,OAASA,EACnBtvC,EAAS,KAAM6C,IA2Df+yC,qBAlDF,SAA8B/yC,EAAMyM,EAAStP,GAC3C,IAAIohD,EAAoB9xC,EAAQ49B,mBAGhC6T,EAAkBK,EAAmB,aACrCL,EAAkBK,EAAmB,eACrCL,EAAkBK,EAAmB,yBAE9BA,EAAkBvc,YACzBhiC,EAAKN,KAAKgqC,SAAS8U,mBAAqBD,EACxCphD,EAAS,KAAM6C,IAyCfgzC,kBAtCF,SAA2BhzC,EAAMyM,EAAStP,GACxC,IAAI6mC,EAAariC,EAAEqhB,MAAMhjB,EAAK0pC,SAASl2B,OAAOk2B,SAAS1F,WAAYhkC,EAAKgkC,YAUxE,GARIriC,EAAE+O,IAAI1Q,EAAM,sBACdgkC,EAAWya,cAAe,GAGxBz+C,EAAKimC,cACPjC,EAAW0a,YAAc1+C,EAAKimC,aAG5BjmC,EAAKpC,IACP,IACEomC,EAAW2a,UAAY,CACrBvwC,QAASpO,EAAKpC,IAAIwQ,QAClBnN,KAAMjB,EAAKpC,IAAIqD,KACf29C,iBAAkB5+C,EAAKpC,IAAI+Q,aAAe3O,EAAKpC,IAAI+Q,YAAY1N,KAC/D6Q,SAAU9R,EAAKpC,IAAIihD,SACnBx4B,KAAMrmB,EAAKpC,IAAIkhD,WACfrQ,OAAQzuC,EAAKpC,IAAImhD,aACjBz9B,MAAOthB,EAAKpC,IAAI0jB,OAElB,MAAO4O,GACP8T,EAAW2a,UAAY,CAAEK,OAAQ1zC,OAAO4kB,IAI5ClwB,EAAKN,KAAKgqC,SAAS1F,WAAariC,EAAEqhB,MAAMhjB,EAAKN,KAAKgqC,SAAS1F,WAAYA,GACvE7mC,EAAS,KAAM6C,M,eC5HjB,IAAI2B,EAAI,EAAQ,KACZirC,EAAW,EAAQ,MAEvB,SAAS5iB,EAAIzqB,EAASwiC,GACpB,MAAO,CAACxiC,EAASoC,EAAE+f,UAAUniB,EAASwiC,IAGxC,SAASkd,EAAala,EAAQluB,GAC5B,IAAI/Z,EAAMioC,EAAOnpC,OACjB,OAAIkB,EAAc,EAAR+Z,EACDkuB,EAAO3/B,MAAM,EAAGyR,GAAO1X,OAAO4lC,EAAO3/B,MAAMtI,EAAM+Z,IAEnDkuB,EAGT,SAASma,EAAe3/C,EAASwiC,EAAYlrB,GAC3CA,OAA0B,IAAVA,EAAyB,GAAKA,EAC9C,IACIkuB,EADA2B,EAAOnnC,EAAQG,KAAKgnC,KAExB,GAAIA,EAAK8R,YAEP,IADA,IAAIU,EAAQxS,EAAK8R,YACRn8C,EAAI,EAAGA,EAAI68C,EAAMt9C,OAAQS,IAEhC0oC,EAASka,EADTla,EAASmU,EAAM78C,GAAG0oC,OACYluB,GAC9BqiC,EAAM78C,GAAG0oC,OAASA,OAEX2B,EAAK7B,QAEdE,EAASka,EADTla,EAAS2B,EAAK7B,MAAME,OACUluB,GAC9B6vB,EAAK7B,MAAME,OAASA,GAEtB,MAAO,CAACxlC,EAASoC,EAAE+f,UAAUniB,EAASwiC,IAGxC,SAASod,EAAmBriD,EAAKizB,GAC/B,OAAKA,GAGDA,EAAIn0B,OAASkB,EACRizB,EAAI3qB,MAAM,EAAGtI,EAAM,GAAGqC,OAAO,OAH7B4wB,EAQX,SAASqvB,EAAgBtiD,EAAKyC,EAASwiC,GAarC,MAAO,CADPxiC,EAAUqtC,EAASrtC,GAXnB,SAAS8/C,EAAU5iD,EAAGL,EAAGuxC,GACvB,OAAQhsC,EAAE29C,SAASljD,IACjB,IAAK,SACH,OAAO+iD,EAAmBriD,EAAKV,GACjC,IAAK,SACL,IAAK,QACH,OAAOwwC,EAASxwC,EAAGijD,EAAW1R,GAChC,QACE,OAAOvxC,KAG0B,IACtBuF,EAAE+f,UAAUniB,EAASwiC,IAGxC,SAASwd,EAAkBC,GAMzB,OALIA,EAAUnG,mBACLmG,EAAUnG,UAAUE,YAC3BiG,EAAUnG,UAAUjrC,QAAU+wC,EAAmB,IAAKK,EAAUnG,UAAUjrC,UAE5EoxC,EAAUza,OAASka,EAAaO,EAAUza,OAAQ,GAC3Cya,EAGT,SAASC,EAAQlgD,EAASwiC,GACxB,IAAI2E,EAAOnnC,EAAQG,KAAKgnC,KACxB,GAAIA,EAAK8R,YAEP,IADA,IAAIU,EAAQxS,EAAK8R,YACRn8C,EAAI,EAAGA,EAAI68C,EAAMt9C,OAAQS,IAChC68C,EAAM78C,GAAKkjD,EAAkBrG,EAAM78C,SAE5BqqC,EAAK7B,QACd6B,EAAK7B,MAAQ0a,EAAkB7Y,EAAK7B,QAEtC,MAAO,CAACtlC,EAASoC,EAAE+f,UAAUniB,EAASwiC,IAGxC,SAAS2d,EAAgBngD,EAASogD,GAChC,OAAOh+C,EAAEi+C,YAAYrgD,GAAWogD,EA0BlCv2C,EAAOC,QAAU,CACfo5B,SAxBF,SAAkBljC,EAASwiC,EAAY4d,GACrCA,OAA8B,IAAZA,EAA2B,OAAeA,EAW5D,IAVA,IAQIE,EAAU1hD,EAASlC,EARnB6jD,EAAa,CACf91B,EACAk1B,EACAE,EAAgBz1C,KAAK,KAAM,MAC3By1C,EAAgBz1C,KAAK,KAAM,KAC3By1C,EAAgBz1C,KAAK,KAAM,KAC3B81C,GAIMI,EAAWC,EAAWnyC,SAI5B,GAFApO,GADApB,EAAU0hD,EAAStgD,EAASwiC,IACV,IAClB9lC,EAASkC,EAAQ,IACNgD,QAAUu+C,EAAgBzjD,EAAOiB,MAAOyiD,GACjD,OAAO1jD,EAGX,OAAOA,GAOP+tB,IAAKA,EACLk1B,eAAgBA,EAChBE,gBAAiBA,EACjBD,mBAAoBA,I,cCpHtB,IAAIn8B,EAAQ,EAAQ,MAEhB+8B,EAAc,GA+ClB,SAASjd,EAAOzkC,EAAGk7B,GACjB,OAAOA,IAAM+lB,EAASjhD,GAMxB,SAASihD,EAASjhD,GAChB,IAAI4C,SAAc5C,EAClB,MAAa,WAAT4C,EACKA,EAEJ5C,EAGDA,aAAa5D,MACR,QAEF,GAAKW,SAASK,KAAK4C,GAAG0Y,MAAM,iBAAiB,GAAGhD,cAL9C,OAaX,SAASowB,EAAW8Q,GAClB,OAAOnS,EAAOmS,EAAG,YAQnB,SAAS+K,EAAiB/K,GACxB,IACIgL,EAAkB7hC,SAASjjB,UAAUC,SAASK,KAAKP,OAAOC,UAAUuB,gBACrEoT,QAFgB,sBAEM,QACtBA,QAAQ,yDAA0D,SACjEowC,EAAahb,OAAO,IAAM+a,EAAkB,KAChD,OAAOzE,EAASvG,IAAMiL,EAAWh5C,KAAK+tC,GAQxC,SAASuG,EAASt+C,GAChB,IAAI2wB,SAAc3wB,EAClB,OAAgB,MAATA,IAA0B,UAAR2wB,GAA4B,YAARA,GAkD/C,SAASsyB,IACP,IAAIznB,EAAIvc,IAMR,MALW,uCAAuCrM,QAAQ,SAAS,SAASR,GAC1E,IAAIuB,GAAK6nB,EAAoB,GAAhB73B,KAAKkO,UAAiB,GAAK,EAExC,OADA2pB,EAAI73B,KAAKiO,MAAM4pB,EAAI,KACL,MAANppB,EAAYuB,EAAS,EAAJA,EAAU,GAAMzV,SAAS,OA4BtD,IAAIglD,EAAkB,CACpBC,YAAY,EACZ1iD,IAAK,CACH,SACA,WACA,YACA,WACA,OACA,WACA,OACA,OACA,WACA,OACA,YACA,OACA,QACA,UAEF8B,EAAG,CACDwB,KAAM,WACNi3C,OAAQ,6BAEVA,OAAQ,CACNoI,OAAQ,0IACRC,MAAO,qMAiFX,SAAS7+B,EAAUlmB,EAAKglD,GACtB,IAAItjD,EAAOiE,EACX,IACEjE,EAAQ6iD,EAAYr+B,UAAUlmB,GAC9B,MAAOilD,GACP,GAAID,GAAUrc,EAAWqc,GACvB,IACEtjD,EAAQsjD,EAAOhlD,GACf,MAAOklD,GACPv/C,EAAQu/C,OAGVv/C,EAAQs/C,EAGZ,MAAO,CAACt/C,MAAOA,EAAOjE,MAAOA,GAoE/B,SAAS83C,EAAa1P,EAAQ2P,GAC5B,OAAO,SAASr3C,EAAK8lB,GACnB,IACEuxB,EAAEr3C,EAAK8lB,GACP,MAAOwM,GACPoV,EAAOnkC,MAAM+uB,KA4HnB,IAAIywB,EAAkB,CAAC,MAAO,UAAW,MAAO,aAAc,QAAS,UACnEC,EAAmB,CAAC,WAAY,QAAS,UAAW,OAAQ,SAEhE,SAASC,EAAcllD,EAAKo0B,GAC1B,IAAK,IAAItzB,EAAI,EAAGA,EAAId,EAAIC,SAAUa,EAChC,GAAId,EAAIc,KAAOszB,EACb,OAAO,EAIX,OAAO,EAkHT,SAAS5T,IACP,OAAIN,KAAKM,KACCN,KAAKM,OAEP,IAAIN,KAkDdzS,EAAOC,QAAU,CACf0yC,8BA7bF,SAAuC/Z,EAAav1B,EAASoI,IAC3DA,EAASA,GAAU,IACZouB,aAAejB,EACtB,IACIvlC,EADAqkD,EAAc,GAElB,IAAKrkD,KAAKoY,EACJ3Z,OAAOC,UAAUuB,eAAejB,KAAKoZ,EAAQpY,IAC/CqkD,EAAYnkD,KAAK,CAACF,EAAGoY,EAAOpY,IAAI+O,KAAK,MAGzC,IAAImb,EAAQ,IAAMm6B,EAAYxiD,OAAOkN,KAAK,MAE1CiB,EAAUA,GAAW,IACbsE,KAAOtE,EAAQsE,MAAQ,GAC/B,IAEI+X,EAFAi4B,EAAKt0C,EAAQsE,KAAKpL,QAAQ,KAC1Bq7C,EAAIv0C,EAAQsE,KAAKpL,QAAQ,MAEjB,IAARo7C,KAAqB,IAAPC,GAAYA,EAAID,IAChCj4B,EAAIrc,EAAQsE,KACZtE,EAAQsE,KAAO+X,EAAEvU,UAAU,EAAEwsC,GAAMp6B,EAAQ,IAAMmC,EAAEvU,UAAUwsC,EAAG,KAErD,IAAPC,GACFl4B,EAAIrc,EAAQsE,KACZtE,EAAQsE,KAAO+X,EAAEvU,UAAU,EAAEysC,GAAKr6B,EAAQmC,EAAEvU,UAAUysC,IAEtDv0C,EAAQsE,KAAOtE,EAAQsE,KAAO4V,GAqalC+uB,WA3SF,SAAoB32C,EAAMumC,EAAQoE,EAAUuX,EAAa9O,GAOvD,IANA,IAAI/jC,EAASxQ,EAAK6uC,EAAQtvC,EAAU2X,EAChCoU,EACAg4B,EAAY,GAEZC,EAAW,GAEN9kD,EAAI,EAAGmM,EAAIzJ,EAAKnD,OAAQS,EAAImM,IAAKnM,EAAG,CAG3C,IAAI+kD,EAAM9B,EAFVp2B,EAAMnqB,EAAK1C,IAIX,OADA8kD,EAASxkD,KAAKykD,GACNA,GACN,IAAK,YACH,MACF,IAAK,SACHhzC,EAAU8yC,EAAUvkD,KAAKusB,GAAO9a,EAAU8a,EAC1C,MACF,IAAK,WACH/rB,EAAW63C,EAAa1P,EAAQpc,GAChC,MACF,IAAK,OACHg4B,EAAUvkD,KAAKusB,GACf,MACF,IAAK,QACL,IAAK,eACL,IAAK,YACHtrB,EAAMsjD,EAAUvkD,KAAKusB,GAAOtrB,EAAMsrB,EAClC,MACF,IAAK,SACL,IAAK,QACH,GAAIA,aAAezuB,OAAkC,oBAAjB4mD,cAAgCn4B,aAAem4B,aAAe,CAChGzjD,EAAMsjD,EAAUvkD,KAAKusB,GAAOtrB,EAAMsrB,EAClC,MAEF,GAAI+3B,GAAuB,WAARG,IAAqBtsC,EAAS,CAC/C,IAAK,IAAInF,EAAI,EAAG7S,EAAMmkD,EAAYrlD,OAAQ+T,EAAI7S,IAAO6S,EACnD,QAA4B8C,IAAxByW,EAAI+3B,EAAYtxC,IAAmB,CACrCmF,EAAUoU,EACV,MAGJ,GAAIpU,EACF,MAGJ23B,EAASyU,EAAUvkD,KAAKusB,GAAOujB,EAASvjB,EACxC,MACF,QACE,GAAIA,aAAezuB,OAAkC,oBAAjB4mD,cAAgCn4B,aAAem4B,aAAe,CAChGzjD,EAAMsjD,EAAUvkD,KAAKusB,GAAOtrB,EAAMsrB,EAClC,MAEFg4B,EAAUvkD,KAAKusB,IAIjBg4B,EAAUtlD,OAAS,KAErB6wC,EAASzpB,EAAMypB,IACRyU,UAAYA,GAGrB,IAAIlhD,EAAO,CACToO,QAASA,EACTxQ,IAAKA,EACL6uC,OAAQA,EACRkM,UAAWx8B,IACXhf,SAAUA,EACVusC,SAAUA,EACV1F,WAlEe,GAmEfsI,KAAM6T,KAaR,OAGF,SAA2BngD,EAAMysC,GAC3BA,QAA2Bh6B,IAAjBg6B,EAAOle,QACnBvuB,EAAKuuB,MAAQke,EAAOle,aACbke,EAAOle,OAEZke,QAAgCh6B,IAAtBg6B,EAAO6U,aACnBthD,EAAKshD,WAAa7U,EAAO6U,kBAClB7U,EAAO6U,YApBhBC,CAAkBvhD,EAAMysC,GAEpBwU,GAAensC,IACjB9U,EAAK8U,QAAUA,GAEbq9B,IACFnyC,EAAKmyC,cAAgBA,GAEvBnyC,EAAKkmC,cAAgBnnC,EACrBiB,EAAKgkC,WAAWwd,mBAAqBL,EAC9BnhD,GAwNPm5C,gBA1MF,SAAyBn5C,EAAMyvC,GAC7B,IAAIhD,EAASzsC,EAAKN,KAAK+sC,QAAU,GAC7BgV,GAAe,EAEnB,IACE,IAAK,IAAIplD,EAAI,EAAGA,EAAIozC,EAAO7zC,SAAUS,EAC/BozC,EAAOpzC,GAAGK,eAAe,oBAC3B+vC,EAASzpB,EAAMypB,EAAQgD,EAAOpzC,GAAGqlD,gBACjCD,GAAe,GAKfA,IACFzhD,EAAKN,KAAK+sC,OAASA,GAErB,MAAOvc,GACPlwB,EAAKgkC,WAAW2d,cAAgB,WAAazxB,EAAE9hB,UA0LjD8mC,qBAzKF,SAA8Bn2C,GAI5B,IAHA,IAAI8uB,EAAM7G,EAAUuH,EAChBrF,EAEK7sB,EAAI,EAAGmM,EAAIzJ,EAAKnD,OAAQS,EAAImM,IAAKnM,EAIxC,OADUijD,EAFVp2B,EAAMnqB,EAAK1C,KAIT,IAAK,UACEwxB,GAAQgzB,EAAcF,EAAiBz3B,GAC1C2E,EAAO3E,GACGqF,GAASsyB,EAAcD,EAAkB13B,KACnDqF,EAAQrF,GAEV,MACF,IAAK,SACHlC,EAAWkC,EAYjB,MANY,CACV2E,KAAMA,GAAQ,SACd7G,SAAUA,GAAY,GACtBuH,MAAOA,IAgJT8rB,SApDF,SAAkB/tB,EAAakqB,GAC7B,GAAKlqB,GAAgBA,EAAqB,UAAmB,IAAdkqB,EAA/C,CAGA,IAAIoL,EAAQt1B,EAAqB,QACjC,GAAKkqB,EAGH,IACE,IAAIqL,EACJ,IAA4B,IAAxBD,EAAMj8C,QAAQ,MAChBk8C,EAAQD,EAAMpnC,MAAM,MACd9Y,MACNmgD,EAAMllD,KAAK,KACXilD,EAAQC,EAAMr2C,KAAK,UACd,IAA4B,IAAxBo2C,EAAMj8C,QAAQ,MAEvB,IADAk8C,EAAQD,EAAMpnC,MAAM,MACV5e,OAAS,EAAG,CACpB,IAAIkmD,EAAYD,EAAMz8C,MAAM,EAAG,GAC3B28C,EAAWD,EAAU,GAAGn8C,QAAQ,MAClB,IAAdo8C,IACFD,EAAU,GAAKA,EAAU,GAAGvtC,UAAU,EAAGwtC,IAG3CH,EAAQE,EAAU3iD,OADH,4BACoBqM,KAAK,WAG1Co2C,EAAQ,KAEV,MAAO1xB,GACP0xB,EAAQ,UAxBVA,EAAQ,KA2BVt1B,EAAqB,QAAIs1B,IAoBzBI,mBAxFF,SAA4BjjD,GAC1B,IAAI1C,EAAGS,EAAKosB,EACRjtB,EAAS,GACb,IAAKI,EAAI,EAAGS,EAAMiC,EAAKnD,OAAQS,EAAIS,IAAOT,EAAG,CAE3C,OAAQijD,EADRp2B,EAAMnqB,EAAK1C,KAET,IAAK,UAEH6sB,GADAA,EAAMxH,EAAUwH,IACN/nB,OAAS+nB,EAAIhsB,OACftB,OAAS,MACfstB,EAAMA,EAAI3Z,OAAO,EAAG,KAAO,OAE7B,MACF,IAAK,OACH2Z,EAAM,OACN,MACF,IAAK,YACHA,EAAM,YACN,MACF,IAAK,SACHA,EAAMA,EAAI9tB,WAGda,EAAOU,KAAKusB,GAEd,OAAOjtB,EAAOuP,KAAK,MAgEnBy2C,UAraF,SAAmBC,EAAG7sC,GAWpB,KAVAA,EAAWA,GAAY6sC,EAAE7sC,WACR6sC,EAAEjtC,OACF,KAAXitC,EAAEjtC,KACJI,EAAW,QACS,MAAX6sC,EAAEjtC,OACXI,EAAW,WAGfA,EAAWA,GAAY,UAElB6sC,EAAE9sC,SACL,OAAO,KAET,IAAInZ,EAASoZ,EAAW,KAAO6sC,EAAE9sC,SAOjC,OANI8sC,EAAEjtC,OACJhZ,EAASA,EAAS,IAAMimD,EAAEjtC,MAExBitC,EAAEnxC,OACJ9U,GAAkBimD,EAAEnxC,MAEf9U,GAiZPyU,IArIF,SAAalV,EAAKuV,GAChB,GAAKvV,EAAL,CAGA,IAAIgB,EAAOuU,EAAKyJ,MAAM,KAClBve,EAAST,EACb,IACE,IAAK,IAAIa,EAAI,EAAGS,EAAMN,EAAKZ,OAAQS,EAAIS,IAAOT,EAC5CJ,EAASA,EAAOO,EAAKH,IAEvB,MAAO6zB,GACPj0B,OAASwW,EAEX,OAAOxW,IAyHPi2C,cApBF,SAAuBrO,EAASse,EAAO5iD,GACrC,IAAItD,EAAS+mB,EAAM6gB,EAASse,EAAO5iD,GACnC,OAAK4iD,GAASA,EAAMC,sBAGhBD,EAAMpV,cACR9wC,EAAO8wC,aAAelJ,EAAQkJ,aAAe,IAAI5tC,OAAOgjD,EAAMpV,cAHvD9wC,GAkBTomD,QApiBF,SAAiBnyB,GAEf,OAAO4S,EAAO5S,EAAG,UAAY4S,EAAO5S,EAAG,cAmiBvCiU,WAAYA,EACZgW,WAjjBF,SAAoB99C,GAClB,IAAIwxB,EAAOyxB,EAASjjD,GACpB,MAAiB,WAATwxB,GAA8B,UAATA,GAgjB7BmyB,iBAAkBA,EAClBld,OAAQA,EACR0Y,SAAUA,EACVF,SA1kBF,SAAkBp+C,GAChB,MAAwB,iBAAVA,GAAsBA,aAAiBoO,QA0kBrDkxC,UA1WF,SAAmBzoB,GACjB,IAAI72B,EAAOiE,EACX,IACEjE,EAAQ6iD,EAAY99B,MAAM8R,GAC1B,MAAO7D,GACP/uB,EAAQ+uB,EAEV,MAAO,CAAC/uB,MAAOA,EAAOjE,MAAOA,IAoW7BuuB,OAxhBW,CACXoP,MAAO,EACPuG,KAAM,EACN2J,QAAS,EACT5pC,MAAO,EACP6pC,SAAU,GAohBVsX,uBAlWF,SACEl0C,EACA+L,EACA00B,EACAC,EACA3tC,EACAohD,EACAC,EACAC,GAEA,IAAIl8B,EAAW,CACbpM,IAAKA,GAAO,GACZkM,KAAMwoB,EACNJ,OAAQK,GAEVvoB,EAAS9P,KAAOgsC,EAAYC,kBAAkBn8B,EAASpM,IAAKoM,EAASF,MACrEE,EAASwc,QAAU0f,EAAYE,cAAcp8B,EAASpM,IAAKoM,EAASF,MACpE,IAAIu8B,EAAOvkC,UAAYA,SAASkI,UAAYlI,SAASkI,SAASq8B,KAC1DC,EAAY/nD,QAAUA,OAAOyjB,WAAazjB,OAAOyjB,UAAUE,UAC/D,MAAO,CACL,KAAQ8jC,EACR,QAAWphD,EAAQmK,OAAOnK,GAAUiN,GAAWo0C,EAC/C,IAAOI,EACP,MAAS,CAACr8B,GACV,UAAas8B,IA2Uf7/B,MAAOA,EACP7G,IAAKA,EACL2wB,OA3iBF,WACE,MAAO,YA2iBPiT,YAAaA,EACb+C,YAthBF,SAAqB3oC,GACnB,IAAI4oC,EA0CN,SAAkBl4C,GAChB,GAAKi4B,EAAOj4B,EAAK,UAAjB,CAQA,IAJA,IAAIm4C,EAAI5C,EACJlrB,EAAI8tB,EAAE9K,OAAO8K,EAAE3C,WAAa,SAAW,SAAS92B,KAAK1e,GACrDo4C,EAAM,GAED5mD,EAAI,EAAGmM,EAAIw6C,EAAErlD,IAAI/B,OAAQS,EAAImM,IAAKnM,EACzC4mD,EAAID,EAAErlD,IAAItB,IAAM64B,EAAE74B,IAAM,GAU1B,OAPA4mD,EAAID,EAAEvjD,EAAEwB,MAAQ,GAChBgiD,EAAID,EAAErlD,IAAI,KAAKmS,QAAQkzC,EAAEvjD,EAAEy4C,QAAQ,SAAUgL,EAAIC,EAAIC,GAC/CD,IACFF,EAAID,EAAEvjD,EAAEwB,MAAMkiD,GAAMC,MAIjBH,GA9DYI,CAASlpC,GAC5B,OAAK4oC,GAKuB,KAAxBA,EAAaO,SACfP,EAAa9yC,OAAS8yC,EAAa9yC,OAAOH,QAAQ,IAAK,KAGzDqK,EAAM4oC,EAAa9yC,OAAOH,QAAQ,IAAMizC,EAAap8B,MAAO,KARnD,aAohBTxE,IAtIF,SAAa3mB,EAAKuV,EAAM7T,GACtB,GAAK1B,EAAL,CAGA,IAAIgB,EAAOuU,EAAKyJ,MAAM,KAClB1d,EAAMN,EAAKZ,OACf,KAAIkB,EAAM,GAGV,GAAY,IAARA,EAIJ,IAGE,IAFA,IAAIymD,EAAO/nD,EAAIgB,EAAK,KAAO,GACvBgnD,EAAcD,EACTlnD,EAAI,EAAGA,EAAIS,EAAM,IAAKT,EAC7BknD,EAAK/mD,EAAKH,IAAMknD,EAAK/mD,EAAKH,KAAO,GACjCknD,EAAOA,EAAK/mD,EAAKH,IAEnBknD,EAAK/mD,EAAKM,EAAI,IAAMI,EACpB1B,EAAIgB,EAAK,IAAMgnD,EACf,MAAOtzB,GACP,YAbA10B,EAAIgB,EAAK,IAAMU,IA6HjBi2C,UA7rBF,SAAmBnB,GACb7N,EAAW4b,EAAYr+B,YAAcyiB,EAAW4b,EAAY99B,SAmHxD6gB,EA/GMrhB,KA+GI,eA7GbuwB,GACGgO,EAAiBv+B,KAAKC,aACxBq+B,EAAYr+B,UAAYD,KAAKC,WAE3Bs+B,EAAiBv+B,KAAKQ,SACxB89B,EAAY99B,MAAQR,KAAKQ,SAGvBkiB,EAAW1iB,KAAKC,aAClBq+B,EAAYr+B,UAAYD,KAAKC,WAE3ByiB,EAAW1iB,KAAKQ,SAClB89B,EAAY99B,MAAQR,KAAKQ,SAI1BkiB,EAAW4b,EAAYr+B,YAAeyiB,EAAW4b,EAAY99B,QAChE+vB,GAAgBA,EAAa+N,KAsqB/Br+B,UAAWA,EACXk+B,YAhZF,SAAqB9oC,GAanB,IAHA,IAAI3a,EAAQ,EACRP,EAASkb,EAAOlb,OAEXS,EAAI,EAAGA,EAAIT,EAAQS,IAAK,CAC/B,IAAIq1B,EAAO5a,EAAOzL,WAAWhP,GACzBq1B,EAAO,IACTv1B,GAAgB,EACPu1B,EAAO,KAChBv1B,GAAgB,EACPu1B,EAAO,QAChBv1B,GAAgB,GAIpB,OAAOA,GAyXPmjD,SAAUA,EACVa,MAAOA,I,eCpsBT,IAAIx+C,EAAI,EAAQ,KAqChByH,EAAOC,QAnCP,SAAkB7N,EAAKib,EAAMk3B,GAC3B,IAAIlxC,EAAGL,EAAGC,EACNonD,EAAQ9hD,EAAEmhC,OAAOtnC,EAAK,UACtBD,EAAUoG,EAAEmhC,OAAOtnC,EAAK,SACxBgB,EAAO,GAEX,GAAIinD,IAAgC,IAAvB9V,EAAKhoC,QAAQnK,GACxB,OAAOA,EAIT,GAFAmyC,EAAKhxC,KAAKnB,GAENioD,EACF,IAAKhnD,KAAKjB,EACJN,OAAOC,UAAUuB,eAAejB,KAAKD,EAAKiB,IAC5CD,EAAKG,KAAKF,QAGT,GAAIlB,EACT,IAAKc,EAAI,EAAGA,EAAIb,EAAII,SAAUS,EAC5BG,EAAKG,KAAKN,GAId,IAAIJ,EAASwnD,EAAQ,GAAK,GACtBC,GAAO,EACX,IAAKrnD,EAAI,EAAGA,EAAIG,EAAKZ,SAAUS,EAE7BD,EAAIZ,EADJiB,EAAID,EAAKH,IAETJ,EAAOQ,GAAKga,EAAKha,EAAGL,EAAGuxC,GACvB+V,EAAOA,GAAQznD,EAAOQ,KAAOjB,EAAIiB,GAGnC,OAAuB,GAAfD,EAAKZ,QAAgB8nD,EAAiBloD,EAATS,I,SCwtBvCmN,EAAOC,QAnmBe,SAASoY,GAE7B,IAqCIkiC,EACAC,EACAC,EACAC,EAgOIp6C,EAaA4X,EACAyiC,EACApmD,EACAT,EACA8mD,EAUAltC,EAsBAY,EAcA+7B,EAnUJwQ,EAAe,kIAGnB,SAAShP,EAAEzmC,GAET,OAAOA,EAAI,GACP,IAAMA,EACNA,EAGN,SAAS01C,IACP,OAAOvpD,KAAKwpD,UA4Bd,SAASC,EAAMttC,GAQb,OADAmtC,EAAaI,UAAY,EAClBJ,EAAa/8C,KAAK4P,GACrB,IAAOA,EAAOhH,QAAQm0C,GAAc,SAAU1lD,GAC9C,IAAI+Q,EAAIu0C,EAAKtlD,GACb,MAAoB,iBAAN+Q,EACVA,EACA,OAAS,OAAS/Q,EAAE8M,WAAW,GAAGjQ,SAAS,KAAKgK,OAAO,MACxD,IACL,IAAO0R,EAAS,IAIpB,SAASjM,EAAIlN,EAAK2mD,GAIhB,IAAIjoD,EACAI,EACAL,EACAR,EAEA2oD,EADAC,EAAOb,EAEPzmD,EAAQonD,EAAO3mD,GAkBnB,OAdIT,GAA0B,iBAAVA,GACQ,mBAAjBA,EAAMunD,SACfvnD,EAAQA,EAAMunD,OAAO9mD,IAMJ,mBAARmmD,IACT5mD,EAAQ4mD,EAAIroD,KAAK6oD,EAAQ3mD,EAAKT,WAKjBA,GACb,IAAK,SACH,OAAOknD,EAAMlnD,GAEf,IAAK,SAIH,OAAOwb,SAASxb,GACZoO,OAAOpO,GACP,OAEN,IAAK,UACL,IAAK,OAMH,OAAOoO,OAAOpO,GAKhB,IAAK,SAKH,IAAKA,EACH,MAAO,OAUT,GALAymD,GAAOC,EACPW,EAAU,GAIqC,mBAA3CrpD,OAAOC,UAAUC,SAASV,MAAMwC,GAA6B,CAM/D,IADAtB,EAASsB,EAAMtB,OACVS,EAAI,EAAGA,EAAIT,EAAQS,GAAK,EAC3BkoD,EAAQloD,GAAKwO,EAAIxO,EAAGa,IAAU,OAYhC,OANAd,EAAuB,IAAnBmoD,EAAQ3oD,OACR,KACA+nD,EACA,MAAQA,EAAMY,EAAQ/4C,KAAK,MAAQm4C,GAAO,KAAOa,EAAO,IACxD,IAAMD,EAAQ/4C,KAAK,KAAO,IAC9Bm4C,EAAMa,EACCpoD,EAKT,GAAI0nD,GAAsB,iBAARA,EAEhB,IADAloD,EAASkoD,EAAIloD,OACRS,EAAI,EAAGA,EAAIT,EAAQS,GAAK,EACL,iBAAXynD,EAAIznD,KAEbD,EAAIyO,EADJpO,EAAIqnD,EAAIznD,GACGa,KAETqnD,EAAQ5nD,KAAKynD,EAAM3nD,IACbknD,EACE,KACA,KACEvnD,QAQhB,IAAKK,KAAKS,EACJhC,OAAOC,UAAUuB,eAAejB,KAAKyB,EAAOT,KAC9CL,EAAIyO,EAAIpO,EAAGS,KAETqnD,EAAQ5nD,KAAKynD,EAAM3nD,IACbknD,EACE,KACA,KACEvnD,GAelB,OANAA,EAAuB,IAAnBmoD,EAAQ3oD,OACR,KACA+nD,EACA,MAAQA,EAAMY,EAAQ/4C,KAAK,MAAQm4C,GAAO,KAAOa,EAAO,IACxD,IAAMD,EAAQ/4C,KAAK,KAAO,IAC9Bm4C,EAAMa,EACCpoD,GAlLwB,mBAA1Byf,KAAK1gB,UAAUspD,SAExB5oC,KAAK1gB,UAAUspD,OAAS,WAEtB,OAAO/rC,SAAS/d,KAAKwpD,WACjBxpD,KAAK+pD,iBAAmB,IAC1BzP,EAAEt6C,KAAKgqD,cAAgB,GAAK,IAC5B1P,EAAEt6C,KAAKiqD,cAAgB,IACvB3P,EAAEt6C,KAAKkqD,eAAiB,IACxB5P,EAAEt6C,KAAKmqD,iBAAmB,IAC1B7P,EAAEt6C,KAAKoqD,iBAAmB,IACxB,MAGNC,QAAQ7pD,UAAUspD,OAASP,EAC3Bt1C,OAAOzT,UAAUspD,OAASP,EAC1B54C,OAAOnQ,UAAUspD,OAASP,GAwKE,mBAAnBziC,EAAKC,YACdmiC,EAAO,CACL,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,MACNoB,IAAM,MACN,KAAM,QAERxjC,EAAKC,UAAY,SAAUxkB,EAAOkkB,EAAUjG,GAQ1C,IAAI9e,EAOJ,GANAsnD,EAAM,GACNC,EAAS,GAKY,iBAAVzoC,EACT,IAAK9e,EAAI,EAAGA,EAAI8e,EAAO9e,GAAK,EAC1BunD,GAAU,QAKc,iBAAVzoC,IAChByoC,EAASzoC,GAOX,GADA2oC,EAAM1iC,EACFA,GAAgC,mBAAbA,IACE,iBAAbA,GACoB,iBAApBA,EAASxlB,QACnB,MAAM,IAAInB,MAAM,kBAMlB,OAAOoQ,EAAI,GAAI,CAAC,GAAI3N,MAOE,mBAAfukB,EAAKQ,QACdR,EAAKQ,OAsBC+hC,EAAU,CACZ,KAAM,KACNiB,IAAM,IACN,IAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,MAEHnuC,EAAS,CACXtV,GAAI,WACFkI,EAAQ,MAEVw7C,UAAW,WACTvnD,EAAMT,EACNwM,EAAQ,SAEVy7C,KAAM,WACJxnD,EAAMT,EACNwM,EAAQ,SAEV07C,OAAQ,WACN17C,EAAQ,UAEV27C,YAAa,WACX37C,EAAQ,UAEV47C,OAAQ,WACN57C,EAAQ,WAGRgO,EAAS,CACXlW,GAAI,WACFkI,EAAQ,MAEV07C,OAAQ,WACN17C,EAAQ,UAEV27C,YAAa,WACX37C,EAAQ,UAEV47C,OAAQ,WACN57C,EAAQ,WAGR+pC,EAAS,CAOX,IAAK,CACHjyC,GAAI,WACF8f,EAAM3kB,KAAK,CAAC+M,MAAO,OACnBq6C,EAAY,GACZr6C,EAAQ,aAEV07C,OAAQ,WACN9jC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,SAAU/L,IAAKA,IACxDomD,EAAY,GACZr6C,EAAQ,aAEV27C,YAAa,WACX/jC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,WACzCq6C,EAAY,GACZr6C,EAAQ,aAEV47C,OAAQ,WACNhkC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,WACzCq6C,EAAY,GACZr6C,EAAQ,cAGZ,IAAK,CACHw7C,UAAW,WACT,IAAIxjD,EAAM4f,EAAM5f,MAChBxE,EAAQ6mD,EACRA,EAAYriD,EAAIqiD,UAChBpmD,EAAM+D,EAAI/D,IACV+L,EAAQhI,EAAIgI,OAEd67C,OAAQ,WACN,IAAI7jD,EAAM4f,EAAM5f,MAChBqiD,EAAUpmD,GAAOT,EACjBA,EAAQ6mD,EACRA,EAAYriD,EAAIqiD,UAChBpmD,EAAM+D,EAAI/D,IACV+L,EAAQhI,EAAIgI,QAGhB,IAAK,CACHlI,GAAI,WACF8f,EAAM3kB,KAAK,CAAC+M,MAAO,OACnBq6C,EAAY,GACZr6C,EAAQ,eAEV07C,OAAQ,WACN9jC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,SAAU/L,IAAKA,IACxDomD,EAAY,GACZr6C,EAAQ,eAEV27C,YAAa,WACX/jC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,WACzCq6C,EAAY,GACZr6C,EAAQ,eAEV47C,OAAQ,WACNhkC,EAAM3kB,KAAK,CAAConD,UAAWA,EAAWr6C,MAAO,WACzCq6C,EAAY,GACZr6C,EAAQ,gBAGZ,IAAK,CACH27C,YAAa,WACX,IAAI3jD,EAAM4f,EAAM5f,MAChBxE,EAAQ6mD,EACRA,EAAYriD,EAAIqiD,UAChBpmD,EAAM+D,EAAI/D,IACV+L,EAAQhI,EAAIgI,OAEd87C,OAAQ,WACN,IAAI9jD,EAAM4f,EAAM5f,MAChBqiD,EAAUpnD,KAAKO,GACfA,EAAQ6mD,EACRA,EAAYriD,EAAIqiD,UAChBpmD,EAAM+D,EAAI/D,IACV+L,EAAQhI,EAAIgI,QAGhB,IAAK,CACH+7C,MAAO,WACL,GAAIvqD,OAAOwB,eAAejB,KAAKsoD,EAAWpmD,GACxC,MAAM,IAAI+nD,YAAY,kBAAoB/nD,EAAM,KAElD+L,EAAQ,WAGZ,IAAK,CACH67C,OAAQ,WACNxB,EAAUpmD,GAAOT,EACjBwM,EAAQ,QAEV87C,OAAQ,WACNzB,EAAUpnD,KAAKO,GACfwM,EAAQ,WAGZ,KAAQ,CACNlI,GAAI,WACFtE,GAAQ,EACRwM,EAAQ,MAEV07C,OAAQ,WACNloD,GAAQ,EACRwM,EAAQ,UAEV27C,YAAa,WACXnoD,GAAQ,EACRwM,EAAQ,UAEV47C,OAAQ,WACNpoD,GAAQ,EACRwM,EAAQ,WAGZ,MAAS,CACPlI,GAAI,WACFtE,GAAQ,EACRwM,EAAQ,MAEV07C,OAAQ,WACNloD,GAAQ,EACRwM,EAAQ,UAEV27C,YAAa,WACXnoD,GAAQ,EACRwM,EAAQ,UAEV47C,OAAQ,WACNpoD,GAAQ,EACRwM,EAAQ,WAGZ,KAAQ,CACNlI,GAAI,WACFtE,EAAQ,KACRwM,EAAQ,MAEV07C,OAAQ,WACNloD,EAAQ,KACRwM,EAAQ,UAEV27C,YAAa,WACXnoD,EAAQ,KACRwM,EAAQ,UAEV47C,OAAQ,WACNpoD,EAAQ,KACRwM,EAAQ,YAgBP,SAAUuG,EAAQ01C,GAKvB,IAAI1pD,EAhBkBiqB,EAiBlB0/B,EAAK,iJAITl8C,EAAQ,KAKR4X,EAAQ,GAIR,IAIE,KACErlB,EAAS2pD,EAAGr8B,KAAKtZ,IAWbhU,EAAO,GAITw3C,EAAOx3C,EAAO,IAAIyN,KAETzN,EAAO,IAKhBiB,GAASjB,EAAO,GAChByb,EAAOhO,OA1DSwc,EAgEOjqB,EAAO,GAA9BiB,EA5DCgpB,EAAKpW,QAAQ,yBAAyB,SAAU2qC,EAAQj8C,EAAG8Q,GAChE,OAAO9Q,EACH8M,OAAOC,aAAa9E,SAASjI,EAAG,KAChCwlD,EAAQ10C,MA0DRwH,EAAOpN,MAOTuG,EAASA,EAAO7K,MAAMnJ,EAAO,GAAGL,QAMlC,MAAOs0B,GACPxmB,EAAQwmB,EAOV,GAAc,OAAVxmB,GAAmB,kBAAkBxC,KAAK+I,GAC5C,MAAOvG,aAAiBg8C,YACpBh8C,EACA,IAAIg8C,YAAY,QAStB,MAA2B,mBAAZC,EACV,SAASE,EAAKvB,EAAQ3mD,GACvB,IAAIlB,EACAL,EACA2zB,EAAMu0B,EAAO3mD,GACjB,GAAIoyB,GAAsB,iBAARA,EAChB,IAAKtzB,KAAKS,EACJhC,OAAOC,UAAUuB,eAAejB,KAAKs0B,EAAKtzB,UAElCgW,KADVrW,EAAIypD,EAAK91B,EAAKtzB,IAEZszB,EAAItzB,GAAKL,SAEF2zB,EAAItzB,IAKnB,OAAOkpD,EAAQlqD,KAAK6oD,EAAQ3mD,EAAKoyB,GAhBjC,CAiBA,CAAC,GAAI7yB,GAAQ,IACfA,O,eC7uBV,IAAIuO,EAAO,EAAQ,MACf+sB,EAAMt9B,OAAOC,UAAUuB,eACvBopD,EAA8B,oBAARC,IAQ1B,SAASC,IACPrrD,KAAKsrD,OAAS,GACdtrD,KAAKoiC,KAAO+oB,EAAe,IAAIC,IAAQ7qD,OAAOsR,OAAO,MAMvDw5C,EAASE,UAAY,SAA4BC,EAAQC,GAEvD,IADA,IAAIjkC,EAAM,IAAI6jC,EACL3pD,EAAI,EAAGS,EAAMqpD,EAAOvqD,OAAQS,EAAIS,EAAKT,IAC5C8lB,EAAIkkC,IAAIF,EAAO9pD,GAAI+pD,GAErB,OAAOjkC,GAST6jC,EAAS7qD,UAAUsH,KAAO,WACxB,OAAOqjD,EAAenrD,KAAKoiC,KAAKt6B,KAAOvH,OAAO+c,oBAAoBtd,KAAKoiC,MAAMnhC,QAQ/EoqD,EAAS7qD,UAAUkrD,IAAM,SAAsBC,EAAMF,GACnD,IAAIG,EAAOT,EAAeQ,EAAO76C,EAAK+6C,YAAYF,GAC9CG,EAAcX,EAAenrD,KAAK69B,IAAI8tB,GAAQ9tB,EAAI/8B,KAAKd,KAAKoiC,KAAMwpB,GAClEhwB,EAAM57B,KAAKsrD,OAAOrqD,OACjB6qD,IAAeL,GAClBzrD,KAAKsrD,OAAOtpD,KAAK2pD,GAEdG,IACCX,EACFnrD,KAAKoiC,KAAK5a,IAAImkC,EAAM/vB,GAEpB57B,KAAKoiC,KAAKwpB,GAAQhwB,IAUxByvB,EAAS7qD,UAAUq9B,IAAM,SAAsB8tB,GAC7C,GAAIR,EACF,OAAOnrD,KAAKoiC,KAAKvE,IAAI8tB,GAErB,IAAIC,EAAO96C,EAAK+6C,YAAYF,GAC5B,OAAO9tB,EAAI/8B,KAAKd,KAAKoiC,KAAMwpB,IAS/BP,EAAS7qD,UAAUwK,QAAU,SAA0B2gD,GACrD,GAAIR,EAAc,CAChB,IAAIvvB,EAAM57B,KAAKoiC,KAAKrsB,IAAI41C,GACxB,GAAI/vB,GAAO,EACP,OAAOA,MAEN,CACL,IAAIgwB,EAAO96C,EAAK+6C,YAAYF,GAC5B,GAAI9tB,EAAI/8B,KAAKd,KAAKoiC,KAAMwpB,GACtB,OAAO5rD,KAAKoiC,KAAKwpB,GAIrB,MAAM,IAAI9rD,MAAM,IAAM6rD,EAAO,yBAQ/BN,EAAS7qD,UAAUurD,GAAK,SAAqBC,GAC3C,GAAIA,GAAQ,GAAKA,EAAOhsD,KAAKsrD,OAAOrqD,OAClC,OAAOjB,KAAKsrD,OAAOU,GAErB,MAAM,IAAIlsD,MAAM,yBAA2BksD,IAQ7CX,EAAS7qD,UAAUyrD,QAAU,WAC3B,OAAOjsD,KAAKsrD,OAAO7gD,SAGrBiE,EAAQ,EAAW28C,G,eCnFnB,IAAIv2C,EAAS,EAAQ,MAsDrBpG,EAAQw9C,OAAS,SAA0BC,GACzC,IACIC,EADAC,EAAU,GAGVC,EA3BN,SAAqBH,GACnB,OAAOA,EAAS,EACO,IAAhBA,GAAW,GACE,GAAfA,GAAU,GAwBLI,CAAYJ,GAEtB,GACEC,EAzCgBI,GAyCRF,GACRA,KAhDiB,GAiDP,IAGRF,GAjDS,IAmDXC,GAAWv3C,EAAOo3C,OAAOE,SAClBE,EAAM,GAEf,OAAOD,GAOT39C,EAAQ+9C,OAAS,SAA0Bd,EAAMe,EAAQC,GACvD,IAGIC,EAAcR,EAvCGD,EAEjBU,EAkCAC,EAASnB,EAAK1qD,OACdK,EAAS,EACT0R,EAAQ,EAGZ,EAAG,CACD,GAAI05C,GAAUI,EACZ,MAAM,IAAIhtD,MAAM,8CAIlB,IAAe,KADfssD,EAAQt3C,EAAO23C,OAAOd,EAAKj7C,WAAWg8C,OAEpC,MAAM,IAAI5sD,MAAM,yBAA2B6rD,EAAK12C,OAAOy3C,EAAS,IAGlEE,KA7EW,GA6EOR,GAElB9qD,IADA8qD,GA3EgBI,KA4EYx5C,EAC5BA,GAnFiB,QAoFV45C,GAETD,EAAUpqD,OAvDNsqD,GAFiBV,EAyDW7qD,IAvDR,EADU,IAAP,EAAT6qD,IAGbU,EACDA,GAqDJF,EAAUI,KAAOL,I,aCnInB,IAAIM,EAAe,mEAAmEntC,MAAM,IAK5FnR,EAAQw9C,OAAS,SAAUnvC,GACzB,GAAI,GAAKA,GAAUA,EAASiwC,EAAa/rD,OACvC,OAAO+rD,EAAajwC,GAEtB,MAAM,IAAIunB,UAAU,6BAA+BvnB,IAOrDrO,EAAQ+9C,OAAS,SAAUhsC,GAiBzB,OAhBW,IAgBCA,GAAYA,GAfb,GAgBDA,EAjBC,GAGG,IAkBCA,GAAYA,GAjBb,IAkBJA,EAnBI,GASK,GANR,IAoBCA,GAAYA,GAnBb,GAoBDA,EArBC,GAOQ,GAJR,IAsBPA,EACK,GAtBG,IA0BRA,EACK,IAID,I,aC1CV,SAASwsC,EAAgBC,EAAMC,EAAOC,EAASC,EAAWC,EAAUC,GAUlE,IAAIngD,EAAMlH,KAAKiO,OAAOg5C,EAAQD,GAAQ,GAAKA,EACvCM,EAAMF,EAASF,EAASC,EAAUjgD,IAAM,GAC5C,OAAY,IAARogD,EAEKpgD,EAEAogD,EAAM,EAETL,EAAQ//C,EAAM,EAET6/C,EAAgB7/C,EAAK+/C,EAAOC,EAASC,EAAWC,EAAUC,GAK/DA,GAAS7+C,EAAQ++C,kBACZN,EAAQE,EAAUpsD,OAASksD,GAAS,EAEpC//C,EAKLA,EAAM8/C,EAAO,EAERD,EAAgBC,EAAM9/C,EAAKggD,EAASC,EAAWC,EAAUC,GAI9DA,GAAS7+C,EAAQ++C,kBACZrgD,EAEA8/C,EAAO,GAAK,EAAIA,EA1D7Bx+C,EAAQg/C,qBAAuB,EAC/Bh/C,EAAQ++C,kBAAoB,EAgF5B/+C,EAAQq4B,OAAS,SAAgBqmB,EAASC,EAAWC,EAAUC,GAC7D,GAAyB,IAArBF,EAAUpsD,OACZ,OAAQ,EAGV,IAAIG,EAAQ6rD,GAAiB,EAAGI,EAAUpsD,OAAQmsD,EAASC,EAC/BC,EAAUC,GAAS7+C,EAAQg/C,sBACvD,GAAItsD,EAAQ,EACV,OAAQ,EAMV,KAAOA,EAAQ,GAAK,GAC6C,IAA3DksD,EAASD,EAAUjsD,GAAQisD,EAAUjsD,EAAQ,IAAI,MAGnDA,EAGJ,OAAOA,I,eCtGT,IAAI0P,EAAO,EAAQ,MAqBnB,SAAS68C,IACP3tD,KAAKsrD,OAAS,GACdtrD,KAAK4tD,SAAU,EAEf5tD,KAAK6tD,MAAQ,CAACC,eAAgB,EAAGC,gBAAiB,GASpDJ,EAAYntD,UAAUwtD,gBACpB,SAA6BC,EAAWC,GACtCluD,KAAKsrD,OAAOhkD,QAAQ2mD,EAAWC,IAQnCP,EAAYntD,UAAUkrD,IAAM,SAAyByC,GAtCrD,IAAgCC,EAAUC,EAEpCC,EACAC,EACAC,EACAC,EALoCJ,EAuCDF,EArCnCG,GAF0BF,EAuCHpuD,KAAK6tD,OArCXC,cACjBS,EAAQF,EAASP,cACjBU,EAAUJ,EAASL,gBACnBU,EAAUJ,EAASN,gBAChBQ,EAAQD,GAASC,GAASD,GAASG,GAAWD,GAC9C19C,EAAK49C,oCAAoCN,EAAUC,IAAa,GAiCrEruD,KAAK6tD,MAAQM,EACbnuD,KAAKsrD,OAAOtpD,KAAKmsD,KAEjBnuD,KAAK4tD,SAAU,EACf5tD,KAAKsrD,OAAOtpD,KAAKmsD,KAarBR,EAAYntD,UAAUyrD,QAAU,WAK9B,OAJKjsD,KAAK4tD,UACR5tD,KAAKsrD,OAAO3nD,KAAKmN,EAAK49C,qCACtB1uD,KAAK4tD,SAAU,GAEV5tD,KAAKsrD,QAGd58C,EAAQ,EAAci/C,G,aCnDtB,SAASgB,EAAKC,EAAKlrD,EAAGa,GACpB,IAAIqkD,EAAOgG,EAAIlrD,GACfkrD,EAAIlrD,GAAKkrD,EAAIrqD,GACbqqD,EAAIrqD,GAAKqkD,EA2BX,SAASiG,EAAYD,EAAK5kD,EAAYmkB,EAAGjY,GAKvC,GAAIiY,EAAIjY,EAAG,CAYT,IACIxU,EAAIysB,EAAI,EAEZwgC,EAAKC,GApCiBE,EAiCY3gC,EAjCP4gC,EAiCU74C,EAhChChQ,KAAK+3C,MAAM6Q,EAAO5oD,KAAKkO,UAAY26C,EAAOD,KAmCzB54C,GAStB,IARA,IAAI84C,EAAQJ,EAAI14C,GAQPlB,EAAImZ,EAAGnZ,EAAIkB,EAAGlB,IACjBhL,EAAW4kD,EAAI55C,GAAIg6C,IAAU,GAE/BL,EAAKC,EADLltD,GAAK,EACQsT,GAIjB25C,EAAKC,EAAKltD,EAAI,EAAGsT,GACjB,IAAIlQ,EAAIpD,EAAI,EAIZmtD,EAAYD,EAAK5kD,EAAYmkB,EAAGrpB,EAAI,GACpC+pD,EAAYD,EAAK5kD,EAAYlF,EAAI,EAAGoR,GA1DxC,IAA0B44C,EAAKC,EAsE/BrgD,EAAQ,EAAY,SAAUkgD,EAAK5kD,GACjC6kD,EAAYD,EAAK5kD,EAAY,EAAG4kD,EAAI3tD,OAAS,K,mBCzG3C6P,EAAO,EAAQ,MACfm+C,EAAe,EAAQ,MACvB5D,EAAW,UACX6D,EAAY,EAAQ,MACpBC,EAAY,UAEhB,SAASpT,EAAkBqT,GACzB,IAAIzS,EAAYyS,EAKhB,MAJ0B,iBAAfA,IACTzS,EAAY71B,KAAKQ,MAAM8nC,EAAWj6C,QAAQ,WAAY,MAG3B,MAAtBwnC,EAAU0S,SACb,IAAIC,EAAyB3S,GAC7B,IAAI4S,EAAuB5S,GAoQjC,SAAS4S,EAAuBH,GAC9B,IAAIzS,EAAYyS,EACU,iBAAfA,IACTzS,EAAY71B,KAAKQ,MAAM8nC,EAAWj6C,QAAQ,WAAY,MAGxD,IAAI8G,EAAUnL,EAAK0+C,OAAO7S,EAAW,WACjCS,EAAUtsC,EAAK0+C,OAAO7S,EAAW,WAGjC8S,EAAQ3+C,EAAK0+C,OAAO7S,EAAW,QAAS,IACxC+S,EAAa5+C,EAAK0+C,OAAO7S,EAAW,aAAc,MAClDQ,EAAiBrsC,EAAK0+C,OAAO7S,EAAW,iBAAkB,MAC1DgT,EAAW7+C,EAAK0+C,OAAO7S,EAAW,YAClCH,EAAO1rC,EAAK0+C,OAAO7S,EAAW,OAAQ,MAI1C,GAAI1gC,GAAWjc,KAAK4vD,SAClB,MAAM,IAAI9vD,MAAM,wBAA0Bmc,GAG5CmhC,EAAUA,EACP90C,IAAIqI,QAIJrI,IAAIwI,EAAK6H,WAKTrQ,KAAI,SAAUgN,GACb,OAAOo6C,GAAc5+C,EAAK++C,WAAWH,IAAe5+C,EAAK++C,WAAWv6C,GAChExE,EAAKg/C,SAASJ,EAAYp6C,GAC1BA,KAORtV,KAAK+vD,OAAS1E,EAASE,UAAUkE,EAAMnnD,IAAIqI,SAAS,GACpD3Q,KAAKgwD,SAAW3E,EAASE,UAAUnO,GAAS,GAE5Cp9C,KAAK0vD,WAAaA,EAClB1vD,KAAKm9C,eAAiBA,EACtBn9C,KAAKiwD,UAAYN,EACjB3vD,KAAKw8C,KAAOA,EA8Ed,SAAS0T,IACPlwD,KAAK8tD,cAAgB,EACrB9tD,KAAK+tD,gBAAkB,EACvB/tD,KAAKsV,OAAS,KACdtV,KAAKmwD,aAAe,KACpBnwD,KAAKowD,eAAiB,KACtBpwD,KAAKsG,KAAO,KAyZd,SAASgpD,EAAyBF,GAChC,IAAIzS,EAAYyS,EACU,iBAAfA,IACTzS,EAAY71B,KAAKQ,MAAM8nC,EAAWj6C,QAAQ,WAAY,MAGxD,IAAI8G,EAAUnL,EAAK0+C,OAAO7S,EAAW,WACjC0S,EAAWv+C,EAAK0+C,OAAO7S,EAAW,YAEtC,GAAI1gC,GAAWjc,KAAK4vD,SAClB,MAAM,IAAI9vD,MAAM,wBAA0Bmc,GAG5Cjc,KAAKgwD,SAAW,IAAI3E,EACpBrrD,KAAK+vD,OAAS,IAAI1E,EAElB,IAAIgF,EAAa,CACf3kC,MAAO,EACPooB,OAAQ,GAEV9zC,KAAKswD,UAAYjB,EAAS/mD,KAAI,SAAU8wB,GACtC,GAAIA,EAAE5Z,IAGJ,MAAM,IAAI1f,MAAM,sDAElB,IAAIywD,EAASz/C,EAAK0+C,OAAOp2B,EAAG,UACxBo3B,EAAa1/C,EAAK0+C,OAAOe,EAAQ,QACjCE,EAAe3/C,EAAK0+C,OAAOe,EAAQ,UAEvC,GAAIC,EAAaH,EAAW3kC,MACvB8kC,IAAeH,EAAW3kC,MAAQ+kC,EAAeJ,EAAWvc,OAC/D,MAAM,IAAIh0C,MAAM,wDAIlB,OAFAuwD,EAAaE,EAEN,CACLG,gBAAiB,CAGf5C,cAAe0C,EAAa,EAC5BzC,gBAAiB0C,EAAe,GAElCE,SAAU,IAAI5U,EAAkBjrC,EAAK0+C,OAAOp2B,EAAG,YAz0BrD2iB,EAAkB6U,cAAgB,SAASxB,GACzC,OAAOG,EAAuBqB,cAAcxB,IAM9CrT,EAAkBv7C,UAAUovD,SAAW,EAgCvC7T,EAAkBv7C,UAAUqwD,oBAAsB,KAClDtwD,OAAOqV,eAAemmC,EAAkBv7C,UAAW,qBAAsB,CACvEuV,IAAK,WAKH,OAJK/V,KAAK6wD,qBACR7wD,KAAK8wD,eAAe9wD,KAAKiwD,UAAWjwD,KAAK0vD,YAGpC1vD,KAAK6wD,uBAIhB9U,EAAkBv7C,UAAUuwD,mBAAqB,KACjDxwD,OAAOqV,eAAemmC,EAAkBv7C,UAAW,oBAAqB,CACtEuV,IAAK,WAKH,OAJK/V,KAAK+wD,oBACR/wD,KAAK8wD,eAAe9wD,KAAKiwD,UAAWjwD,KAAK0vD,YAGpC1vD,KAAK+wD,sBAIhBhV,EAAkBv7C,UAAUwwD,wBAC1B,SAAkDrF,EAAMvqD,GACtD,IAAIuT,EAAIg3C,EAAK12C,OAAO7T,GACpB,MAAa,MAANuT,GAAmB,MAANA,GAQxBonC,EAAkBv7C,UAAUswD,eAC1B,SAAyCnF,EAAMsF,GAC7C,MAAM,IAAInxD,MAAM,6CAGpBi8C,EAAkBmV,gBAAkB,EACpCnV,EAAkBoV,eAAiB,EAEnCpV,EAAkB2R,qBAAuB,EACzC3R,EAAkB0R,kBAAoB,EAkBtC1R,EAAkBv7C,UAAU4wD,YAC1B,SAAuCnD,EAAWoD,EAAUC,GAC1D,IAGI3B,EAHAvnB,EAAUipB,GAAY,KAI1B,OAHYC,GAAUvV,EAAkBmV,iBAIxC,KAAKnV,EAAkBmV,gBACrBvB,EAAW3vD,KAAKuxD,mBAChB,MACF,KAAKxV,EAAkBoV,eACrBxB,EAAW3vD,KAAKwxD,kBAChB,MACF,QACE,MAAM,IAAI1xD,MAAM,+BAGlB,IAAI4vD,EAAa1vD,KAAK0vD,WACtBC,EAASrnD,KAAI,SAAUmpD,GACrB,IAAIn8C,EAA4B,OAAnBm8C,EAAQn8C,OAAkB,KAAOtV,KAAKgwD,SAASjE,GAAG0F,EAAQn8C,QAIvE,OAHc,MAAVA,GAAgC,MAAdo6C,IACpBp6C,EAASxE,EAAKD,KAAK6+C,EAAYp6C,IAE1B,CACLA,OAAQA,EACRw4C,cAAe2D,EAAQ3D,cACvBC,gBAAiB0D,EAAQ1D,gBACzBoC,aAAcsB,EAAQtB,aACtBC,eAAgBqB,EAAQrB,eACxB9pD,KAAuB,OAAjBmrD,EAAQnrD,KAAgB,KAAOtG,KAAK+vD,OAAOhE,GAAG0F,EAAQnrD,SAE7DtG,MAAMsH,QAAQ2mD,EAAW7lB,IAsBhC2T,EAAkBv7C,UAAUkxD,yBAC1B,SAAoDC,GAClD,IAAIjmC,EAAO5a,EAAK0+C,OAAOmC,EAAO,QAM1BC,EAAS,CACXt8C,OAAQxE,EAAK0+C,OAAOmC,EAAO,UAC3BxB,aAAczkC,EACd0kC,eAAgBt/C,EAAK0+C,OAAOmC,EAAO,SAAU,IAM/C,GAHuB,MAAnB3xD,KAAK0vD,aACPkC,EAAOt8C,OAASxE,EAAKg/C,SAAS9vD,KAAK0vD,WAAYkC,EAAOt8C,UAEnDtV,KAAKgwD,SAASnyB,IAAI+zB,EAAOt8C,QAC5B,MAAO,GAETs8C,EAAOt8C,OAAStV,KAAKgwD,SAAShlD,QAAQ4mD,EAAOt8C,QAE7C,IAAIq6C,EAAW,GAEXvuD,EAAQpB,KAAK6xD,aAAaD,EACA5xD,KAAKwxD,kBACL,eACA,iBACA1gD,EAAKghD,2BACL7C,EAAaxB,mBAC3C,GAAIrsD,GAAS,EAAG,CACd,IAAIqwD,EAAUzxD,KAAKwxD,kBAAkBpwD,GAErC,QAAqB0W,IAAjB65C,EAAM7d,OAOR,IANA,IAAIqc,EAAesB,EAAQtB,aAMpBsB,GAAWA,EAAQtB,eAAiBA,GACzCR,EAAS3tD,KAAK,CACZ0pB,KAAM5a,EAAK0+C,OAAOiC,EAAS,gBAAiB,MAC5C3d,OAAQhjC,EAAK0+C,OAAOiC,EAAS,kBAAmB,MAChDM,WAAYjhD,EAAK0+C,OAAOiC,EAAS,sBAAuB,QAG1DA,EAAUzxD,KAAKwxD,oBAAoBpwD,QASrC,IANA,IAAIgvD,EAAiBqB,EAAQrB,eAMtBqB,GACAA,EAAQtB,eAAiBzkC,GACzB+lC,EAAQrB,gBAAkBA,GAC/BT,EAAS3tD,KAAK,CACZ0pB,KAAM5a,EAAK0+C,OAAOiC,EAAS,gBAAiB,MAC5C3d,OAAQhjC,EAAK0+C,OAAOiC,EAAS,kBAAmB,MAChDM,WAAYjhD,EAAK0+C,OAAOiC,EAAS,sBAAuB,QAG1DA,EAAUzxD,KAAKwxD,oBAAoBpwD,GAKzC,OAAOuuD,GAGXjhD,EAAQqtC,kBAAoBA,EAmF5BwT,EAAuB/uD,UAAYD,OAAOsR,OAAOkqC,EAAkBv7C,WACnE+uD,EAAuB/uD,UAAUmwD,SAAW5U,EAS5CwT,EAAuBqB,cACrB,SAAyCxB,GACvC,IAAI4C,EAAMzxD,OAAOsR,OAAO09C,EAAuB/uD,WAE3CivD,EAAQuC,EAAIjC,OAAS1E,EAASE,UAAU6D,EAAWW,OAAO9D,WAAW,GACrE7O,EAAU4U,EAAIhC,SAAW3E,EAASE,UAAU6D,EAAWY,SAAS/D,WAAW,GAC/E+F,EAAItC,WAAaN,EAAW6C,YAC5BD,EAAI7U,eAAiBiS,EAAW8C,wBAAwBF,EAAIhC,SAAS/D,UACb+F,EAAItC,YAC5DsC,EAAIxV,KAAO4S,EAAW+C,MAWtB,IAJA,IAAIC,EAAoBhD,EAAWa,UAAUhE,UAAUxhD,QACnD4nD,EAAwBL,EAAInB,oBAAsB,GAClDyB,EAAuBN,EAAIjB,mBAAqB,GAE3CrvD,EAAI,EAAGT,EAASmxD,EAAkBnxD,OAAQS,EAAIT,EAAQS,IAAK,CAClE,IAAI6wD,EAAaH,EAAkB1wD,GAC/B8wD,EAAc,IAAItC,EACtBsC,EAAY1E,cAAgByE,EAAWzE,cACvC0E,EAAYzE,gBAAkBwE,EAAWxE,gBAErCwE,EAAWj9C,SACbk9C,EAAYl9C,OAAS8nC,EAAQpyC,QAAQunD,EAAWj9C,QAChDk9C,EAAYrC,aAAeoC,EAAWpC,aACtCqC,EAAYpC,eAAiBmC,EAAWnC,eAEpCmC,EAAWjsD,OACbksD,EAAYlsD,KAAOmpD,EAAMzkD,QAAQunD,EAAWjsD,OAG9CgsD,EAAqBtwD,KAAKwwD,IAG5BH,EAAsBrwD,KAAKwwD,GAK7B,OAFArD,EAAU6C,EAAIjB,mBAAoBjgD,EAAKghD,4BAEhCE,GAMXzC,EAAuB/uD,UAAUovD,SAAW,EAK5CrvD,OAAOqV,eAAe25C,EAAuB/uD,UAAW,UAAW,CACjEuV,IAAK,WACH,OAAO/V,KAAKgwD,SAAS/D,UAAU3jD,KAAI,SAAU8wB,GAC3C,OAA0B,MAAnBp5B,KAAK0vD,WAAqB5+C,EAAKD,KAAK7Q,KAAK0vD,WAAYt2B,GAAKA,IAChEp5B,SAqBPuvD,EAAuB/uD,UAAUswD,eAC/B,SAAyCnF,EAAMsF,GAe7C,IAdA,IAYIQ,EAASvhD,EAAKuiD,EAAStlD,EAAK5K,EAZ5BurD,EAAgB,EAChB4E,EAA0B,EAC1BC,EAAuB,EACvBC,EAAyB,EACzBC,EAAiB,EACjBC,EAAe,EACf7xD,EAAS0qD,EAAK1qD,OACdG,EAAQ,EACR2xD,EAAiB,GACjBnK,EAAO,GACPoK,EAAmB,GACnBZ,EAAoB,GAGjBhxD,EAAQH,GACb,GAA2B,MAAvB0qD,EAAK12C,OAAO7T,GACd0sD,IACA1sD,IACAsxD,EAA0B,OAEvB,GAA2B,MAAvB/G,EAAK12C,OAAO7T,GACnBA,QAEG,CASH,KARAqwD,EAAU,IAAIvB,GACNpC,cAAgBA,EAOnB3gD,EAAM/L,EAAO+L,EAAMlM,IAClBjB,KAAKgxD,wBAAwBrF,EAAMx+C,GADTA,KAQhC,GADAslD,EAAUM,EAFV7iD,EAAMy7C,EAAKlhD,MAAMrJ,EAAO+L,IAItB/L,GAAS8O,EAAIjP,WACR,CAEL,IADAwxD,EAAU,GACHrxD,EAAQ+L,GACb+hD,EAAUzC,OAAOd,EAAMvqD,EAAOwnD,GAC9BrmD,EAAQqmD,EAAKrmD,MACbnB,EAAQwnD,EAAKmE,KACb0F,EAAQzwD,KAAKO,GAGf,GAAuB,IAAnBkwD,EAAQxxD,OACV,MAAM,IAAInB,MAAM,0CAGlB,GAAuB,IAAnB2yD,EAAQxxD,OACV,MAAM,IAAInB,MAAM,0CAGlBizD,EAAe7iD,GAAOuiD,EAIxBhB,EAAQ1D,gBAAkB2E,EAA0BD,EAAQ,GAC5DC,EAA0BjB,EAAQ1D,gBAE9B0E,EAAQxxD,OAAS,IAEnBwwD,EAAQn8C,OAASu9C,EAAiBJ,EAAQ,GAC1CI,GAAkBJ,EAAQ,GAG1BhB,EAAQtB,aAAewC,EAAuBF,EAAQ,GACtDE,EAAuBlB,EAAQtB,aAE/BsB,EAAQtB,cAAgB,EAGxBsB,EAAQrB,eAAiBwC,EAAyBH,EAAQ,GAC1DG,EAAyBnB,EAAQrB,eAE7BqC,EAAQxxD,OAAS,IAEnBwwD,EAAQnrD,KAAOwsD,EAAeL,EAAQ,GACtCK,GAAgBL,EAAQ,KAI5BL,EAAkBpwD,KAAKyvD,GACa,iBAAzBA,EAAQtB,cACjB6C,EAAiBhxD,KAAKyvD,GAK5BtC,EAAUiD,EAAmBthD,EAAKmiD,qCAClCjzD,KAAK6wD,oBAAsBuB,EAE3BjD,EAAU6D,EAAkBliD,EAAKghD,4BACjC9xD,KAAK+wD,mBAAqBiC,GAO9BzD,EAAuB/uD,UAAUqxD,aAC/B,SAAuCzE,EAAS8F,EAAWC,EACpBC,EAAaC,EAAa9F,GAM/D,GAAIH,EAAQ+F,IAAc,EACxB,MAAM,IAAI7uB,UAAU,gDACE8oB,EAAQ+F,IAEhC,GAAI/F,EAAQgG,GAAe,EACzB,MAAM,IAAI9uB,UAAU,kDACE8oB,EAAQgG,IAGhC,OAAOnE,EAAaloB,OAAOqmB,EAAS8F,EAAWG,EAAa9F,IAOhEgC,EAAuB/uD,UAAU8yD,mBAC/B,WACE,IAAK,IAAIlyD,EAAQ,EAAGA,EAAQpB,KAAKuxD,mBAAmBtwD,SAAUG,EAAO,CACnE,IAAIqwD,EAAUzxD,KAAKuxD,mBAAmBnwD,GAMtC,GAAIA,EAAQ,EAAIpB,KAAKuxD,mBAAmBtwD,OAAQ,CAC9C,IAAIsyD,EAAcvzD,KAAKuxD,mBAAmBnwD,EAAQ,GAElD,GAAIqwD,EAAQ3D,gBAAkByF,EAAYzF,cAAe,CACvD2D,EAAQ+B,oBAAsBD,EAAYxF,gBAAkB,EAC5D,UAKJ0D,EAAQ+B,oBAAsBjhD,MAwBpCg9C,EAAuB/uD,UAAU68C,oBAC/B,SAA+CsU,GAC7C,IAAIC,EAAS,CACX9D,cAAeh9C,EAAK0+C,OAAOmC,EAAO,QAClC5D,gBAAiBj9C,EAAK0+C,OAAOmC,EAAO,WAGlCvwD,EAAQpB,KAAK6xD,aACfD,EACA5xD,KAAKuxD,mBACL,gBACA,kBACAzgD,EAAKmiD,oCACLniD,EAAK0+C,OAAOmC,EAAO,OAAQ5V,EAAkB2R,uBAG/C,GAAItsD,GAAS,EAAG,CACd,IAAIqwD,EAAUzxD,KAAKuxD,mBAAmBnwD,GAEtC,GAAIqwD,EAAQ3D,gBAAkB8D,EAAO9D,cAAe,CAClD,IAAIx4C,EAASxE,EAAK0+C,OAAOiC,EAAS,SAAU,MAC7B,OAAXn8C,IACFA,EAAStV,KAAKgwD,SAASjE,GAAGz2C,GACH,MAAnBtV,KAAK0vD,aACPp6C,EAASxE,EAAKD,KAAK7Q,KAAK0vD,WAAYp6C,KAGxC,IAAIhP,EAAOwK,EAAK0+C,OAAOiC,EAAS,OAAQ,MAIxC,OAHa,OAATnrD,IACFA,EAAOtG,KAAK+vD,OAAOhE,GAAGzlD,IAEjB,CACLgP,OAAQA,EACRoW,KAAM5a,EAAK0+C,OAAOiC,EAAS,eAAgB,MAC3C3d,OAAQhjC,EAAK0+C,OAAOiC,EAAS,iBAAkB,MAC/CnrD,KAAMA,IAKZ,MAAO,CACLgP,OAAQ,KACRoW,KAAM,KACNooB,OAAQ,KACRxtC,KAAM,OAQZipD,EAAuB/uD,UAAUizD,wBAC/B,WACE,QAAKzzD,KAAKm9C,gBAGHn9C,KAAKm9C,eAAel8C,QAAUjB,KAAKgwD,SAASloD,SAChD9H,KAAKm9C,eAAevzC,MAAK,SAAU8pD,GAAM,OAAa,MAANA,MAQvDnE,EAAuB/uD,UAAUmzD,iBAC/B,SAA4CC,EAASC,GACnD,IAAK7zD,KAAKm9C,eACR,OAAO,KAOT,GAJuB,MAAnBn9C,KAAK0vD,aACPkE,EAAU9iD,EAAKg/C,SAAS9vD,KAAK0vD,WAAYkE,IAGvC5zD,KAAKgwD,SAASnyB,IAAI+1B,GACpB,OAAO5zD,KAAKm9C,eAAen9C,KAAKgwD,SAAShlD,QAAQ4oD,IAGnD,IAAIp0C,EACJ,GAAuB,MAAnBxf,KAAK0vD,aACDlwC,EAAM1O,EAAKgjD,SAAS9zD,KAAK0vD,aAAc,CAK7C,IAAIqE,EAAiBH,EAAQz+C,QAAQ,aAAc,IACnD,GAAkB,QAAdqK,EAAIw0C,QACDh0D,KAAKgwD,SAASnyB,IAAIk2B,GACvB,OAAO/zD,KAAKm9C,eAAen9C,KAAKgwD,SAAShlD,QAAQ+oD,IAGnD,KAAMv0C,EAAIpJ,MAAoB,KAAZoJ,EAAIpJ,OACfpW,KAAKgwD,SAASnyB,IAAI,IAAM+1B,GAC7B,OAAO5zD,KAAKm9C,eAAen9C,KAAKgwD,SAAShlD,QAAQ,IAAM4oD,IAQ3D,GAAIC,EACF,OAAO,KAGP,MAAM,IAAI/zD,MAAM,IAAM8zD,EAAU,+BAuBtCrE,EAAuB/uD,UAAUyzD,qBAC/B,SAAgDtC,GAC9C,IAAIr8C,EAASxE,EAAK0+C,OAAOmC,EAAO,UAIhC,GAHuB,MAAnB3xD,KAAK0vD,aACPp6C,EAASxE,EAAKg/C,SAAS9vD,KAAK0vD,WAAYp6C,KAErCtV,KAAKgwD,SAASnyB,IAAIvoB,GACrB,MAAO,CACLoW,KAAM,KACNooB,OAAQ,KACRie,WAAY,MAKhB,IAAIH,EAAS,CACXt8C,OAHFA,EAAStV,KAAKgwD,SAAShlD,QAAQsK,GAI7B66C,aAAcr/C,EAAK0+C,OAAOmC,EAAO,QACjCvB,eAAgBt/C,EAAK0+C,OAAOmC,EAAO,WAGjCvwD,EAAQpB,KAAK6xD,aACfD,EACA5xD,KAAKwxD,kBACL,eACA,iBACA1gD,EAAKghD,2BACLhhD,EAAK0+C,OAAOmC,EAAO,OAAQ5V,EAAkB2R,uBAG/C,GAAItsD,GAAS,EAAG,CACd,IAAIqwD,EAAUzxD,KAAKwxD,kBAAkBpwD,GAErC,GAAIqwD,EAAQn8C,SAAWs8C,EAAOt8C,OAC5B,MAAO,CACLoW,KAAM5a,EAAK0+C,OAAOiC,EAAS,gBAAiB,MAC5C3d,OAAQhjC,EAAK0+C,OAAOiC,EAAS,kBAAmB,MAChDM,WAAYjhD,EAAK0+C,OAAOiC,EAAS,sBAAuB,OAK9D,MAAO,CACL/lC,KAAM,KACNooB,OAAQ,KACRie,WAAY,OAmGlBzC,EAAyB9uD,UAAYD,OAAOsR,OAAOkqC,EAAkBv7C,WACrE8uD,EAAyB9uD,UAAUwT,YAAc+nC,EAKjDuT,EAAyB9uD,UAAUovD,SAAW,EAK9CrvD,OAAOqV,eAAe05C,EAAyB9uD,UAAW,UAAW,CACnEuV,IAAK,WAEH,IADA,IAAIqnC,EAAU,GACL17C,EAAI,EAAGA,EAAI1B,KAAKswD,UAAUrvD,OAAQS,IACzC,IAAK,IAAIsT,EAAI,EAAGA,EAAIhV,KAAKswD,UAAU5uD,GAAGivD,SAASvT,QAAQn8C,OAAQ+T,IAC7DooC,EAAQp7C,KAAKhC,KAAKswD,UAAU5uD,GAAGivD,SAASvT,QAAQpoC,IAGpD,OAAOooC,KAmBXkS,EAAyB9uD,UAAU68C,oBACjC,SAAsDsU,GACpD,IAAIC,EAAS,CACX9D,cAAeh9C,EAAK0+C,OAAOmC,EAAO,QAClC5D,gBAAiBj9C,EAAK0+C,OAAOmC,EAAO,WAKlCuC,EAAejF,EAAaloB,OAAO6qB,EAAQ5xD,KAAKswD,WAClD,SAASsB,EAAQuC,GAEf,OADUvC,EAAO9D,cAAgBqG,EAAQzD,gBAAgB5C,eAKjD8D,EAAO7D,gBACPoG,EAAQzD,gBAAgB3C,mBAEhCoG,EAAUn0D,KAAKswD,UAAU4D,GAE7B,OAAKC,EASEA,EAAQxD,SAAStT,oBAAoB,CAC1C3xB,KAAMkmC,EAAO9D,eACVqG,EAAQzD,gBAAgB5C,cAAgB,GAC3Cha,OAAQ8d,EAAO7D,iBACZoG,EAAQzD,gBAAgB5C,gBAAkB8D,EAAO9D,cAC/CqG,EAAQzD,gBAAgB3C,gBAAkB,EAC1C,GACLqG,KAAMzC,EAAMyC,OAfL,CACL9+C,OAAQ,KACRoW,KAAM,KACNooB,OAAQ,KACRxtC,KAAM,OAmBdgpD,EAAyB9uD,UAAUizD,wBACjC,WACE,OAAOzzD,KAAKswD,UAAUxmD,OAAM,SAAUsvB,GACpC,OAAOA,EAAEu3B,SAAS8C,8BASxBnE,EAAyB9uD,UAAUmzD,iBACjC,SAAmDC,EAASC,GAC1D,IAAK,IAAInyD,EAAI,EAAGA,EAAI1B,KAAKswD,UAAUrvD,OAAQS,IAAK,CAC9C,IAEIwlB,EAFUlnB,KAAKswD,UAAU5uD,GAEPivD,SAASgD,iBAAiBC,GAAS,GACzD,GAAI1sC,EACF,OAAOA,EAGX,GAAI2sC,EACF,OAAO,KAGP,MAAM,IAAI/zD,MAAM,IAAM8zD,EAAU,+BAkBtCtE,EAAyB9uD,UAAUyzD,qBACjC,SAAuDtC,GACrD,IAAK,IAAIjwD,EAAI,EAAGA,EAAI1B,KAAKswD,UAAUrvD,OAAQS,IAAK,CAC9C,IAAIyyD,EAAUn0D,KAAKswD,UAAU5uD,GAI7B,IAAwE,IAApEyyD,EAAQxD,SAASvT,QAAQpyC,QAAQ8F,EAAK0+C,OAAOmC,EAAO,WAAxD,CAGA,IAAI0C,EAAoBF,EAAQxD,SAASsD,qBAAqBtC,GAC9D,GAAI0C,EASF,MARU,CACR3oC,KAAM2oC,EAAkB3oC,MACrByoC,EAAQzD,gBAAgB5C,cAAgB,GAC3Cha,OAAQugB,EAAkBvgB,QACvBqgB,EAAQzD,gBAAgB5C,gBAAkBuG,EAAkB3oC,KAC1DyoC,EAAQzD,gBAAgB3C,gBAAkB,EAC1C,KAMX,MAAO,CACLriC,KAAM,KACNooB,OAAQ,OASdwb,EAAyB9uD,UAAUswD,eACjC,SAAgDnF,EAAMsF,GACpDjxD,KAAK6wD,oBAAsB,GAC3B7wD,KAAK+wD,mBAAqB,GAC1B,IAAK,IAAIrvD,EAAI,EAAGA,EAAI1B,KAAKswD,UAAUrvD,OAAQS,IAGzC,IAFA,IAAIyyD,EAAUn0D,KAAKswD,UAAU5uD,GACzB4yD,EAAkBH,EAAQxD,SAASY,mBAC9Bv8C,EAAI,EAAGA,EAAIs/C,EAAgBrzD,OAAQ+T,IAAK,CAC/C,IAAIy8C,EAAU6C,EAAgBt/C,GAE1BM,EAAS6+C,EAAQxD,SAASX,SAASjE,GAAG0F,EAAQn8C,QACd,OAAhC6+C,EAAQxD,SAASjB,aACnBp6C,EAASxE,EAAKD,KAAKsjD,EAAQxD,SAASjB,WAAYp6C,IAElDtV,KAAKgwD,SAAStE,IAAIp2C,GAClBA,EAAStV,KAAKgwD,SAAShlD,QAAQsK,GAE/B,IAAIhP,EAAO6tD,EAAQxD,SAASZ,OAAOhE,GAAG0F,EAAQnrD,MAC9CtG,KAAK+vD,OAAOrE,IAAIplD,GAChBA,EAAOtG,KAAK+vD,OAAO/kD,QAAQ1E,GAM3B,IAAIiuD,EAAkB,CACpBj/C,OAAQA,EACRw4C,cAAe2D,EAAQ3D,eACpBqG,EAAQzD,gBAAgB5C,cAAgB,GAC3CC,gBAAiB0D,EAAQ1D,iBACtBoG,EAAQzD,gBAAgB5C,gBAAkB2D,EAAQ3D,cACjDqG,EAAQzD,gBAAgB3C,gBAAkB,EAC1C,GACJoC,aAAcsB,EAAQtB,aACtBC,eAAgBqB,EAAQrB,eACxB9pD,KAAMA,GAGRtG,KAAK6wD,oBAAoB7uD,KAAKuyD,GACc,iBAAjCA,EAAgBpE,cACzBnwD,KAAK+wD,mBAAmB/uD,KAAKuyD,GAKnCpF,EAAUnvD,KAAK6wD,oBAAqB//C,EAAKmiD,qCACzC9D,EAAUnvD,KAAK+wD,mBAAoBjgD,EAAKghD,8B,eC/iC5C,IAAI5C,EAAY,EAAQ,MACpBp+C,EAAO,EAAQ,MACfu6C,EAAW,UACXsC,EAAc,UAUlB,SAAS6G,EAAmB7C,GACrBA,IACHA,EAAQ,IAEV3xD,KAAKmyD,MAAQrhD,EAAK0+C,OAAOmC,EAAO,OAAQ,MACxC3xD,KAAKiyD,YAAcnhD,EAAK0+C,OAAOmC,EAAO,aAAc,MACpD3xD,KAAKy0D,gBAAkB3jD,EAAK0+C,OAAOmC,EAAO,kBAAkB,GAC5D3xD,KAAKgwD,SAAW,IAAI3E,EACpBrrD,KAAK+vD,OAAS,IAAI1E,EAClBrrD,KAAKiwD,UAAY,IAAItC,EACrB3tD,KAAK00D,iBAAmB,KAG1BF,EAAmBh0D,UAAUovD,SAAW,EAOxC4E,EAAmB5D,cACjB,SAA0C+D,GACxC,IAAIjF,EAAaiF,EAAmBjF,WAChCkF,EAAY,IAAIJ,EAAmB,CACrChY,KAAMmY,EAAmBnY,KACzBkT,WAAYA,IAkCd,OAhCAiF,EAAmBvD,aAAY,SAAUK,GACvC,IAAIoD,EAAa,CACfC,UAAW,CACTppC,KAAM+lC,EAAQ3D,cACdha,OAAQ2d,EAAQ1D,kBAIE,MAAlB0D,EAAQn8C,SACVu/C,EAAWv/C,OAASm8C,EAAQn8C,OACV,MAAdo6C,IACFmF,EAAWv/C,OAASxE,EAAKg/C,SAASJ,EAAYmF,EAAWv/C,SAG3Du/C,EAAWE,SAAW,CACpBrpC,KAAM+lC,EAAQtB,aACdrc,OAAQ2d,EAAQrB,gBAGE,MAAhBqB,EAAQnrD,OACVuuD,EAAWvuD,KAAOmrD,EAAQnrD,OAI9BsuD,EAAUI,WAAWH,MAEvBF,EAAmBvX,QAAQ91C,SAAQ,SAAU2tD,GAC3C,IAAI/tC,EAAUytC,EAAmBhB,iBAAiBsB,GACnC,MAAX/tC,GACF0tC,EAAUM,iBAAiBD,EAAY/tC,MAGpC0tC,GAaXJ,EAAmBh0D,UAAUw0D,WAC3B,SAAuCrD,GACrC,IAAImD,EAAYhkD,EAAK0+C,OAAOmC,EAAO,aAC/BoD,EAAWjkD,EAAK0+C,OAAOmC,EAAO,WAAY,MAC1Cr8C,EAASxE,EAAK0+C,OAAOmC,EAAO,SAAU,MACtCrrD,EAAOwK,EAAK0+C,OAAOmC,EAAO,OAAQ,MAEjC3xD,KAAKy0D,iBACRz0D,KAAKm1D,iBAAiBL,EAAWC,EAAUz/C,EAAQhP,GAGvC,MAAVgP,IACFA,EAAS3E,OAAO2E,GACXtV,KAAKgwD,SAASnyB,IAAIvoB,IACrBtV,KAAKgwD,SAAStE,IAAIp2C,IAIV,MAARhP,IACFA,EAAOqK,OAAOrK,GACTtG,KAAK+vD,OAAOlyB,IAAIv3B,IACnBtG,KAAK+vD,OAAOrE,IAAIplD,IAIpBtG,KAAKiwD,UAAUvE,IAAI,CACjBoC,cAAegH,EAAUppC,KACzBqiC,gBAAiB+G,EAAUhhB,OAC3Bqc,aAA0B,MAAZ4E,GAAoBA,EAASrpC,KAC3C0kC,eAA4B,MAAZ2E,GAAoBA,EAASjhB,OAC7Cx+B,OAAQA,EACRhP,KAAMA,KAOZkuD,EAAmBh0D,UAAU00D,iBAC3B,SAA6CE,EAAaC,GACxD,IAAI//C,EAAS8/C,EACW,MAApBp1D,KAAKiyD,cACP38C,EAASxE,EAAKg/C,SAAS9vD,KAAKiyD,YAAa38C,IAGrB,MAAlB+/C,GAGGr1D,KAAK00D,mBACR10D,KAAK00D,iBAAmBn0D,OAAOsR,OAAO,OAExC7R,KAAK00D,iBAAiB5jD,EAAK+6C,YAAYv2C,IAAW+/C,GACzCr1D,KAAK00D,0BAGP10D,KAAK00D,iBAAiB5jD,EAAK+6C,YAAYv2C,IACI,IAA9C/U,OAAOsB,KAAK7B,KAAK00D,kBAAkBzzD,SACrCjB,KAAK00D,iBAAmB,QAqBhCF,EAAmBh0D,UAAU80D,eAC3B,SAA2CX,EAAoBS,EAAaG,GAC1E,IAAIN,EAAaG,EAEjB,GAAmB,MAAfA,EAAqB,CACvB,GAA+B,MAA3BT,EAAmBnY,KACrB,MAAM,IAAI18C,MACR,iJAIJm1D,EAAaN,EAAmBnY,KAElC,IAAIkT,EAAa1vD,KAAKiyD,YAEJ,MAAdvC,IACFuF,EAAankD,EAAKg/C,SAASJ,EAAYuF,IAIzC,IAAIO,EAAa,IAAInK,EACjBoK,EAAW,IAAIpK,EAGnBrrD,KAAKiwD,UAAUjC,iBAAgB,SAAUyD,GACvC,GAAIA,EAAQn8C,SAAW2/C,GAAsC,MAAxBxD,EAAQtB,aAAsB,CAEjE,IAAI4E,EAAWJ,EAAmBtX,oBAAoB,CACpD3xB,KAAM+lC,EAAQtB,aACdrc,OAAQ2d,EAAQrB,iBAEK,MAAnB2E,EAASz/C,SAEXm8C,EAAQn8C,OAASy/C,EAASz/C,OACJ,MAAlBigD,IACF9D,EAAQn8C,OAASxE,EAAKD,KAAK0kD,EAAgB9D,EAAQn8C,SAEnC,MAAdo6C,IACF+B,EAAQn8C,OAASxE,EAAKg/C,SAASJ,EAAY+B,EAAQn8C,SAErDm8C,EAAQtB,aAAe4E,EAASrpC,KAChC+lC,EAAQrB,eAAiB2E,EAASjhB,OACb,MAAjBihB,EAASzuD,OACXmrD,EAAQnrD,KAAOyuD,EAASzuD,OAK9B,IAAIgP,EAASm8C,EAAQn8C,OACP,MAAVA,GAAmBkgD,EAAW33B,IAAIvoB,IACpCkgD,EAAW9J,IAAIp2C,GAGjB,IAAIhP,EAAOmrD,EAAQnrD,KACP,MAARA,GAAiBmvD,EAAS53B,IAAIv3B,IAChCmvD,EAAS/J,IAAIplD,KAGdtG,MACHA,KAAKgwD,SAAWwF,EAChBx1D,KAAK+vD,OAAS0F,EAGdd,EAAmBvX,QAAQ91C,SAAQ,SAAU2tD,GAC3C,IAAI/tC,EAAUytC,EAAmBhB,iBAAiBsB,GACnC,MAAX/tC,IACoB,MAAlBquC,IACFN,EAAankD,EAAKD,KAAK0kD,EAAgBN,IAEvB,MAAdvF,IACFuF,EAAankD,EAAKg/C,SAASJ,EAAYuF,IAEzCj1D,KAAKk1D,iBAAiBD,EAAY/tC,MAEnClnB,OAcPw0D,EAAmBh0D,UAAU20D,iBAC3B,SAA4CO,EAAYC,EAAW/B,EACvBgC,GAK1C,GAAID,GAAuC,iBAAnBA,EAAUjqC,MAAiD,iBAArBiqC,EAAU7hB,OACpE,MAAM,IAAIh0C,MACN,gPAMR,MAAI41D,GAAc,SAAUA,GAAc,WAAYA,GAC/CA,EAAWhqC,KAAO,GAAKgqC,EAAW5hB,QAAU,IAC3C6hB,GAAc/B,GAAYgC,MAIzBF,GAAc,SAAUA,GAAc,WAAYA,GAC/CC,GAAa,SAAUA,GAAa,WAAYA,GAChDD,EAAWhqC,KAAO,GAAKgqC,EAAW5hB,QAAU,GAC5C6hB,EAAUjqC,KAAO,GAAKiqC,EAAU7hB,QAAU,GAC1C8f,GAKV,MAAM,IAAI9zD,MAAM,oBAAsBgnB,KAAKC,UAAU,CACnD+tC,UAAWY,EACXpgD,OAAQs+C,EACRmB,SAAUY,EACVrvD,KAAMsvD,MASdpB,EAAmBh0D,UAAUq1D,mBAC3B,WAcE,IAbA,IAOI5pD,EACAwlD,EACAqE,EACAC,EAVArD,EAA0B,EAC1BsD,EAAwB,EACxBpD,EAAyB,EACzBD,EAAuB,EACvBG,EAAe,EACfD,EAAiB,EACjBvxD,EAAS,GAMTquD,EAAW3vD,KAAKiwD,UAAUhE,UACrBvqD,EAAI,EAAGS,EAAMwtD,EAAS1uD,OAAQS,EAAIS,EAAKT,IAAK,CAInD,GAFAuK,EAAO,IADPwlD,EAAU9B,EAASjuD,IAGPosD,gBAAkBkI,EAE5B,IADAtD,EAA0B,EACnBjB,EAAQ3D,gBAAkBkI,GAC/B/pD,GAAQ,IACR+pD,SAIF,GAAIt0D,EAAI,EAAG,CACT,IAAKoP,EAAK49C,oCAAoC+C,EAAS9B,EAASjuD,EAAI,IAClE,SAEFuK,GAAQ,IAIZA,GAAQijD,EAAUhD,OAAOuF,EAAQ1D,gBACJ2E,GAC7BA,EAA0BjB,EAAQ1D,gBAEZ,MAAlB0D,EAAQn8C,SACVygD,EAAY/1D,KAAKgwD,SAAShlD,QAAQymD,EAAQn8C,QAC1CrJ,GAAQijD,EAAUhD,OAAO6J,EAAYlD,GACrCA,EAAiBkD,EAGjB9pD,GAAQijD,EAAUhD,OAAOuF,EAAQtB,aAAe,EACnBwC,GAC7BA,EAAuBlB,EAAQtB,aAAe,EAE9ClkD,GAAQijD,EAAUhD,OAAOuF,EAAQrB,eACJwC,GAC7BA,EAAyBnB,EAAQrB,eAEb,MAAhBqB,EAAQnrD,OACVwvD,EAAU91D,KAAK+vD,OAAO/kD,QAAQymD,EAAQnrD,MACtC2F,GAAQijD,EAAUhD,OAAO4J,EAAUhD,GACnCA,EAAegD,IAInBx0D,GAAU2K,EAGZ,OAAO3K,GAGXkzD,EAAmBh0D,UAAU0xD,wBAC3B,SAAmD+D,EAAUhF,GAC3D,OAAOgF,EAAS3tD,KAAI,SAAUgN,GAC5B,IAAKtV,KAAK00D,iBACR,OAAO,KAEU,MAAfzD,IACF37C,EAASxE,EAAKg/C,SAASmB,EAAa37C,IAEtC,IAAItS,EAAM8N,EAAK+6C,YAAYv2C,GAC3B,OAAO/U,OAAOC,UAAUuB,eAAejB,KAAKd,KAAK00D,iBAAkB1xD,GAC/DhD,KAAK00D,iBAAiB1xD,GACtB,OACHhD,OAMPw0D,EAAmBh0D,UAAUspD,OAC3B,WACE,IAAIxhD,EAAM,CACR2T,QAASjc,KAAK4vD,SACdxS,QAASp9C,KAAKgwD,SAAS/D,UACvBwD,MAAOzvD,KAAK+vD,OAAO9D,UACnB0D,SAAU3vD,KAAK61D,sBAYjB,OAVkB,MAAd71D,KAAKmyD,QACP7pD,EAAIk0C,KAAOx8C,KAAKmyD,OAEM,MAApBnyD,KAAKiyD,cACP3pD,EAAIonD,WAAa1vD,KAAKiyD,aAEpBjyD,KAAK00D,mBACPpsD,EAAI60C,eAAiBn9C,KAAKkyD,wBAAwB5pD,EAAI80C,QAAS90C,EAAIonD,aAG9DpnD,GAMXksD,EAAmBh0D,UAAUC,SAC3B,WACE,OAAOqmB,KAAKC,UAAU/mB,KAAK8pD,WAG/Bp7C,EAAQ,EAAqB8lD,G,mBCxZzBA,EAAqB,UACrB1jD,EAAO,EAAQ,MAIfolD,EAAgB,UAQhBC,EAAe,qBAcnB,SAASC,EAAWC,EAAOC,EAAS1C,EAAS2C,EAASX,GACpD51D,KAAKw2D,SAAW,GAChBx2D,KAAKy2D,eAAiB,GACtBz2D,KAAK0rB,KAAgB,MAAT2qC,EAAgB,KAAOA,EACnCr2D,KAAK8zC,OAAoB,MAAXwiB,EAAkB,KAAOA,EACvCt2D,KAAKsV,OAAoB,MAAXs+C,EAAkB,KAAOA,EACvC5zD,KAAKsG,KAAgB,MAATsvD,EAAgB,KAAOA,EACnC51D,KAAKm2D,IAAgB,EACN,MAAXI,GAAiBv2D,KAAK0rD,IAAI6K,GAWhCH,EAAWM,wBACT,SAA4CC,EAAgBhC,EAAoBiC,GAG9E,IAAIC,EAAO,IAAIT,EAMXU,EAAiBH,EAAe92C,MAAMq2C,GACtCa,EAAsB,EACtBC,EAAgB,WAIlB,OAHmBC,KAELA,KAAiB,IAG/B,SAASA,IACP,OAAOF,EAAsBD,EAAe71D,OACxC61D,EAAeC,UAAyBj/C,IAK5Co/C,EAAoB,EAAG1D,EAAsB,EAK7C2D,EAAc,KAgElB,OA9DAxC,EAAmBvD,aAAY,SAAUK,GACvC,GAAoB,OAAhB0F,EAAsB,CAGxB,KAAID,EAAoBzF,EAAQ3D,eAMzB,CAIL,IACI/2B,GADAqgC,EAAWN,EAAeC,IACVniD,OAAO,EAAG68C,EAAQ1D,gBACRyF,GAO9B,OANAsD,EAAeC,GAAuBK,EAASxiD,OAAO68C,EAAQ1D,gBAC1ByF,GACpCA,EAAsB/B,EAAQ1D,gBAC9BsJ,EAAmBF,EAAapgC,QAEhCogC,EAAc1F,GAhBd4F,EAAmBF,EAAaH,KAChCE,IACA1D,EAAsB,EAqB1B,KAAO0D,EAAoBzF,EAAQ3D,eACjC+I,EAAKnL,IAAIsL,KACTE,IAEF,GAAI1D,EAAsB/B,EAAQ1D,gBAAiB,CACjD,IAAIqJ,EAAWN,EAAeC,GAC9BF,EAAKnL,IAAI0L,EAASxiD,OAAO,EAAG68C,EAAQ1D,kBACpC+I,EAAeC,GAAuBK,EAASxiD,OAAO68C,EAAQ1D,iBAC9DyF,EAAsB/B,EAAQ1D,gBAEhCoJ,EAAc1F,IACbzxD,MAEC+2D,EAAsBD,EAAe71D,SACnCk2D,GAEFE,EAAmBF,EAAaH,KAGlCH,EAAKnL,IAAIoL,EAAehxD,OAAOixD,GAAqBlmD,KAAK,MAI3D8jD,EAAmBvX,QAAQ91C,SAAQ,SAAU2tD,GAC3C,IAAI/tC,EAAUytC,EAAmBhB,iBAAiBsB,GACnC,MAAX/tC,IACmB,MAAjB0vC,IACF3B,EAAankD,EAAKD,KAAK+lD,EAAe3B,IAExC4B,EAAK3B,iBAAiBD,EAAY/tC,OAI/B2vC,EAEP,SAASQ,EAAmB5F,EAAS16B,GACnC,GAAgB,OAAZ06B,QAAuC35C,IAAnB25C,EAAQn8C,OAC9BuhD,EAAKnL,IAAI30B,OACJ,CACL,IAAIzhB,EAASshD,EACT9lD,EAAKD,KAAK+lD,EAAenF,EAAQn8C,QACjCm8C,EAAQn8C,OACZuhD,EAAKnL,IAAI,IAAI0K,EAAW3E,EAAQtB,aACRsB,EAAQrB,eACR96C,EACAyhB,EACA06B,EAAQnrD,UAWxC8vD,EAAW51D,UAAUkrD,IAAM,SAAwB4L,GACjD,GAAI32D,MAAMC,QAAQ02D,GAChBA,EAAOhwD,SAAQ,SAAU4vB,GACvBl3B,KAAK0rD,IAAIx0B,KACRl3B,UAEA,KAAIs3D,EAAOnB,IAAmC,iBAAXmB,EAMtC,MAAM,IAAIhzB,UACR,8EAAgFgzB,GAN9EA,GACFt3D,KAAKw2D,SAASx0D,KAAKs1D,GAQvB,OAAOt3D,MASTo2D,EAAW51D,UAAU+2D,QAAU,SAA4BD,GACzD,GAAI32D,MAAMC,QAAQ02D,GAChB,IAAK,IAAI51D,EAAI41D,EAAOr2D,OAAO,EAAGS,GAAK,EAAGA,IACpC1B,KAAKu3D,QAAQD,EAAO51D,QAGnB,KAAI41D,EAAOnB,IAAmC,iBAAXmB,EAItC,MAAM,IAAIhzB,UACR,8EAAgFgzB,GAJlFt3D,KAAKw2D,SAASlxD,QAAQgyD,GAOxB,OAAOt3D,MAUTo2D,EAAW51D,UAAU0qD,KAAO,SAAyBsM,GAEnD,IADA,IAAItgC,EACKx1B,EAAI,EAAGS,EAAMnC,KAAKw2D,SAASv1D,OAAQS,EAAIS,EAAKT,KACnDw1B,EAAQl3B,KAAKw2D,SAAS90D,IACZy0D,GACRj/B,EAAMg0B,KAAKsM,GAGG,KAAVtgC,GACFsgC,EAAItgC,EAAO,CAAE5hB,OAAQtV,KAAKsV,OACboW,KAAM1rB,KAAK0rB,KACXooB,OAAQ9zC,KAAK8zC,OACbxtC,KAAMtG,KAAKsG,QAYhC8vD,EAAW51D,UAAUqQ,KAAO,SAAyB4mD,GACnD,IAAIC,EACAh2D,EACAS,EAAMnC,KAAKw2D,SAASv1D,OACxB,GAAIkB,EAAM,EAAG,CAEX,IADAu1D,EAAc,GACTh2D,EAAI,EAAGA,EAAIS,EAAI,EAAGT,IACrBg2D,EAAY11D,KAAKhC,KAAKw2D,SAAS90D,IAC/Bg2D,EAAY11D,KAAKy1D,GAEnBC,EAAY11D,KAAKhC,KAAKw2D,SAAS90D,IAC/B1B,KAAKw2D,SAAWkB,EAElB,OAAO13D,MAUTo2D,EAAW51D,UAAUm3D,aAAe,SAAiCC,EAAUC,GAC7E,IAAIC,EAAY93D,KAAKw2D,SAASx2D,KAAKw2D,SAASv1D,OAAS,GAUrD,OATI62D,EAAU3B,GACZ2B,EAAUH,aAAaC,EAAUC,GAEL,iBAAdC,EACd93D,KAAKw2D,SAASx2D,KAAKw2D,SAASv1D,OAAS,GAAK62D,EAAU3iD,QAAQyiD,EAAUC,GAGtE73D,KAAKw2D,SAASx0D,KAAK,GAAGmT,QAAQyiD,EAAUC,IAEnC73D,MAUTo2D,EAAW51D,UAAU00D,iBACnB,SAAqCE,EAAaC,GAChDr1D,KAAKy2D,eAAe3lD,EAAK+6C,YAAYuJ,IAAgBC,GASzDe,EAAW51D,UAAUu3D,mBACnB,SAAuCP,GACrC,IAAK,IAAI91D,EAAI,EAAGS,EAAMnC,KAAKw2D,SAASv1D,OAAQS,EAAIS,EAAKT,IAC/C1B,KAAKw2D,SAAS90D,GAAGy0D,IACnBn2D,KAAKw2D,SAAS90D,GAAGq2D,mBAAmBP,GAIxC,IAAIpa,EAAU78C,OAAOsB,KAAK7B,KAAKy2D,gBAC/B,IAAS/0D,EAAI,EAAGS,EAAMi7C,EAAQn8C,OAAQS,EAAIS,EAAKT,IAC7C81D,EAAI1mD,EAAKknD,cAAc5a,EAAQ17C,IAAK1B,KAAKy2D,eAAerZ,EAAQ17C,MAQtE00D,EAAW51D,UAAUC,SAAW,WAC9B,IAAIyP,EAAM,GAIV,OAHAlQ,KAAKkrD,MAAK,SAAUh0B,GAClBhnB,GAAOgnB,KAEFhnB,GAOTkmD,EAAW51D,UAAUy3D,sBAAwB,SAA0CtG,GACrF,IAAImD,EAAY,CACd/9B,KAAM,GACNrL,KAAM,EACNooB,OAAQ,GAENxrC,EAAM,IAAIksD,EAAmB7C,GAC7BuG,GAAsB,EACtBC,EAAqB,KACrBC,EAAmB,KACnBC,EAAqB,KACrBC,EAAmB,KAqEvB,OApEAt4D,KAAKkrD,MAAK,SAAUh0B,EAAO69B,GACzBD,EAAU/9B,MAAQG,EACM,OAApB69B,EAASz/C,QACY,OAAlBy/C,EAASrpC,MACW,OAApBqpC,EAASjhB,QACXqkB,IAAuBpD,EAASz/C,QAC7B8iD,IAAqBrD,EAASrpC,MAC9B2sC,IAAuBtD,EAASjhB,QAChCwkB,IAAqBvD,EAASzuD,MAClCgC,EAAI0sD,WAAW,CACb1/C,OAAQy/C,EAASz/C,OACjBy/C,SAAU,CACRrpC,KAAMqpC,EAASrpC,KACfooB,OAAQihB,EAASjhB,QAEnBghB,UAAW,CACTppC,KAAMopC,EAAUppC,KAChBooB,OAAQghB,EAAUhhB,QAEpBxtC,KAAMyuD,EAASzuD,OAGnB6xD,EAAqBpD,EAASz/C,OAC9B8iD,EAAmBrD,EAASrpC,KAC5B2sC,EAAqBtD,EAASjhB,OAC9BwkB,EAAmBvD,EAASzuD,KAC5B4xD,GAAsB,GACbA,IACT5vD,EAAI0sD,WAAW,CACbF,UAAW,CACTppC,KAAMopC,EAAUppC,KAChBooB,OAAQghB,EAAUhhB,UAGtBqkB,EAAqB,KACrBD,GAAsB,GAExB,IAAK,IAAIt8B,EAAM,EAAG36B,EAASi2B,EAAMj2B,OAAQ26B,EAAM36B,EAAQ26B,IA3WxC,KA4WT1E,EAAMxmB,WAAWkrB,IACnBk5B,EAAUppC,OACVopC,EAAUhhB,OAAS,EAEflY,EAAM,IAAM36B,GACdk3D,EAAqB,KACrBD,GAAsB,GACbA,GACT5vD,EAAI0sD,WAAW,CACb1/C,OAAQy/C,EAASz/C,OACjBy/C,SAAU,CACRrpC,KAAMqpC,EAASrpC,KACfooB,OAAQihB,EAASjhB,QAEnBghB,UAAW,CACTppC,KAAMopC,EAAUppC,KAChBooB,OAAQghB,EAAUhhB,QAEpBxtC,KAAMyuD,EAASzuD,QAInBwuD,EAAUhhB,YAIhB9zC,KAAK+3D,oBAAmB,SAAU9C,EAAYsD,GAC5CjwD,EAAI4sD,iBAAiBD,EAAYsD,MAG5B,CAAExhC,KAAM+9B,EAAU/9B,KAAMzuB,IAAKA,K,aC/XtCoG,EAAQ8gD,OATR,SAAgBmC,EAAOiE,EAAO4C,GAC5B,GAAI5C,KAASjE,EACX,OAAOA,EAAMiE,GACR,GAAyB,IAArB31D,UAAUgB,OACnB,OAAOu3D,EAEP,MAAM,IAAI14D,MAAM,IAAM81D,EAAQ,8BAKlC,IAAI6C,EAAY,iEACZC,EAAgB,gBAEpB,SAAS5E,EAAS6E,GAChB,IAAIv8C,EAAQu8C,EAAKv8C,MAAMq8C,GACvB,OAAKr8C,EAGE,CACL43C,OAAQ53C,EAAM,GACdw8C,KAAMx8C,EAAM,GACZ5B,KAAM4B,EAAM,GACZ9B,KAAM8B,EAAM,GACZhG,KAAMgG,EAAM,IAPL,KAYX,SAASy8C,EAAYC,GACnB,IAAIt5C,EAAM,GAiBV,OAhBIs5C,EAAW9E,SACbx0C,GAAOs5C,EAAW9E,OAAS,KAE7Bx0C,GAAO,KACHs5C,EAAWF,OACbp5C,GAAOs5C,EAAWF,KAAO,KAEvBE,EAAWt+C,OACbgF,GAAOs5C,EAAWt+C,MAEhBs+C,EAAWx+C,OACbkF,GAAO,IAAMs5C,EAAWx+C,MAEtBw+C,EAAW1iD,OACboJ,GAAOs5C,EAAW1iD,MAEboJ,EAeT,SAAS7G,EAAUogD,GACjB,IAAI3iD,EAAO2iD,EACPv5C,EAAMs0C,EAASiF,GACnB,GAAIv5C,EAAK,CACP,IAAKA,EAAIpJ,KACP,OAAO2iD,EAET3iD,EAAOoJ,EAAIpJ,KAKb,IAHA,IAGS4iD,EAHLnJ,EAAanhD,EAAQmhD,WAAWz5C,GAEhC8wC,EAAQ9wC,EAAKyJ,MAAM,OACRo5C,EAAK,EAAGv3D,EAAIwlD,EAAMjmD,OAAS,EAAGS,GAAK,EAAGA,IAEtC,OADbs3D,EAAO9R,EAAMxlD,IAEXwlD,EAAMphD,OAAOpE,EAAG,GACE,OAATs3D,EACTC,IACSA,EAAK,IACD,KAATD,GAIF9R,EAAMphD,OAAOpE,EAAI,EAAGu3D,GACpBA,EAAK,IAEL/R,EAAMphD,OAAOpE,EAAG,GAChBu3D,MAUN,MAJa,MAFb7iD,EAAO8wC,EAAMr2C,KAAK,QAGhBuF,EAAOy5C,EAAa,IAAM,KAGxBrwC,GACFA,EAAIpJ,KAAOA,EACJyiD,EAAYr5C,IAEdpJ,EA5ET1H,EAAQolD,SAAWA,EAsBnBplD,EAAQmqD,YAAcA,EAwDtBnqD,EAAQiK,UAAYA,EA2DpBjK,EAAQmC,KAzCR,SAAcqoD,EAAOH,GACL,KAAVG,IACFA,EAAQ,KAEI,KAAVH,IACFA,EAAQ,KAEV,IAAII,EAAWrF,EAASiF,GACpBK,EAAWtF,EAASoF,GAMxB,GALIE,IACFF,EAAQE,EAAShjD,MAAQ,KAIvB+iD,IAAaA,EAASnF,OAIxB,OAHIoF,IACFD,EAASnF,OAASoF,EAASpF,QAEtB6E,EAAYM,GAGrB,GAAIA,GAAYJ,EAAM38C,MAAMs8C,GAC1B,OAAOK,EAIT,GAAIK,IAAaA,EAAS5+C,OAAS4+C,EAAShjD,KAE1C,OADAgjD,EAAS5+C,KAAOu+C,EACTF,EAAYO,GAGrB,IAAIC,EAA6B,MAApBN,EAAM9jD,OAAO,GACtB8jD,EACApgD,EAAUugD,EAAM/jD,QAAQ,OAAQ,IAAM,IAAM4jD,GAEhD,OAAIK,GACFA,EAAShjD,KAAOijD,EACTR,EAAYO,IAEdC,GAIT3qD,EAAQmhD,WAAa,SAAUkJ,GAC7B,MAA2B,MAApBA,EAAM9jD,OAAO,MAAgB8jD,EAAM38C,MAAMq8C,IAyClD/pD,EAAQohD,SAhCR,SAAkBoJ,EAAOH,GACT,KAAVG,IACFA,EAAQ,KAGVA,EAAQA,EAAM/jD,QAAQ,MAAO,IAO7B,IADA,IAAIye,EAAQ,EAC0B,IAA/BmlC,EAAM/tD,QAAQkuD,EAAQ,MAAY,CACvC,IAAI93D,EAAQ83D,EAAMhkC,YAAY,KAC9B,GAAI9zB,EAAQ,EACV,OAAO23D,EAOT,IADAG,EAAQA,EAAMzuD,MAAM,EAAGrJ,IACbgb,MAAM,qBACd,OAAO28C,IAGPnlC,EAIJ,OAAOjzB,MAAMizB,EAAQ,GAAG/iB,KAAK,OAASkoD,EAAMnkD,OAAOskD,EAAMj4D,OAAS,IAIpE,IAAIq4D,IAEO,cADC/4D,OAAOsR,OAAO,OAI1B,SAAS0nD,EAAUngC,GACjB,OAAOA,EA8BT,SAASogC,EAAcpgC,GACrB,IAAKA,EACH,OAAO,EAGT,IAAIn4B,EAASm4B,EAAEn4B,OAEf,GAAIA,EAAS,EACX,OAAO,EAGT,GAAiC,KAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,KAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,MAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,MAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,MAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,MAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,MAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,KAA7Bm4B,EAAE1oB,WAAWzP,EAAS,IACO,KAA7Bm4B,EAAE1oB,WAAWzP,EAAS,GACxB,OAAO,EAGT,IAAK,IAAIS,EAAIT,EAAS,GAAIS,GAAK,EAAGA,IAChC,GAAwB,KAApB03B,EAAE1oB,WAAWhP,GACf,OAAO,EAIX,OAAO,EAgFT,SAAS+3D,EAAOC,EAAOC,GACrB,OAAID,IAAUC,EACL,EAGLD,EAAQC,EACH,GAGD,EAjIVjrD,EAAQm9C,YAAcyN,EAAoBC,EAP1C,SAAqB5N,GACnB,OAAI6N,EAAc7N,GACT,IAAMA,EAGRA,GAWTj9C,EAAQspD,cAAgBsB,EAAoBC,EAP5C,SAAuB5N,GACrB,OAAI6N,EAAc7N,GACTA,EAAKlhD,MAAM,GAGbkhD,GAwETj9C,EAAQojD,2BA5BR,SAAoC1D,EAAUC,EAAUuL,GACtD,IAAIpM,EAAMY,EAAS94C,OAAS+4C,EAAS/4C,OACrC,OAAY,IAARk4C,GAKQ,IADZA,EAAMY,EAAS+B,aAAe9B,EAAS8B,eAM3B,IADZ3C,EAAMY,EAASgC,eAAiB/B,EAAS+B,iBACxBwJ,GAKL,IADZpM,EAAMY,EAASL,gBAAkBM,EAASN,kBAM9B,IADZP,EAAMY,EAASN,cAAgBO,EAASP,eAlB/BN,EAuBFY,EAAS9nD,KAAO+nD,EAAS/nD,MAyClCoI,EAAQukD,oCA5BR,SAA6C7E,EAAUC,EAAUwL,GAC/D,IAAIrM,EAAMY,EAASN,cAAgBO,EAASP,cAC5C,OAAY,IAARN,GAKQ,IADZA,EAAMY,EAASL,gBAAkBM,EAASN,kBACzB8L,GAKL,IADZrM,EAAMY,EAAS94C,OAAS+4C,EAAS/4C,SAMrB,IADZk4C,EAAMY,EAAS+B,aAAe9B,EAAS8B,eAM3B,IADZ3C,EAAMY,EAASgC,eAAiB/B,EAAS+B,gBAlBhC5C,EAuBFY,EAAS9nD,KAAO+nD,EAAS/nD,MAgDlCoI,EAAQggD,oCA5BR,SAA6CN,EAAUC,GACrD,IAAIb,EAAMY,EAASN,cAAgBO,EAASP,cAC5C,OAAY,IAARN,GAKQ,IADZA,EAAMY,EAASL,gBAAkBM,EAASN,kBAM9B,KADZP,EAAMiM,EAAOrL,EAAS94C,OAAQ+4C,EAAS/4C,UAM3B,IADZk4C,EAAMY,EAAS+B,aAAe9B,EAAS8B,eAM3B,IADZ3C,EAAMY,EAASgC,eAAiB/B,EAAS+B,gBAlBhC5C,EAuBFiM,EAAOrL,EAAS9nD,KAAM+nD,EAAS/nD,Q,eCzZxC,UACAoI,EAAQqtC,kBAAoB,EAA5B,wBACA,S,sbCPA,gBACA,UACA,UAiBA,UAEa,EAAA+d,0BAAsD,EAAA35D,OAAO45D,+BAA+B,CACvGC,cAAe,EAAAC,wBAAwBC,aAazC,gBAKE,YAAYC,EAAuC,EAAAh6D,QACjDH,KAAKo6D,cAAWtiD,EAChB9X,KAAKq6D,kBAAeviD,EACpB9X,KAAKs6D,iBAAcxiD,EACnBqiD,EAAII,+BAA+Bv6D,KAAKu6D,+BAA+BvrD,KAAKhP,OAGvE,UAEL,EAAA85D,0BAA0BxoC,UAIrB,UACL,OAAO,EAAAkpC,UAAUC,iBAAiB,QAAQC,WAAWC,qBAI1C,+BAA+BluC,G,yCACrCzsB,KAAKypC,eAKuB,IAAtBzpC,KAAgB,aAAsBysB,EAAMmuC,OAAS,EAAAC,8BAA8BC,SAAWruC,EAAMmuC,OAAS,EAAAC,8BAA8BE,OAOpJ/6D,KAAKg7D,iBAAiBvuC,EAAMwuC,iBAEK,IAAtBj7D,KAAgB,cACzBm6C,aAAan6C,KAAKs6D,aAClBt6D,KAAKs6D,iBAAcxiD,GAGrB9X,KAAKs6D,YAAcjzD,YAAW,KAC5BrH,KAAKk7D,SAASzuC,KACb,YAbGzsB,KAAKk7D,SAASzuC,GAPpBzsB,KAAKg7D,iBAAiBvuC,EAAMwuC,eAwBlB,SAASxuC,G,yCACrB,MAAMpD,EAASoD,EAAMwuC,WACfE,EAAan7D,KAAKo6D,eAA2CtiD,IAA/B9X,KAAKo6D,SAASgB,aAC5CnwD,EAAQjL,KAAKo6D,UAAYp6D,KAAKo6D,SAASgB,aAC7C,IAAKp7D,KAAKo6D,UAAY/wC,IAAWrpB,KAAKq6D,cAAiBc,IAAelwD,QAC9DjL,KAAKw9B,MAAMnU,QACZ,GAA+B,GAA3BoD,EAAM4uC,WAAWp6D,OAE1B,kBADMjB,KAAKw9B,MAAMnU,IAInB,GAAIrpB,KAAKo6D,UAAYp6D,KAAKo6D,SAASgB,aAAc,CAC/C,MAAME,EAAmB7uC,EAAM4uC,WAAW,GAAGrrB,OACvChhB,EAA0B,CAC9BusC,aAAcv7D,KAAKu7D,aAAav7D,KAAKo6D,SAASmB,cAC9Cr/C,MAAOlc,KAAKw7D,QAAQF,GACpBG,cAAe,CACbC,MAAO,CACLC,YAAa,GAAG37D,KAAKo6D,SAASwB,gBAC9BC,OAAQ,YACRC,MAAO,IAAI,EAAAC,WAAW,4BACtBC,WAAY,SACZC,UAAW,YAIjB5yC,EAAO6yC,eAAe,EAAApC,0BAA2B,CAAC9qC,IAGpDhvB,KAAKs6D,iBAAcxiD,KAGb,aAAaqkD,GACnB,IAAIC,EAAOhmD,EAAKvF,KAAK,EAAAquB,WAAWm9B,aAAa,eAAeC,cAAe,OAAQ,SAAU,SAAU,uBAC9E,UAArB92D,EAAQiW,WACV2gD,EAAO,YAAYA,IAGnBA,EAAOA,EAAKjnD,QAAQ,MAAM,SAE5B,MAAMonD,EAAK,IAAI,EAAAC,eAAe,eAAeJ,4BAA+BD,2CAG5E,OADAI,EAAGE,WAAY,EACRF,EAGD,QAAQv3D,GACd,MAAM03D,EAAS13D,EAAI23D,KAAK33D,EAAI0mB,KAAM,MAClC,OAAO,IAAI,EAAAkxC,MAAMF,EAAQA,GAGb,MAAMrzC,G,yCAClBrpB,KAAKg7D,iBAAiB3xC,GACtB,MAAMod,QAAazmC,KAAK68D,gBAAgBxzC,EAAO3F,SAASwgC,UACnDzd,IAGLzmC,KAAKo6D,SAAW3zB,MAGV,iBAAiBpd,GACvBA,EAAO6yC,eAAe,EAAApC,0BAA2B,IACjD95D,KAAKq6D,aAAehxC,EACpBrpB,KAAKo6D,cAAWtiD,EAGJ,gBAAgBX,G,yCAC5B,IACE,MAAM4R,QAAaN,EAAQq0C,kBAAkB3lD,GAC7C,GAAI4R,IAASA,EAAK9lB,IAChB,MAAO,CACL24D,cAAe7yC,EAAKg0C,eACpBxB,aAAcxyC,EAAKi0C,cACnB5B,aAAcryC,EAAKk0C,eAGvB,MAAO1nC,IAGT,OAAO,W,6bCjKX,gBASA,UAEA,UAGA,QACA,UACA,UAMA,UAEA,IAAK2nC,GAAL,SAAKA,GACH,oBACA,gBAFF,CAAKA,MAAO,KAKZ,MAAaC,EACX,WACE,MAAM3qB,EAAM,GAGZ,OAFAA,EAAIxwC,KAAK,EAAAo7D,SAASC,gBAAgB,sBAAuBF,EAAaG,eACtE9qB,EAAIxwC,KAAK,EAAAo7D,SAASC,gBAAgB,kCAAmCF,EAAaI,qBAC3E/qB,EAGT,sB,yCACE,MAAMnpB,EAAS,EAAAlpB,OAAOq9D,iBACtB,GAAIn0C,EAAQ,CACV,MAAMrkB,EAAMqkB,EAAOsC,UAAUqkB,OACvB55B,EAAO,EAAAiU,UAAUhB,EAAO3F,SAAU1e,GAExC,IAE0B,aADLyjB,EAAQtO,QAAQ,CAAE/D,UAC5ByX,YACP,EAAAuvC,SAASK,eAAe,kCAAmC,CACzDt9C,SAAUnb,EACVsQ,OAAQ4nD,EAAQpC,UAGpB,MAAMvlC,GACN,UAAqBmoC,gBAAgBnoC,QAK3C,0BAAgCnxB,G,yCAC9B,UAAQu8B,MAAM,GAAGv8B,EAAKkR,2BACtB,MAAMqoD,EAAM,EAAAx9D,OAAOq9D,iBAAiB95C,SAC9BtN,EAAO,EAAAiU,UAAUszC,EAAKv5D,EAAK+b,UACjC,IACE,MAAMy9C,QAAc,EAAAC,0BAA0B,CAAEznD,SAC1CrR,EAAO+hB,KAAKQ,MAAMs2C,GACxB,EAAAE,SAAS,eAAe/4D,EAAKylB,OAAO,GAAGN,MACvC,MAAMqL,GACN,UAAqBmoC,gBAAgBnoC,QArC3C,iBA0CA,0BACQ,aAAaooC,EAAmBx9C,G,yCACpC,MAAM/J,EAAO,EAAAiU,UAAUszC,EAAKx9C,GAE5B,IACE,MAAMy9C,QAAc,EAAAC,0BAA0B,CAAEznD,SAC1CrR,EAAO+hB,KAAKQ,MAAMs2C,GACxB,GAAI74D,GAAQA,EAAKylB,QAAUzlB,EAAKylB,OAAOvpB,OAAQ,CAC7C,MAAOupB,GAAUzlB,EAAKylB,OAEhBuzC,EAAW,kDAAkD,EAAAC,uBAAuB,CACxF79C,WACA7K,OAAQ4nD,EAAQe,WAGlB,IAAIC,EACAn5D,GAAQA,EAAK4lB,QAAU5lB,EAAK4lB,OAAOwzC,YAAkD,KAApCp5D,EAAK4lB,OAAOwzC,WAAWhnD,WAM1E+mD,EAAU,0BALM,EAAAF,uBAAuB,CACrCxhB,KAAMz3C,EAAK4lB,OAAOwzC,WAAWhnD,SAC7BuU,KAAM3mB,EAAK4lB,OAAOwzC,WAAWzyC,KAC7BpW,OAAQ4nD,EAAQe,YAKpB,MAAM/2C,EAAU,IAAI,EAAAs1C,eAAe,kBAAkB,EAAA4B,WAAW5zC,GAAQrV,QAAQ,IAAK,kBAAkB,EAAAkpD,mBAAmB7zC,6BAAkCuzC,IAAWG,EAAU,eAAiBA,EAAU,MAG5M,OAFAh3C,EAAQu1C,WAAY,EAEb,IAAI,EAAAwB,MAAM,EAAAK,QAAQ,CAACp3C,MAE5B,MAAMjkB,GAEWA,EAAI8B,OAAqC,MAA5B9B,EAAI8B,KAAKgpB,gBAAsD,MAA5B9qB,EAAI8B,KAAKgpB,iBAExExnB,QAAQgH,IAAItK,EAAKA,EAAI8B,a,ogBCvG7B,MAAM0lB,EAAaP,IAChBA,GAAa,KAAPA,IACe,IAArBA,EAAGlf,QAAQ,MAAoC,KAArBkf,EAAGrK,MAAM,KAAK,GAErC0+C,EAAiB3D,GAAQ,CAAC,WAAY,QAAQv/C,SAASu/C,GAEvD4D,EAAgB,CAACrwC,EAAGswC,EAAS,GAAIr4D,IACrC+nB,EAEI/nB,EACI,IAAIA,KAAKq4D,iCAAsCtwC,EAAE7nB,iBAAgB,IAAAo4D,MAAKt4D,EAAEyZ,MAAM,WAC9E,GAAG4+C,iCAAsCtwC,EAAE7nB,mBAE/CwR,EAEA6mD,EAAoBxwC,IACxB,IAAKA,EAAK,MAAO,GAIjB,QAFa,IAAAywC,YAAWzwC,IAGtB,IAAK,SACL,IAAK,aACH,OAAO,IAAA0wC,gBAAe1wC,EAAG,iBACrB,KAAI,IAAAuwC,OAAK,IAAAI,WAAU3wC,EAAG,kBAAkB4wC,OACxC,GACN,QACE,MAAO,KAIPC,EAAgB,CAAC7wC,EAAGswC,EAAS,KACjCtwC,EAAE8wC,gBAAkB9wC,EAAE8wC,eAClB,GAAGR,KAAS,IAAAS,OAAK,IAAAZ,SAAQnwC,EAAE8wC,gBAAgB32D,KAAI7G,GAC/C,yCAAyCA,EAAE09D,oCAAoC19D,EAAEyxB,cAAariB,KAAK,cACnG,GAEAuuD,EAAoBJ,EAEpBK,EAAiBlxC,GACrB,GAAGqwC,EAAcrwC,KAAK6wC,EAAc7wC,EAAG,OAAOwwC,EAAiBxwC,KAE3DO,EAAa,CAACqP,EAAGuhC,GAAW,IAChCvhC,EAAErP,WACG4wC,EACCvhC,EAAErP,WAAWpmB,IAAI+2D,GACjBthC,EAAErP,WAAWpmB,KAAI6lB,GAAK,GAAGqwC,EAAcrwC,KAAKwwC,EAAiBxwC,OAC/D,GAuBAQ,EAAY,CAAC5pB,EAAMu6D,GAAW,EAAMp2B,GAAU,KAClD,MAAMq2B,GAAS,IAAAC,oBAAmBz6D,GAClC,OAAOw6D,EACH,6BACA,IAAAjB,UAAQ,IAAAmB,SAzBW,EAACF,EAAQD,KAEhC,QADa,IAAAV,YAAWW,IAEtB,IAAK,SACH,MAAO,CACL7wC,EAAW6wC,EAAQD,GACnBd,GAAc,IAAAM,WAAUS,EAAQ,UAAW,KAC3Cf,GAAc,IAAAM,WAAUS,EAAQ,SAAU,OAE9C,IAAK,aACH,MAAO,CACL7wC,EAAW6wC,EAAQD,GACnBd,GAAc,IAAAM,WAAUS,EAAQ,QAAS,MAE7C,QACE,MAAO,CACL7wC,EAAW6wC,EAAQD,MASLI,CAAiBH,EAAQD,KACtCh3D,KAAI,CAAC6lB,EAAGzsB,EAAGkC,KACV,MAAMw1B,EAAI13B,IAAMkC,EAAE3C,OAAS,EAAI,GAAK,KACpC,OAAOS,IAAMwnC,EACT,+CAA+C/a,IAAIiL,WACnD,2BAA2BjL,IAAIiL,cAEpCvoB,KAAK,cAER,qCAGA8uD,EAAqBC,GAAcA,EAAUt5D,KAY7Cu5D,EAAuBlxC,IAC3B,IAAAkwC,gBAAelwC,EAAW,WACtB,IAAAmwC,WAAUnwC,EAAW,UAAUrmB,KAAI6lB,GAZd,CAACyxC,IAC1B,MAAME,GAAU,IAAApB,MAAKkB,EAAUzgC,MAAM/1B,QAAOw1B,GAAKA,EAAEmhC,YACnD,OAAOD,GACH,IAAAxB,SAAQ,CACRqB,EAAkBC,IAClB,IAAAlB,MAAKoB,EAAQC,UAAU5qD,QAAQ,MAAO,KAAKA,QAAQ,MAAO,OACzDtE,KAAK,KACN8uD,EAAkBC,IAKsBI,CAAmB7xC,KAAItd,KAAK,MACpE,KAEAovD,EAAiBl7D,IACrB,IAAAu5D,UAAQ,IAAAmB,SAAQ,EACb16D,EAAKX,MAAQ,IAAIkE,IAAIq3D,GACtBE,EAAoB96D,MAEnB8L,KAAK,MAEJqvD,EAAY39D,IAChB,IAAA00B,OAAK,IAAAA,MAAK10B,EAAMw8D,KAAK5pD,QAAQ,SAAU,IAAI0K,MAAM,KAAKvX,KAAI8wB,GAAKA,EAAE9D,OAAOzV,MAAM,SAE1EsgD,EAAkB59D,IAAS,IAAA00B,MAAK10B,EAAM2nB,GAAGrK,MAAM,UAE/CugD,EAAa,CAAC79D,EAAO2mC,IACrBq1B,EAAeh8D,EAAMq4D,MAChBsF,EAAU39D,GAASosB,EAAUpsB,GAAO,EAAM2mC,GAE1B,aAAf3mC,EAAMq4D,KACVuF,EAAgB59D,GAChB29D,EAAU39D,GAIZ67D,EAAahlC,IACjB,MAAM72B,GAAQ,IAAAm8D,MAAKtlC,EAAE72B,OACrB,MAAsB,aAAfA,EAAMq4D,KACTxhC,EAAE9yB,KACF45D,EAAU39D,IAGV89D,EAAc,CAACjnC,EAAG8P,KACtB,MAAM3mC,GAAQ,IAAAm8D,MAAKtlC,EAAE72B,OACrB,OAAOg8D,EAAeh8D,EAAMq4D,MACxBwD,EAAWhlC,GAAKzK,EAAUpsB,GAAO,EAAM2mC,GACvCk1B,EAAWhlC,IAGXknC,EAAelnC,IACnB,MAAM72B,EAAQ62B,EAAE72B,OAAQ,IAAAm8D,MAAKtlC,EAAE72B,OAAS,GAClC+D,EAAO,sBAAsB8yB,EAAE9yB,cACrC,OAAOi4D,EAAeh8D,EAAMq4D,MAAQt0D,EAAO,KAAOA,GAG9Ci6D,EAAYlY,IAChB,MAAM,KAAE/hD,EAAI,GAAE4jB,GAAOm+B,GAAK,GAC1B,OAAO/hD,EACDmkB,EAAUP,GAEV,4BAA4B5jB,WAD5B,yCAAyC4jB,0BAA2B5jB,QAGtE,MAGAk6D,EAAY,CAACC,EAAIn4D,KACrB,IAAA42D,OAAK,IAAAO,UAAQ,IAAAnB,SAAQmC,EAAGn4D,IAAIA,KAAOA,IAAIi4D,IAAW1vD,KAAK,OAEnD6vD,EAAcj/D,GAClBA,GAAKA,EAAER,OAAS,gCAAgCQ,WAAa,GAEzDk/D,EAAcvnC,IAAK,IAAAslC,MAAKtlC,EAAE72B,OAE1B87D,EAAqBjlC,IACzB,MAAM72B,EAAQo+D,EAAYvnC,GAC1B,MAAmB,aAAf72B,EAAMq4D,KACD,MAAMr4D,EAAMq4D,UAGd,MADK,IAAAsE,MAAK9lC,EAAE72B,MAAM6G,QAAO3H,GAAgB,aAAXA,EAAEm5D,OAAqBtyD,KAAI7G,GAAK,IAAIA,EAAEyxB,KAAK/d,QAAQ,IAAK,aAC3EtE,KAAK,YAGnB+vD,EAAkBzE,IACtB,MAAM3xC,GAAS,IAAAk0C,MAAKvC,EAAM3xC,QACpBzlB,EAAO,CACXylB,SACAG,OAAQwxC,EAAMxxC,QAGhB,OADI5lB,EAAKxC,OAA2B,KAAlBwC,EAAKxC,MAAM2nB,KAAanlB,EAAKxC,MAAM2nB,GAAKM,EAAOlkB,MAC1DvB,GAGH87D,EAAsBp/D,IAAK,CAAG6E,KAAM7E,EAAEyxB,KAAMhJ,GAAIzoB,EAAE09D,UAClD2B,EAAsBr/D,IAC1B,MAAM89D,GAAS,IAAAC,oBAAmB/9D,GAClC,OAAO89D,GAAUA,EAAOwB,aACpBxB,EAAOwB,aAAaz4D,KAAI7G,IAAK,CAAG6E,KAAM7E,EAAEyxB,KAAMhJ,GAAIzoB,EAAE09D,YACpD,IAGA6B,EAAa5nC,GAAKonC,EAAUpnC,EAAE72B,MAAOs+D,GAErCI,EAAmB7nC,GAAKonC,EAAUpnC,EAAE72B,MAAOu+D,GAE3CI,EAAY3+D,GAChBg8D,EAAeh8D,EAAMq4D,MACjB8F,EAAWF,EAAU,CAACj+D,GAAQu+D,IAC9BN,EAAU,CAACj+D,GAAQs+D,GAEnBM,EAAY32C,GACF,KAAdA,EAAON,GACHM,EAAON,IACP,IAAAw0C,MAAKl0C,EAAOjoB,OAAO2nB,I,2NC1MzB,IAAIk3C,EAAwB,KAExBC,EAAiB,KAErB,SAASC,IACP,GAA8B,OAA1BF,EAAgC,CAClC,MAAMG,EAAW,+BAAkC,QAAQ/1C,YAAYg2C,uBACjE/3B,EAuED,CACL,KACA,MACA,OACA,MACA,OACA,MACA,KACA,OACA,QACA,QACA,MACA,OACA,MACA,QACA,KACA,OACA,MACA,OACA,MACA,SACA,MACA,MACA,OACA,QA/FsCrgC,QAAOq4D,IAAQF,EAASlmD,SAASomD,KACvEL,EAAwB33B,EAE1B,OAAO23B,EA8BT,SAASM,EAAqB9hE,GAC5B,MAAO,IAAIwE,IA5Bb,WACE,GAAuB,OAAnBi9D,EAAyB,CAC3B,MAAME,EAAW,+BAAkC,QAAQ/1C,YAAYg2C,uBACvEH,GAAkBE,EAASlmD,SAAS,OAEtC,OAAOgmD,EAwBAM,GAGE/hE,KAAMwE,GAFJ,GA+Db,SAASw9D,EAAgB1d,GACvB,MAAM2d,EAAU,YAAa3d,GAC7B,MA9BO,CACL,KACA,MACA,OACA,MACA,OACA,MACA,KACA,OACA,QACA,QACA,MACA,OACA,MACA,QACA,KACA,OACA,MACA,OACA,MACA,SACA,MACA,MACA,OACA,QAM2B7oC,SAASwmD,GAGxC,MAMMC,EAAc,IAEX,+BACa,aACjBC,WAAW1mD,SAAS,iBACnB,UACA,eAAkB,4BAuBX2mD,EAA+BN,GAjG5C,WACE,MAAO,CACL,CAAEtqC,QAAS,gBAAiB48B,OAAQ,QACpC,CAAE58B,QAAS,gBAAiB48B,OAAQ,gBA+F3BiO,EAA2BP,GA3FxC,WACE,MAAO,CACL,CAAEtqC,QAAS,gBAAiB48B,OAAQ,QACpC,CAAE58B,QAAS,gBAAiB48B,OAAQ,gBAyF3BkO,EAAqBR,GArFlC,WACE,MAAO,CACL,CAAEtqC,QAAS,gBAAiB48B,OAAQ,QACpC,CAAE58B,QAAS,gBAAiB48B,OAAQ,gBAmF3BmO,EAA0BT,GA/EvC,WACE,MAAO,CACL,CAAEtqC,QAAS,gBAAiB48B,OAAQ,QACpC,CAAE58B,QAAS,gBAAiB48B,OAAQ,gB,kCCnDxC,MA8CMoO,EAAoB,CACxB1+C,EACA/O,EACA0tD,EACAC,EACA5gE,KAEA,MAAM2D,EAAO,IAAI,EAAAk9D,eAAeF,EAAgB1tD,EAAE6tD,SAClDn9D,EAAKo9D,WAAa9tD,EAAE+tD,QAAQn3C,KAE5B,MAAMlpB,EAAQqhB,EAASi/C,WAAWhuD,EAAEQ,QAAQytD,OACtCz1D,EAAMuW,EAASi/C,WAAWhuD,EAAEQ,QAAQhI,KACpC01D,EAAe,IAAI,EAAAjG,MAAMv6D,EAAO8K,GAjClB,IAAC+c,EAAI44C,EAAMC,EAkD/B,GAhBA19D,EAAK29D,WAAat/C,EAASu/C,QAAQJ,GACnCx9D,EAAK69D,gBAAiB,EAEZ,IAANxhE,IACF2D,EAAK89D,WAAY,GAEnB99D,EAAK+9D,SAjEM,EAAChqC,EAAGvrB,EAAGysC,EAAI,OACtB,KAAOlhB,EAAEn4B,OAAS4M,GAChBurB,EAAI,GAAGkhB,IAAIlhB,IAEb,OAAOA,GA6DSiqC,CAAK1yD,OAAOjP,GAAI4gE,EAAW,MAC3Cj9D,EAAK6W,MAAQ2mD,EACgB,KAAzBluD,EAAE2uD,cAAc/3C,OAClBlmB,EAAKi+D,eA3Ccp5C,EA2CgBvV,EAAE4uD,OA3CdT,EA2CsBnuD,EAAEmuD,KA3ClBC,EA2CwBpuD,EAAE2uD,cAAc/3C,KA1ChE,IAAI,EAAAixC,eAAe,2BAA2BtyC,+BAAgC44C,SAErFC,uBA4CA19D,EAAKk6D,OAAS5qD,EAAEmuD,KDkCI,aCjCpBz9D,EAAKu1D,KAlEakI,KAClB,OAAQA,GACN,IAAK,OACL,IAAK,WACH,OAAO,EAAAU,mBAAA,SACT,IAAK,SACH,OAAO,EAAAA,mBAAA,OACT,IAAK,OACH,OAAO,EAAAA,mBAAA,MACT,IAAK,UACH,OAAO,EAAAA,mBAAA,QACT,IAAK,SAEL,QACE,OAAO,EAAAA,mBAAA,QAoDCC,CAAY9uD,EAAEmuD,MAEtBnuD,EAAE+tD,QAAQgB,aAAaziE,OAAS,EAAG,CACrC,IAAIsvD,EAAS,EACb,IAAI7uD,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAIiT,EAAE+tD,QAAQgB,aAAaziE,OAAQS,IAAK,CAClD,IAAIiiE,EAAchvD,EAAE+tD,QAAQgB,aAAahiE,GACzCiiE,EAAYf,OAASrS,EACrBoT,EAAYx2D,KAAOojD,EACnBlrD,EAAKo9D,WACHp9D,EAAKo9D,WAAWh4D,MAAM,EAAGk5D,EAAYf,OACrC,MACClhE,EAAI,GAAGjB,WACR,IACA4E,EAAKo9D,WAAWh4D,MAAMk5D,EAAYf,MAAOe,EAAYx2D,KACrD,IACA9H,EAAKo9D,WAAWh4D,MAAMk5D,EAAYx2D,KACpCojD,GAAU,EAGZlrD,EAAKo9D,YAAc,KACnBp9D,EAAKo9D,WAAa,IAAI,EAAAmB,cAAcv+D,EAAKo9D,YAQ3C,OALAp9D,EAAKk/B,QAAU,CACbA,QAAS,yBACTtkC,UAAW,CAAC,CAAE4jE,MAAM,IAAAC,sBAAqBpgD,GAAWqgD,WAAY,CAAErB,QAAS,CAAEn3C,KAAM5W,EAAE+tD,QAAQn3C,UAGxFlmB,GAGM,MAAM2+D,EACnB,YAAYC,EAAMC,EAAUC,EAAkBhK,EAAM,EAAAh6D,QAClDH,KAAKikE,KAAOA,EACZjkE,KAAKkkE,SAAWA,EAChBlkE,KAAKmkE,iBAAmBA,GAAoB,GAC5CnkE,KAAKG,OAASg6D,EAGhB,uBAAuBz2C,EAAUvD,EAAUkV,EAAO+S,GAChD,MAAM7c,EAAO7H,EAASu/C,UAEtB,GAAI13C,EAAKtqB,OAASjB,KAAKikE,KAAKG,YAE1B,OADA,SAAY,yDACLj9C,QAAQC,QAAQ,IAGzB,MAAMjQ,GAAW,IAAAktD,sBAAqB3gD,EAASwgC,UACzC8e,EAzFc,EAACt/C,EAAUvD,KACjC,MAAMwL,EACJ,EAAAxrB,OAAA,kBAA2B,EAAAA,OAAA,2BACvBmkE,EACJ5gD,EAAS6gD,uBAAuBpkD,IAC/BwL,GAAa,IAAI,EAAAixC,MAAMjxC,EAAUtpB,MAAOspB,EAAUxe,KACrD,OAAKm3D,EAGE5gD,EAASu/C,QAAQqB,GAFf,MAkFYE,CAAgB9gD,EAAUvD,GAC7C,OAAOngB,KAAKsrB,eAAe5H,EAAU6H,EAAMpU,EAAU6rD,EAAY56B,GAGnE,eAAe1kB,EAAU6H,EAAMpU,EAAU6rD,EAAY56B,GACnD,MAAMzc,EAAY3rB,KAAKG,OAAOq9D,iBAAiB7xC,UACzCi3C,EAAQl/C,EAAS+gD,SAAS94C,EAAUtpB,OACpC8K,EAAMuW,EAAS+gD,SAAS94C,EAAUxe,KAClCu3D,EAAiB,EAAAlK,UAAA,iBAA2B,QAAQkK,eAEpDC,GAAiF,IAA7D3kE,KAAKmkE,iBAAiBn5D,QAAQo9B,EAAQw8B,kBAC1DC,EAA4B,EAAArK,UAAA,iBAA2B,QAAQsK,kCAE/DlgE,EAAU,CACd2mB,OACAlC,OAAQ,SACRlS,WACAgJ,SAAU,CACRyiD,QACAz1D,OAEF43D,aAAcL,EACd34C,gBDpCkB,UCuCpB,OAAO/rB,KAAKikE,KAAK9pD,QACf,CACE/D,MAAM,IAAA4uD,mBACN3qD,OAAQ,QAEVyM,KAAKC,UAAUniB,IAEdyiB,MAAKtiB,IACJ,GAAI4/D,IAAsBE,EAGxB,MAAO,GAIT,MAAMr5C,GADNzmB,GAAO,IAAAg2B,WAAUh2B,EAAM,KACEymB,aAAe,GAElCy5C,EAAmBz5C,EAAY3iB,QAAO,CAACyuB,EAAOysC,KAClD,IAAImB,EAAW5tC,EAAQ,EAIvB,OAHIysC,EAAWvN,WACb0O,GAAYnB,EAAWvN,SAASv1D,QAE3BikE,IACN,GAEG5C,EAAY3xD,OAAOs0D,GAAkBhkE,OACrCkkE,EAAkB,GAExB,IAAIvpC,EAAM,EA2BV,OA1BApQ,EAAYlkB,SAAQqN,IAClBwwD,EAAgBnjE,KACdogE,EACE1+C,EACA/O,EACA,GACA2tD,EACA1mC,IAGJ,MAAM46B,EAAW7hD,EAAE6hD,UAAY,GAC/B,IAAIjG,EAAS,EACbiG,EAASlvD,SAAQsvB,IACfuuC,EAAgBnjE,KACdogE,EACE1+C,EACAkT,EACA,KACA0rC,EACA1mC,EAAM20B,IAGVA,GAAU,KAEZ30B,GAAO20B,KAEF,IAAI,EAAA6U,eAAeD,GAAiB,MAE5Cl8C,OAAM,IAAM,M,cC1NJ,MAAMo8C,EACnB,YAAYpB,EAAMqB,GAChBtlE,KAAKikE,KAAOA,EACZjkE,KAAKslE,OAASA,EAGhB,qBAAqB5hD,EAAUvD,GAC7B,MAAMoL,EAAO7H,EAASu/C,UAEtB,GAAI13C,EAAKtqB,OAASjB,KAAKikE,KAAKG,YAE1B,OADA,SAAY,uDACL,KAGT,MAAMmB,EAAiB7hD,EAAS+gD,SAAStkD,GACnCvb,EAAU,CACd2mB,OACAlC,OAAQ,SACRlS,UAAU,IAAAktD,sBAAqB3gD,EAASwgC,UACxCp4B,aAAcy5C,EACdx5C,gBAAiB,UAInB,OAFA,UAAannB,GAEN5E,KAAKikE,KAAK9pD,QACf,CACE/D,MAAM,IAAAovD,iBACNnrD,OAAQ,QAEVyM,KAAKC,UAAUniB,GACf8e,GAEC2D,MAAKtiB,IACJA,GAAO,IAAAg2B,WAAUh2B,EAAM,IAEvB,MAAOjE,GAAQiE,EAAK0gE,OAEd,OAAEC,GAAW5kE,EAEb6kE,EAAO,IAAI,EAAAC,cACjBD,EAAKE,gBAAkB/kE,EAAKglE,UAC5BH,EAAKI,gBAAkB,EAEvB,MAAMC,EAAQ,MAAO,IAAAC,YAAU,IAAA7F,YAAWsF,IACpCQ,EAAM,IAAI,EAAAC,qBAAqBH,GAC/BzG,GAAS,IAAAC,oBAAmBkG,GAmBlC,OAlBAQ,EAAIx3C,YAAc6wC,EAAO7wC,YAAc,IAAIpmB,KAAI6lB,IAC7C,MAAM63C,EAAQ73C,EAAE8wC,eACZ,GAAG9wC,EAAE7nB,SAAQ,IAAA2/D,YAAU,IAAAjH,eAAc7wC,MACrCA,EAAE7nB,KAEN,OADc,IAAI,EAAA8/D,qBAAqBJ,MAKvCrlE,MAAMC,QAAQ2+D,EAAOwB,eACrBxB,EAAOwB,aAAa9/D,QACpBs+D,EAAOwB,aAAa,GAAG7tC,OAEvBgzC,EAAI5C,cAAgB,aAAa/D,EAAOwB,aAAa,GAAG7tC,QAG1DyyC,EAAKU,WAAa,CAACH,GAEZP,KAER18C,OAAM,IAAM,QCvEJ,MAAMq9C,EACnB,YAAYrC,EAAMqB,GAChBtlE,KAAKikE,KAAOA,EACZjkE,KAAKslE,OAASA,EAGhB,kBAAkB5hD,EAAUvD,GAK1B,GADoB,4BAA+B,oBAEjD,OAEF,MAAM/J,GAAO,IAAAiU,WAAU3G,EAAUvD,GACjC,OAAOngB,KAAKikE,KAAK9pD,QAAQ,CAAE/D,QAAQ,KAAMsN,GACtC2D,MAAKtiB,IAAQ,IAAAg2B,WAAUh2B,KACvBsiB,MAAKtiB,IACJ,GAAIA,GAAQA,EAAK4lB,QAAU5lB,EAAK4lB,OAAOwzC,YAAkD,KAApCp5D,EAAK4lB,OAAOwzC,WAAWhnD,SAC1E,OAAO,IAAI,EAAAovD,SACT,aAAgBxhE,EAAK4lB,OAAOwzC,WAAWhnD,UACvC,IAAI,EAAAqvD,SAASzhE,EAAK4lB,OAAOwzC,WAAWzyC,KAAO,EAAG,OAGnDzC,OAAM,IAAM,QC7BJ,MAAMw9C,EACnB,YAAYxC,EAAM56C,GAChBrpB,KAAKikE,KAAOA,EACZjkE,KAAKqpB,OAASA,EACdrpB,KAAK0jB,SAAW2F,EAAO3F,SAGzB,iBACS1jB,KAAKikE,YACLjkE,KAAKqpB,cACLrpB,KAAK0jB,U,kBCPVgjD,EAAiB,EAIR,MAAMC,EACnB,YAAY1C,EAAM56C,GAChBrpB,KAAKikE,KAAOA,EACZjkE,KAAKqpB,OAASA,EACdrpB,KAAKw9B,QAGP,iBACSx9B,KAAKikE,YACLjkE,KAAKqpB,OAGd,QACE,OAAOrpB,KAAK6vB,KAAK,SAGnB,OACE,OAAO7vB,KAAK6vB,KAAK,QAGnB,mBACE,OAAO7vB,KAAK6vB,KAAK,aAGnB,KAAKipB,GAYH,OAXK94C,KAAK4mE,iBACR5mE,KAAK4mE,eAAiB,IAAIz/C,SAAQ,CAACC,EAAS7d,KAC1CvJ,KAAK6mE,sBAAwBz/C,EAC7BpnB,KAAK8mE,qBAAuBv9D,MAGhCvJ,KAAK+mE,cAAc/kE,KAAK82C,GACxBqB,aAAan6C,KAAKivB,SAClBjvB,KAAKivB,QAAU5nB,YAAW,IAAMrH,KAAKgnE,eAAe,GAG7ChnE,KAAK4mE,eAAe39C,OAAM,SAGnC,QACEkxB,aAAan6C,KAAKivB,SAClBjvB,KAAK+mE,cAAgB,GAGvB,cACE,IAAK/mE,KAAKqpB,SAAWrpB,KAAKqpB,OAAO3F,SAC/B,OAGF,MAAM2F,EAASrpB,KAAKqpB,OACds0C,EAAMt0C,EAAO3F,SACbujD,EAAQjnE,KAAK+mE,cAAc39D,QAAOmsB,GAAW,UAANA,IAAe,GACtDujB,EAAS94C,KAAK+mE,cAAcn9D,MAAK2rB,GAAW,SAANA,IAAgB,OAASv1B,KAAK+mE,cAAchgE,MAExF/G,KAAKw9B,QAEL,MAAM54B,EAAUkiB,KAAKC,UAAU/mB,KAAKknE,WAAWpuB,EAAQ6kB,EAAKt0C,EAAOsC,YAEnE,IAAIiC,EAAUzG,QAAQC,UAStB,OAPI6/C,GAASnuB,IAAWmuB,IACtBr5C,EAAUA,EAAQvG,MAAK,IAAMrnB,KAAKikE,KAAK9pD,QAAQ,CAC7C/D,KAAM,0BACNiE,OAAQ,QACPyM,KAAKC,UAAU/mB,KAAKknE,WAAWD,EAAOtJ,EAAKt0C,EAAOsC,YAAagyC,MAG7D/vC,EACJvG,MAAK,IAAMrnB,KAAKikE,KAAK9pD,QAAQ,CAC5B/D,KAAM,0BACNiE,OAAQ,QACPzV,EAAS+4D,KACXt2C,MAAM+B,IACLppB,KAAK6mE,uBAAyB7mE,KAAK6mE,sBAAsBz9C,MAE1DH,OAAOhmB,IACNjD,KAAK8mE,sBAAwB9mE,KAAK8mE,qBAAqB7jE,MAExDokB,MAAK,YACGrnB,KAAK4mE,sBACL5mE,KAAK6mE,6BACL7mE,KAAK8mE,wBAIlB,WAAWhuB,EAAQp1B,EAAUiI,GAC3B,MAAMzE,EAAUxD,EAASu/C,UACzB,OAAO/7C,EAAQjmB,OAASjB,KAAKikE,KAAKG,YAC9B,CACA9uD,OAAQ,SACRwjC,OAAQ,OACRvtB,KAAM,GACNpU,UAAU,IAAAktD,sBAAqB3gD,EAASwgC,UACxCmX,WAAY,CAAC,CAAEh5D,MAAO,EAAG8K,IAAK,EAAGgd,SAAU,WAC3Cg9C,eAAc,UACdT,kBAEA1mE,KAAKonE,UAAUtuB,EAAQp1B,EAAUwD,EAASyE,GAGhD,UAAUmtB,EAAQp1B,EAAU6H,EAAMI,GAChC,MAAMc,EAAQ,CACZnX,OAAQ,SACRiW,OACAutB,SACA3hC,UAAU,IAAAktD,sBAAqB3gD,EAASwgC,UACxCijB,eAAc,UACdT,kBAWF,OARI/6C,GAAgC,MAAnBA,EAAUtpB,OAAkC,MAAjBspB,EAAUxe,MACpDsf,EAAM4uC,WAAa,CAAC,CAClBh5D,MAAOqhB,EAAS+gD,SAAS94C,EAAUtpB,OACnC8K,IAAKuW,EAAS+gD,SAAS94C,EAAUxe,KACjCgd,SAAU,YAIPsC,G,sECzFX,MAGaw3C,EAAO,CAClBG,YAAa,EAAAx7C,sBAEb,SAASy+C,GACPrnE,KAAKsnE,YAAcD,EAAIC,YAErBtnE,KAAKunE,YACLF,EAAIG,cAAcxlE,KAAKhC,OAI3B,YACMA,KAAKsnE,YAAYG,gBACnBznE,KAAKsnE,YAAYG,eAAe,CAAC,0CAGnCxnC,EAAQ,QAAR,iBAAyB,YAEzBjgC,KAAKw9B,QAEL,MAAMkqC,EAAU,IAAI,IAAJ,CAAY,CAC1BrgC,YAAa,mCACbziC,QAAS,CACPkqC,YAAa,aACbzlB,OAAQ,SACRs+C,oBAAqB,EACrBpsD,GAAI,WAAY,IAAM,iBAIpBqsD,EAAU3kE,IACVA,EAAI0jB,MAAM3b,QAAQ,SAAW,GAC/B08D,EAAQlhE,MAAMvD,IAGlBuC,QAAQiN,GAAG,oBAAqBm1D,GAChC5nE,KAAK6nE,YAAY7lE,KAAK,CACpB,UACEwD,QAAQ2F,eAAe,oBAAqBy8D,MAIhD,UACE,WACE,+BAAkC,QAAQE,aAAa9nD,eAG3DhgB,KAAK+nE,iBAEL/nE,KAAK6nE,YAAY7lE,KACf,oCACEkgE,IACA,IAAI,EAAA8F,oBAGRhoE,KAAK6nE,YAAY7lE,KACf,yCACEigE,IACA,IAAIqE,EAAuBrC,KAI/B,IAAIgE,EAAsB,CAAC,IAAK,IAAK,IAAM,IAAK,KAC5CC,EAA8B,CAAC,IAAK,KAExCloE,KAAK6nE,YAAY7lE,KACf,6CN7EN,WAEE,MAAMynC,EAAU63B,IACCl4D,QAAOq4D,GAAc,OAAPA,GAAuB,QAAPA,IAC9B5wD,KAAK,KACtB,MAAgB,KAAZ44B,EACK,GAEF,CACL,CAAErS,QAAS,QAAQqS,KAAYuqB,OAAQ,QACvC,CAAE58B,QAAS,QAAQqS,KAAYuqB,OAAQ,aMoEnCmU,GACA,IAAInE,EAAuBC,EAAMgE,EAAqBC,MAAiCD,EAAoBzjE,OAAO0jE,KAKtH,IAAIE,EAA4B,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE/DpoE,KAAK6nE,YAAY7lE,KACf,6CACEggE,IACA,IAAIgC,EAAuBC,EAAMmE,MAA+BA,IAGpEpoE,KAAK6nE,YAAY7lE,KACf,4CACEmgE,IACA,IAAIkD,EAAsBpB,GAC1B,IACA,MAIJjkE,KAAK6nE,YAAY7lE,KACf,wCAA0C,KACxC,UACE,WACE,+BAAkC,QAAQ8lE,aAAa9nD,mBAK/DhgB,KAAK6nE,YAAY7lE,KACf,wCAA0CuzB,IAGxC,GAFAv1B,KAAK+nE,iBACL/nE,KAAKqoE,WAAW,+BACZ9yC,EAAG,CACD,mCAAmChpB,KAAKgpB,EAAE7R,SAASwgC,YACrDjkB,EAAQ,QAAR,iBAAyB,YACzBA,EAAQ,QAAR,iBAAyB,aAEvBjgC,KAAKsoE,mBAAmB/yC,KAC1Bv1B,KAAKuoE,eAAehzC,GACpBv1B,KAAKwoE,eAAejzC,IAGtB,MAAMkzC,EAAMzoE,KAAK0oE,eAAe3yD,IAAIwf,EAAE7R,SAASwgC,UAC/CukB,GAAOA,EAAIxB,aAKjBjnE,KAAK6nE,YAAY7lE,KACf,2CAA6CuzB,IAC3C,MAAMkzC,EAAMzoE,KAAK0oE,eAAe3yD,IAAIwf,EAAE0lC,WAAWv3C,SAASwgC,UAC1DukB,GAAOA,EAAIE,uBAIf3oE,KAAK6nE,YAAY7lE,KACf,uCAAyCuzB,IACvCA,EAAE7R,WACA,IAAAklD,oBAAmBrzC,EAAE7R,UAAUpc,SAAQiuB,IACrC,MAAMkzC,EAAMzoE,KAAK0oE,eAAe3yD,IAAIwf,EAAE7R,SAASwgC,UAC/CukB,GAAOA,EAAII,cAKnB7oE,KAAK6nE,YAAY7lE,KACf,0CAA4C8mE,IAC1CA,EAAQxhE,SAAQiuB,IACVqsC,EAAgBrsC,EAAE7R,SAASwgC,YAC7BlkD,KAAK+oE,uBAAuBxzC,EAAE7R,UAC9B1jB,KAAKgpE,iBAAiBzzC,EAAE7R,kBAMhC1jB,KAAKipE,cAAgB,+BACnB,8BAGFjpE,KAAK6nE,YAAY7lE,KAAKhC,KAAKipE,eAGA,CAAC,IAAI,EAAA9L,cACb71D,SAAQ4hE,GAAUlpE,KAAK6nE,YAAY7lE,QAAQknE,EAAOC,cAErEnpE,KAAK6nE,YAAY7lE,KACf,6BAAgC,0BAA0B,EAAG6hE,OAAME,iBACjE9jC,EAAQ,QAAR,UAAkB,eAAe4jC,0BACjC5jC,EAAQ,QAAR,UAAkB,QAAQ4jC,0BAC1B5jC,EAAQ,QAAR,uBAA+B4jC,EAAME,GAAY96C,OAAMsM,IAAOhvB,QAAQC,MAAM+uB,UAIhFv1B,KAAK6nE,YAAY7lE,KACf,6BAAgC,cAAc,MAC5C,IAAA87D,UAAS,mBAIb99D,KAAK6nE,YAAY7lE,KACf,6BAAgC,sBAAsB,MACpD,IAAA87D,UAAS,uBAIb99D,KAAK6nE,YAAY7lE,KACf,uCAA0C,+BAAgCi5D,IACxE,uBACsB,SAAU,gBAAoBA,EAAWv3C,SAASwgC,UACrEj7B,OAAMhmB,GAAO,0BAAqCA,EAAK,8EAI9DjD,KAAK6nE,YAAY7lE,KACf,uCAA0C,+BAAgCi5D,IACxE,MACMmO,EADkBnO,EAAWtvC,UAAUqkB,OAAOtkB,KACb,EACvC,uBACsB,SAAU,gBAAoBuvC,EAAWv3C,SAASwgC,SAAUklB,GAC/EngD,OAAMhmB,GAAO,0BAAqCA,EAAK,8EAI9DjD,KAAK6nE,YAAY7lE,KAAK,IAAI,MAE1BhC,KAAK6nE,YAAY7lE,KACf,6BAAgC,qBAAqB,MACnD,IAAA87D,UAAS,mBAIb99D,KAAK6nE,YAAY7lE,KACf,6BAAgC,gBAAgBwd,IAC9C,IAAKA,EAAIrK,QAAQ,KAAM,YAI3BnV,KAAK6nE,YAAY7lE,KACf,6BACE,YACA,EAAGw6C,OAAM9wB,OAAM29C,YAAW/zD,aACxB2qB,EAAQ,QAAR,MAAc,GAAG3qB,8BACjB2qB,EAAQ,QAAR,iBAAyB,cACzB,+BACoB,aAAgBuc,IACjCn1B,MAAKs2C,GACG,4BAA+BA,KAEvCt2C,MAAKkO,IACJ0K,EAAQ,QAAR,iBAAyB,cACzB,MAAMqpC,EAAc,IAAI,cACtB59C,EAAO,EACP29C,EAAYA,EAAY,EAAI,GAE9B9zC,EAAEg0C,YACA,IAAI,WACFD,EACA,IAAI,cAAgB59C,EAAO,EAAG,OAIlC,MAAM89C,EAAe,IAAI,eACvBF,EACAA,GAEF/zC,EAAE5J,UAAY69C,SAMxB,MAAMC,EAAmBhqE,UACvB,IACE,MAAM2W,QAAa,0BAA8B,SAAUkT,GACrDogD,QAAiB,+BAAkCtzD,GACzD,4BAA+BszD,GAC/B,mBAAuB,uBAAuB,GAC9C,MAAOn0C,GACPv1B,KAAK2pE,cAAcC,iBACjB,2FAKN5pE,KAAK6nE,YAAY7lE,KACf,6BAAgC,wBAAwB,KACtDynE,EAAiB,cAIrBzpE,KAAK6nE,YAAY7lE,KACf,6BAAgC,4BAA4B,KAC1DynE,EAAiB,kBAIrBzpE,KAAK6nE,YAAY7lE,KACf,6BAAgC,oBAAoB,KAClDynE,EAAiB,UAIrBzpE,KAAK6nE,YAAY7lE,KACf,6BAAgC,aAAa,KAC3C,IAAK,6DAIThC,KAAK6nE,YAAY7lE,KACf,6BACE,cACA,EAAGw6C,OAAM9wB,OAAMpW,aACb2qB,EAAQ,QAAR,MAAc,GAAG3qB,yBACjB2qB,EAAQ,QAAR,iBAAyB,SACzB,+BAAkCuc,GAAMn1B,MAAKs2C,IAC3C19B,EAAQ,QAAR,iBAAyB,UACzB,IAAA2oC,oBAAmBjL,GAAK/zD,MAAK2rB,IAC3BA,EAAEg0C,YACA,IAAI,WACF,IAAI,cAAgB79C,EAAO,EAAG,GAC9B,IAAI,cAAgBA,EAAO,EAAG,iBAS5C,MAAMsU,EAAS,+BAAkC,QA2BjD,OA1BIA,EAAO6pC,kCACT,kCAA6C7pC,EAAQypC,GAGvDpiE,YAAW,KACT,uCAAyCkuB,IACvC,GAAIqsC,EAAgBrsC,EAAE7R,SAASwgC,YAC7BlkD,KAAKuoE,eAAehzC,GACpBv1B,KAAKwoE,eAAejzC,GAEhBA,IAAM,6BAAgC,CACxC,MAAMkzC,EAAMzoE,KAAK0oE,eAAe3yD,IAAIwf,EAAE7R,SAASwgC,UAC/CukB,GAAOA,EAAIxB,YAKjBjnE,KAAKqoE,WAAW,qBACf,KAEHroE,KAAK8pE,gBAAkBx8B,aAAY,KACjCttC,KAAKqoE,WAAW,qBACfroC,EAAOjqB,IAAI,oBAAsB,KAEpCkqB,EAAQ,QAAR,iBAAyB,YAElBjgC,MAGT,QACEA,KAAK6nE,aACH7nE,KAAK6nE,YAAYvgE,SAAQyiE,IACvBA,EAAWz4C,aAEftxB,KAAKgqE,mBAAqB,IAAI5e,IAC9BprD,KAAK0oE,eAAiB,IAAItd,IAC1BprD,KAAKiqE,MAAQ,GACbjqE,KAAK6nE,YAAc,GACnB7nE,KAAKkqE,sBAAuB,EAC5BlqE,KAAKmqE,YAAa,EAClBnqE,KAAK2pE,cAAgB,IAAI,iBAClB3pE,KAAKoqE,iBACLpqE,KAAKqqE,kBACLrqE,KAAKsqE,uBACLtqE,KAAK8pE,iBAGd,aACE,IAAK,MAAO,CAAES,KAAOvqE,KAAKgqE,mBACxBO,GAAMA,EAAGj5C,UAEX,IAAK,MAAO,CAAEm3C,KAAQzoE,KAAK0oE,eACzBD,GAAOA,EAAIn3C,UAEb2O,EAAQ,QAAR,iBAAyB,YACzBA,EAAQ,QAAR,iBAAyB,YACzBjgC,KAAKsxB,UACLtxB,KAAKw9B,SAGP,UACEx9B,KAAK6nE,aAAe7nE,KAAK6nE,YAAYvgE,SAAQy2B,GAAKA,EAAEzM,mBAC7CtxB,KAAK6nE,aAGd,iBAAiBnkD,IACf,IAAAklD,oBAAmBllD,GAAUpc,SAAQiuB,GAAKv1B,KAAKwoE,eAAejzC,MAGhE,uBAAuB7R,IACrB,IAAAklD,oBAAmBllD,GAAUpc,SAAQiuB,GAAKv1B,KAAKuoE,eAAehzC,MAGhE,eAAeA,GACb,GAAIA,GAAKA,EAAE7R,SAAU,CACnB,IAAI+kD,EAAMzoE,KAAK0oE,eAAe3yD,IAAIwf,EAAE7R,SAASwgC,UACzCukB,GAAOA,EAAIp/C,OACbo/C,EAAIp/C,OAASkM,GAEbkzC,EAAM,IAAI9B,EAAa3mE,KAAMu1B,GAC7Bv1B,KAAK0oE,eAAelhD,IAAI+N,EAAE7R,SAASwgC,SAAUukB,MAKnD,eAAelzC,GACb,GAAIv1B,KAAKgqE,mBAAmBnsC,IAAItI,EAAE7R,SAASwgC,UAC9BlkD,KAAKgqE,mBAAmBj0D,IAAIwf,EAAE7R,SAASwgC,UAC/C76B,OAASkM,MACP,CACL,UACE,2BACAA,EAAE7R,SAASwgC,SACX3uB,EAAE7R,SAAS8mD,YAEb,MAAMD,EAAK,IAAI9D,EAAWxC,EAAM1uC,GAChCv1B,KAAKgqE,mBAAmBxiD,IAAI+N,EAAE7R,SAASwgC,SAAUqmB,KAIrD,WAAW1vD,GACT,OAAO,kBAEJwM,MAAKtY,IACJ,OAAQA,GACN,KAAK,uBACH,GAAI/O,KAAKiqE,MAAMl7D,GACb,OAAOA,EAET/O,KAAKiqE,MAAMl7D,IAAS,EACf,oBAEO,4BACVkxB,EAAQ,QAAR,MAAc,0BAFdA,EAAQ,QAAR,MAAc,kBAIhBjgC,KAAK2pE,cAAcC,iBACjB,sEAEF,MACF,KAAK,uBACH,GAAI5pE,KAAKiqE,MAAMl7D,GACb,OAAOA,EAET/O,KAAKiqE,MAAMl7D,IAAS,EACpB,uCAAiD,KAC/C,4CACA/O,KAAKmqE,YAAa,EAClB,wBAA4B,CAC1B9zC,SAAS,EACTwB,eAAe,EACfC,QAAS,SACTF,SAAU,KAAQ53B,KAAKmqE,YAAa,KAErClhD,OAAMsM,IACL,2CAAsDA,SAG1D,MACF,KAAK,qBACH,IAAKv1B,KAAKkqE,sBAAwB,+BAAkC,QAAQO,yBAA0B,CACpG,GAAIzqE,KAAKmqE,WAEP,MAEF,mBAjcY,GACA,MAgciD9iD,MAAK,IAAMrnB,KAAKqoE,WAAWxtD,KACxF7a,KAAKkqE,sBAAuB,EAE9B,MACF,KAAK,mBACH,GAAIlqE,KAAKiqE,MAAMl7D,GACb,OAAOA,EAET,MACF,QAME,OALI/O,KAAKsoE,mBAAmB,8BAC1BtoE,KAAKwoE,eAAe,8BAElB3tD,GAAgB,oBAARA,GAAqC,oBAARA,IACvC7a,KAAKsqE,gBAAkBv7D,GAClBA,EAQX,OAFI8L,GAAgB,oBAARA,GAAqC,oBAARA,IACvC7a,KAAKsqE,gBAAkBv7D,GAClBA,KAERsY,MAAKtY,IACJ/O,KAAK0qE,UAAU37D,EACb,4BAAiC,0CAA0C+I,MAE9EmR,OAAMhmB,GAAOsD,QAAQC,MAAMvD,MAGhC,iBACE,0BAA8BokB,MAAK/I,IACjCte,KAAKokE,YAAc9lD,MAIvB,oBACE,MAAMvP,EAAQ/O,KAAKoqE,UACb/+C,EAASrrB,KAAKqqE,WAEdM,EAAY3qE,KAAKsoE,mBAAmB,6BACpCsC,EAAkB5qE,KAAK6qE,sBAAsB,6BAGnD,OADA7qE,KAAKipE,cAAc6B,OACX/7D,GACN,KAAK,uBACH/O,KAAKipE,cAAc19C,KAAO,0BAC1BvrB,KAAKipE,cAAc8B,QACjB,0DACF/qE,KAAKipE,cAAcnN,MAAQgG,IAC3B,MACF,KAAK,uBACC9hE,KAAKmqE,YACPnqE,KAAKipE,cAAc19C,KAAO,kCAC1BvrB,KAAKipE,cAAc8B,QAAU,sEAE7B/qE,KAAKipE,cAAc19C,KAAO,0BAC1BvrB,KAAKipE,cAAc8B,QAAU,gCAE/B/qE,KAAKipE,cAAcnN,MAAQgG,IAC3B,MACF,KAAK,qBACH9hE,KAAKipE,cAAc19C,KAAO,wBAC1BvrB,KAAKipE,cAAc8B,QAAU,6BAC7B/qE,KAAKipE,cAAcnN,MAAQgG,IAC3B,MACF,KAAK,mBACH9hE,KAAKipE,cAAc19C,KAAO,0BAC1BvrB,KAAKipE,cAAc8B,QAAU,+BAC7B/qE,KAAKipE,cAAcnN,MAAQgG,IAC3B,MACF,QACM6I,IAAcC,GAChB5qE,KAAKipE,cAAcnN,WAAQhkD,EAC3B9X,KAAKipE,cAAc19C,KAAO,qBAC1BvrB,KAAKipE,cAAc8B,QAAU,6CACpB1/C,GACTrrB,KAAKipE,cAAcnN,WAAQhkD,EAC3B9X,KAAKipE,cAAc19C,KAAOF,EAAO2/C,MAAS,aAAe3/C,EAAO2/C,MAAS,WACzEhrE,KAAKipE,cAAc8B,QAAU1/C,EAAO4/C,KAAO5/C,EAAO4/C,KAAO,IAEzDjrE,KAAKkrE,wBAKb,sBACElrE,KAAKipE,cAAc19C,KAAO,GAC1BvrB,KAAKipE,cAAcnN,WAAQhkD,EAC3B9X,KAAKipE,cAAc8B,QAAU,GAC7B/qE,KAAKipE,cAAckC,QAGrB,UAAUp8D,EAAQ/O,KAAKoqE,UAAW1mD,GAChC1jB,KAAKoqE,UAAYr7D,EACjB/O,KAAKorE,UAAU1nD,GAAU2D,MAAKgE,IAC5BrrB,KAAKqqE,WAAah/C,EAClBrrB,KAAKqrE,wBAIT/C,mBAAmB/yC,GAEVA,GAAKA,EAAE7R,UAAYk+C,EAAgBrsC,EAAE7R,SAASwgC,UAGvD2mB,sBAAsBt1C,GAEbA,GAAKA,EAAE7R,UN5jBlB,SAA+BwgC,GAC7B,MAAM2d,EAAU,YAAa3d,GAC7B,OAAOod,IAAsBjmD,SAASwmD,GM0jBVyJ,CAAsB/1C,EAAE7R,SAASwgC,UAG7D,UAAUxgC,GACR,IAAKA,EACH,OAAOyD,QAAQC,aAAQtP,GAGzB,MAAM1B,GAAO,IAAAgV,YAAW1H,EAASwgC,UAEjC,OAAO,YAAgB,CAAE9tC,SACtBiR,MAAK0B,IACJ,GAAwB,MAApBA,EAAK8E,WACP,OAAO,IAAA09C,uBAAsBxiD,GAAM1B,MAAKxK,GAAQiK,KAAKQ,MAAMzK,QAG9DoM,OAAMsM,GAAKhvB,QAAQC,MAAM+uB,MAG9Bpb,QAAO,CAACoV,EAAKxqB,IACJ,YAAgBwqB,EAAKxqB,GAAMsiB,MAAK0B,IAAQ,IAAAwiD,uBAAsBxiD,MAKlE,SAASyiD,EAASnE,GACvB,OAAOpD,EAAKuH,SAASnE,GAEhB,SAASoE,IACdxH,EAAKwH,aAEA,SAAStxD,KAAW/V,GACzB,OAAO6/D,EAAK9pD,WAAW/V,K,6HC9mBzB,MAAMsnE,EAAkB,SAAU,cAAc,SAC1CC,EAAmB,SAAUD,EAAiB,oBAE9CE,EACc,UAAlB,eACI,SAAUpmE,QAAQkW,IAAIge,aAAc,QACpC,SAAU,cAAc,SAExBmyC,EAAa,SAAUD,EAAW,2BAExC,IAAI5rC,EAAS,KAEb,IACM,eAAc2rC,IAChB,YACE,6CAA6CA,MAE/C3rC,EAASlZ,KAAKQ,MACZ,iBAAgBqkD,EAAkB,CAAExhD,SAAU,UAEhD,eAAcwhD,GACiC,IAA3C,gBAAeD,GAAiBzqE,QAClC,cAAayqE,KAGf,YAAe,iCAAiCG,MAChD7rC,EAASlZ,KAAKQ,MAAM,iBAAgBukD,EAAY,CAAE1hD,SAAU,WAE9D,MAAOlnB,GACP+8B,EAAS,GA0BX,SACEjqB,IAXF,SAAa/S,EAAKg4B,GAChB,OAAOh4B,KAAOg9B,EAASA,EAAOh9B,GAAOg4B,GAWrCxT,IAPF,SAAaxkB,EAAKT,GAChBy9B,EAAOh9B,GAAOT,EAnBhB,WACE,MAAM2N,EAAM4W,KAAKC,UAAUiZ,EAAQ,KAAM,GACpC,eAAc4rC,IACjB,cAAaA,GAEf,cAAaC,EAAY37D,EAAK,QAAQjN,IAChCA,GACF,UAAa,oCAAoC4oE,IAAc5oE,MAanE6oE,M,kGC3DF,MAAM,EAA+BC,QAAQ,U,iFCY7C,MAAMC,EAAa,WAAY,IAAM,cAE/BC,EAAc,kBAIdC,EAAW,SAFM,mCAEwB,CAC7CxxD,SAAU,UAIZ,SAASyxD,IACP,IAAIjiD,EAAKkiD,EAAA,MAAgB,cAMzB,YALWt0D,IAAPoS,IAEFA,EAAK+hD,GAAe,gBAAmB,IAAIxrE,SAAS,OACpD2rE,EAAA,MAAgB,aAAcliD,IAEzBA,EAuBT,SAASkD,EAAkB9mB,GAKzB,MAAM8P,GAAO,IAAAi2D,sBAIb,OAFA,UAAa,kBAAmB/lE,IAEzB,IAAAu3D,2BACL,CACEznD,OACAiE,OAAQ,QAEVyM,KAAKC,UAAU,CACbzgB,OACA/D,MAAO,KA0Bb,SACE4pE,aACAF,cACAD,aACA3+C,iBAzBF,SAA0B/mB,GACxB8mB,EAAkB,UAAU9mB,gBAyB5BgnB,iBAtBF,SAA0BhnB,GACxB8mB,EAAkB,UAAU9mB,gBAsB5Bm8B,UAAWn8B,GAAQ8mB,EAAkB9mB,GACrCqmB,UApBF,WACE,OAAQ,gBACN,IAAK,SACH,MAAO,QACT,IAAK,QACH,MAAO,UACT,IAAK,QACH,MAAO,QACT,QACE,MAAO,KAYX2/C,uBAtEF,SAAgCzI,EAAME,GAKpC,MAAM3tD,GAAO,IAAAm2D,iCAEb,OAAO,IAAA1O,2BACL,CACEznD,OACAiE,OAAQ,QAEVyM,KAAKC,UAAU,CACbsC,OAAQ,SACRC,SAAUu6C,EACVE,WAAYA,MAwDhBpjC,MAAO,CAAClU,EAAO+/C,KAOb,MAAMC,EAAY,CAChB1qC,YAAaoqC,IACbO,YAAaT,EACbv/C,QAAS,WACTigD,WAAY,eAGd,IAAI,IAAI3pE,KAAOwpE,EACbC,EAAUzpE,GAAOwpE,EAAMxpE,GAGzBkpE,EAASvrC,MAAMlU,EAAOggD,M,+HCnHX,MAAMG,EACnB,cACE5sE,KAAK6sE,mBAAqB,GAG5B,iBAAiBp5D,KAAYq5D,GAC3B,OAAK9sE,KAAK6sE,mBAAmBp5D,GAOpB0T,QAAQC,WANfpnB,KAAK6sE,mBAAmBp5D,IAAW,EAC5B,4BAA+BA,KAAYq5D,GAASzlD,MAAKhiB,WACvDrF,KAAK6sE,mBAAmBp5D,GACxBpO,MAWb,6BAA6BpC,EAAK8pE,GAChC,SAASC,IACHD,GACF,8BAAiCA,GAGrC,IAAK9pE,EAAI8B,KAEP,YADAioE,IAIF,MAAM,MAAEj+D,EAAK,aAAEif,GAAiB/qB,EAAI8B,KACpC,GAAKipB,EAKL,GAAIjf,GAASA,GAAS,uBACpB,8BAAiC,6EAInC,IACE,MAAQk+D,aAAcC,EAAK,QAAEz5D,GAAYqT,KAAKQ,MAAM0G,GACpD,GAAIk/C,EAAO,CAET,IAAIC,EAAQD,EAAMC,MACJ,KAAVA,GAAiBA,EAAMC,SAAS,OAClCD,GAAS,KAEX,MAAME,EAAcH,EAAMI,QAAQhlE,KAAIilE,GAAUA,EAAOhiD,OACvD,8BACsB,CAAC4hD,EAAOD,EAAMnhC,MAAMl7B,KAAK,QAASw8D,GACrDhmD,MAAKmmD,IACJ,MAAMC,EAAiBP,EAAMI,QAAQpnC,MAAKqnC,GAAUA,EAAOhiD,MAAQiiD,IACnE,OAAOC,EAAe30B,QACpB,IAAK,OACH,IAAK20B,EAAeC,eAKnBj6D,EACT,8BAAiCA,GAEjCu5D,IAEF,MACAA,SAnCAA,IAuCJ,+BAA+BhtC,EAAQypC,GACrC,kCAEI,8BACA,wBACA,yBAEDpiD,MAAKhiB,IACJ,OAAQA,GACN,IAAK,wBACH,IAAK,wDACL,MACF,IAAK,wBACH26B,EAAO2tC,OAAO,oCAAoC,GAAO,OAIjE,mBAAuB,uBACpBtmD,MAAKumD,IAAYA,GAAWnE,EAAiB,YAGlD,mCAAmCpzC,GACjC,gBAAc,4CACd,kCAEI,8HACA,UACA,cAEDhP,MAAKhiB,IACJ,OAAQA,GACN,IAAK,UACEgxB,EAIHA,KAHA,IAAK,qEACL,gBAAc,8CAIhB,MACF,IAAK,aACH,IAAK,qCAMf,yCACE,gBAAc,8CACd,kCAEI,uLACA,KACA,cAEDhP,MAAKhiB,IACJ,OAAQA,GACN,IAAK,KACH,MACF,IAAK,aACH,IAAK,qCAMf,wCAAwCmB,GACtC,gBAAc,oDAAqD,CAAEA,UACrE,4BAEI,sJACA,WAED6gB,MAAKhiB,IACJ,OAAQA,GACN,IAAK,UACH,IAAK,qEACL,gBAAc,oD,8mBCtJ1B,SAASgnE,IACP,MAAO,8BAGT,SAASE,IACP,MAAO,0CAGT,SAASsB,IACP,MAAO,uBAGT,SAASC,IACP,MAAO,oBAGT,SAAS1iD,EAAWhV,GAClB,MAAO,CACL,oBACA,YAAYgY,UAAUi2C,EAAqBjuD,OAC3CvF,KAAK,KAGT,SAAS20D,IACP,MAAO,+BAGT,SAASuI,EAAW/hD,EAAOukC,EAAS,EAAG7tD,EAAQ,IAC7C,MAAO,CACL,qBACA,CACE,KAAK0rB,UAAUpC,KACf,UAAUukC,IACV,SAAS7tD,KACTmO,KAAK,MACPA,KAAK,KAGT,SAASwd,EAAejY,GACtB,MAAO,CACL,wBACA,YAAYgY,UAAUi2C,EAAqBjuD,OAC3CvF,KAAK,KAGT,SAASyd,EAAiBlY,GACxB,MAAO,CACL,gCACA,YAAYgY,UAAUi2C,EAAqBjuD,OAC3CvF,KAAK,KAGT,SAASm9D,EAAahrE,GACpB,MAAO,uBAAyBA,EAGlC,SAASgiE,IACP,MAAO,6BAGT,SAASiJ,EAAWlpE,GAGlB,OAAOmpE,GAFQ,IAAAxP,MAAK35D,EAAKylB,QAEKN,IAGhC,SAASgkD,EAAgBhkD,GACvB,MAAO,qBAAqBA,IAG9B,SAASikD,EAAiBjkD,GACxB,MAAO,sBAAsBA,IAG/B,SAASa,EAAYb,EAAIW,EAAO,EAAGnoB,EAAQ,KACzC,MAAO,CACL,qBAAqBwnB,YACrB,CACE,UAAUW,IACV,SAASnoB,KACTmO,KAAK,MACPA,KAAK,KAGT,SAASoa,EAAWf,EAAIW,EAAO,EAAGnoB,EAAQ,KACxC,MAAO,CACL,qBAAqBwnB,WACrB,CACE,UAAUW,IACV,SAASnoB,KACTmO,KAAK,MACPA,KAAK,KAGT,SAASu9D,EAAUlkD,GACjB,MAAO,sBAAsBA,IAG/B,SAASmkD,EAAYnkD,GACnB,MAAO,wBAAwBA,IAGjC,SAASokD,EAA0BpkD,GAEjC,MADY,yDAAyDqkD,EAASrkD,KAIhF,SAASskD,EAAsBtkD,GAE7B,MADY,yDAAyDqkD,EAASrkD,iBAIhF,SAASukD,EAAoBvkD,GAE3B,MADY,oEAAoEqkD,EAASrkD,KAI3F,SAASG,EAAU3G,EAAUvD,GAC3BA,EAAW,IAAI,cAAgBA,EAASuL,KAAMvL,EAASkpD,WACvD,MAAMt6D,EAAQ,IAAI2U,EAASu/C,WACrB9rD,EAAWuM,EAASwgC,SAI1B,MAAO,CACL,sBAaK91B,UAAUi2C,EAjBQltD,IAkBtBhC,QAAQ,gBAAgB,CAAColB,EAAGwD,IAAM,YAAYA,MAC9C5oB,QAAQ,aAAc,QAfSpG,UAChC,CACE,gBALQ2U,EAAS+gD,SAAStkD,KAM1B,0BACAtP,KAAK,MACPA,KAAK,KAGT,SAAS09D,EAASrkD,GAChB,OAAOkE,UAAUzd,OAAOuZ,IAAK/U,QAAQ,KAAM,OAS7C,SAASu5D,EAAsBxyD,GAC7B,MAAO,GAAGA,EAAM7Z,MAAMssE,OAAOzyD,EAAM7Z,MAAMyxC,UAAU53B,EAAM/O,IAAIwhE,OAAOzyD,EAAM/O,IAAI2mC,SAGhF,SAASuwB,EAAqBn0D,GAC5B,OAAOA,EAAIiF,QAAQ,WAAWolB,GAAKA,EAAEva,kB,snBClJvC,SAAS69C,EAA0BtuC,EAAKxqB,GACtC,OAAO,YAAgBwqB,EAAKxqB,GAAMsiB,MAAK0B,GAAQwiD,EAAsBxiD,KAGvE,MAAMu1C,EAAU16D,GAAKA,EAAEwF,QAAO3H,GAAKA,GAAW,KAANA,IAElCy9D,EAAOt7D,GAAKA,EAAEiF,QAAO,CAAC0xB,EAAG94B,KAAwB,IAAlB84B,EAAEvvB,QAAQvJ,GAAY84B,EAAE/1B,OAAO/C,GAAK84B,GAAG,IAEtEklC,EAAU77D,GACdA,EAAEiF,QAAO,CAAC0xB,EAAG8tB,IAAM9tB,EAAE/1B,OAAO7D,MAAMC,QAAQynD,GAAKoX,EAAQpX,GAAKA,IAAI,IAE5DqW,EAAO96D,GAAKA,EAAE,GACdqzB,EAAOrzB,GAAKA,EAAEA,EAAE3C,OAAS,GACzBsM,EAAM9L,IAAM8E,QAAQgH,IAAI9L,GAAIA,GAQ5Bm9D,EAAavW,GACjBA,GAAKA,EAAEumB,iBACHlQ,EAAKn+D,OAAOsB,KAAKwmD,EAAEumB,mBAAmBx1D,cACtC,SAEA0lD,EAAY,CAACzW,KAAMvmD,IAXR,EAACumD,KAAMjyC,IACtBA,EAAKvN,QAAO,CAAC0xB,EAAGz4B,KACJ,MAANA,GAAay4B,IAAKz4B,EAAI48D,EAAKn+D,OAAOsB,KAAK04B,KACpCA,QAAqB,IAATA,EAAEz4B,GAAqBy4B,EAAEz4B,QAAKgW,IAChDuwC,GAO0BwmB,CAASxmB,EAAG,mBAAoB,OAAQvmD,GAEjEgtE,EAAc,CAACzmB,KAAMvmD,IAA4B,MAAtBg9D,EAAUzW,KAAMvmD,GAE3C+8D,EAAiB,CAACxW,KAAMvmD,KAC5B,MAAML,EAAIq9D,EAAUzW,KAAMvmD,GAC1B,OAAY,MAALL,GAAaA,EAAER,OAAS,GAG3B8tE,EAAa,CAAC1mB,KAAM2mB,IACxB3mB,EAAEkX,QAAWlX,EAAE2mB,SAAWA,EAAQnmE,QAAO,CAAC0xB,EAAGz4B,IACpCy4B,GAAK8tB,EAAE2mB,QAAQltE,IACrB,MAEC09D,EAAsBnX,IAC1B,MAAMn1B,EAAOwrC,EAAKn+D,OAAOsB,KAAKwmD,EAAE2mB,SAAS5lE,QAAOtH,GAAKumD,EAAE2mB,QAAQltE,MAC/D,MAAa,aAAToxB,EACKm1B,EAAE2mB,QAAQC,SACC,SAAT/7C,EACF4rC,EAAUzW,EAAE2mB,QAAQ97C,KAAM,eAG5B,MAGH7K,EAAQ,CAACzkB,EAAGC,KAChB,MAAM8Q,EAAI,GACV,IAAK,MAAM7S,KAAK8B,EAAK+Q,EAAE7S,GAAK8B,EAAE9B,GAC9B,IAAK,MAAMA,KAAK+B,EAAK8Q,EAAE7S,GAAK+B,EAAE/B,GAC9B,OAAO6S,GAGHsxD,EAAY7sC,GAAKA,EAAEjkB,QAAQ,WAAY,IAEvC2yB,EAAW,CAAC1O,EAAGvrB,EAAI,MACvBurB,GAAKA,EAAEn4B,OAAS4M,EACZurB,EAAE3uB,MAAM,EAAGoD,GAAK,IAChBurB,EAEN,SAAS2B,EAAUh2B,EAAMi2B,GACvB,IACE,OAAOlU,KAAKQ,MAAMviB,GAClB,MAAOwwB,GACP,OAAOyF,GAKX,SAASk0C,EAAaC,GAEpB,QADU,IAAIjuD,MACFO,UAAY0tD,EAAK1tD,WAAa,IAG5C,SAAS0Y,EAAiBhgB,GACxB,OAAOA,EAAQkN,KACXlN,EACA,IAAIgN,SAAQ,CAACC,EAAS7d,KACtB4Q,EAAQ1H,GAAG,YAAYsW,GAAQ3B,EAAQ2B,KACvC5O,EAAQ1H,GAAG,SAASxP,GAAOsG,EAAOtG,QAIxC,SAASsoE,EAAsBrzD,GAC7B,OAAO,IAAIiP,SAAQ,CAACC,EAAS7d,KAC3B,IAAIxE,EAAO,GACXmT,EAASzF,GAAG,QAAQykB,GAASnyB,GAAQmyB,IACrChf,EAASzF,GAAG,OAAO,IAAM2U,EAAQriB,KACjCmT,EAASzF,GAAG,SAASxP,GAAOsG,EAAOtG,QAIvC,SAASmsE,EAAa7oD,EAAS0I,GAC7B,OAAO,IAAI9H,SAAQ,CAACC,EAAS7d,KAC3BlC,YAAW,KACTkf,IAAUc,KAAKD,EAAS7d,KACvB0lB,MAIP,MAAMogD,EAA4B/0B,GAAK,SAAS/kB,GAG9C,OAFAA,EAAE+5C,kBACF/5C,EAAEg6C,iBACKj1B,GAAKA,EAAEx5C,KAAKd,KAAMu1B,IAGrBqzC,EAAqBllD,GACzB,sCAAwC6R,GAAKA,EAAE7R,WAAaA,IAE9D,SAASxJ,EAAQsF,GACf,OAAOA,EAAIwM,MAAMnM,MAAM,KAAKhX,QAAO,CAAC0xB,EAAGpM,KACrC,MAAOrsB,EAAEL,GAAK0sB,EAAEtO,MAAM,KAEtB,OADA0a,EAAEz4B,GAAKL,EACA84B,IACN,IAGL,MAAMyjC,EAA0B3V,GAC3B,YAAiB,SACXvhC,KAAKC,UAAUshC,GAAGlzC,QAAQ,KAAM,UAEpB,SAAjB,eACK2R,KAAKC,UAAUshC,GAAGlzC,QAAQ,QAAS,KAErC2R,KAAKC,UAAUshC,GAGlByV,EAAYt+C,IAChB,MAAM9D,EAAMnb,OAAOw3B,OAAO,GAAIvyB,QAAQkW,KAEtC,cADOA,EAA0B,qBAC1B,gBACL,IAAK,SACH,cAAa,OAAQ,CAAC8D,GAAM,CAAE9D,IAAKA,IACnC,MACF,IAAK,QACH,cAAa,MAAO,CAAC,KAAM,KAAM,QAAQ,GAAI8D,GAAM,CAAE9D,IAAKA,IAC1D,MACF,IAAK,QACH,cAAa,WAAY,CAAC8D,GAAM,CAAE9D,IAAKA,MAIvC8zD,EAAe,IAAIpkB,IAAI,CAC3B,CAAC,IAAK,KACN,CAAC,KAAK,OACN,CAAC,MAAM,OACP,CAAC,KAAK,UACN,CAAC,MAAM,OACP,CAAC,KAAK,MACN,CAAC,IAAI,KACL,CAAC,MAAM,OACP,CAAC,OAAO,QACR,CAAC,OAAQ,QACT,CAAC,KAAM,cACP,CAAC,MAAM,OACP,CAAC,KAAK,UACN,CAAC,OAAO,QACR,CAAC,IAAI,cACL,CAAC,MAAO,OACR,CAAC,KAAM,UACP,CAAC,MAAO,UACR,CAAC,KAAK,QACN,CAAC,QAAQ,SACT,CAAC,KAAK,QACN,CAAC,KAAK,cACN,CAAC,MAAM,OACP,CAAC,MAAM,SAGH0Y,EAAuBpgD,IAC3B,GAAIA,EAAS+rD,WACX,OAAO,KAGT,MAAMhO,EAAM/9C,EAASwgC,SAASrkC,MAAM,KAAKpV,OAAO,GAAG,GACnD,OAAI+kE,EAAa3xC,IAAI4jC,GACZ+N,EAAaz5D,IAAI0rD,GAEnB,O,sBC/LThzD,EAAOC,QAAUq9D,QAAQ,W,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,kB,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,W,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,O,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,S,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,U,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,O,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,S,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,Y,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,gB,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,W,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,Q,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,S,sBCAzBt9D,EAAOC,QAAUq9D,QAAQ,YCCrB2D,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUlhE,QAG3C,IAAID,EAASihE,EAAyBE,GAAY,CAGjDlhE,QAAS,IAOV,OAHAmhE,EAAoBD,GAAU9uE,KAAK2N,EAAOC,QAASD,EAAQA,EAAOC,QAASihE,GAGpElhE,EAAOC,QCjBf,OCFAihE,EAAoB97D,EAAKpF,IACxB,IAAIqhE,EAASrhE,GAAUA,EAAOshE,WAC7B,IAAMthE,EAAgB,QACtB,IAAMA,EAEP,OADAkhE,EAAoB5xC,EAAE+xC,EAAQ,CAAElsE,EAAGksE,IAC5BA,GCLRH,EAAoB5xC,EAAI,CAACrvB,EAASyvD,KACjC,IAAI,IAAIn7D,KAAOm7D,EACXwR,EAAoBtnB,EAAE8V,EAAYn7D,KAAS2sE,EAAoBtnB,EAAE35C,EAAS1L,IAC5EzC,OAAOqV,eAAelH,EAAS1L,EAAK,CAAE8S,YAAY,EAAMC,IAAKooD,EAAWn7D,MCJ3E2sE,EAAoBtnB,EAAI,CAACxnD,EAAK2X,IAASjY,OAAOC,UAAUuB,eAAejB,KAAKD,EAAK2X,GCCjFm3D,EAAoBz5D,EAAKxH,IACH,oBAAXshE,QAA0BA,OAAOC,aAC1C1vE,OAAOqV,eAAelH,EAASshE,OAAOC,YAAa,CAAE1tE,MAAO,WAE7DhC,OAAOqV,eAAelH,EAAS,aAAc,CAAEnM,OAAO,KJFhDotE,EAAoB,O","file":"kite-extension.js","sourcesContent":["/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    if (typeof window == 'object' && this === window) {\n        root = window;\n    }\n    else if (typeof global == 'object' && this === global) {\n        root = global;\n    }\n    else {\n        root = this;\n    }\n\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    function _once(fn) {\n        var called = false;\n        return function() {\n            if (called) return;\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _each(coll, iterator) {\n        return _isArrayLike(coll) ?\n            _arrayEach(coll, iterator) :\n            _forEachOf(coll, iterator);\n    }\n\n    function _arrayEach(arr, iterator) {\n      var index = -1,\n          length = arr.length;\n\n      while (++index < length) {\n        iterator(arr[index], index, arr);\n      }\n    }\n\n    function _map(arr, iterator) {\n      var index = -1,\n          length = arr.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iterator(arr[index], index, arr);\n      }\n      return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    function _baseSlice(arr, start) {\n        start = start || 0;\n        var index = -1;\n        var length = arr.length;\n\n        if (start) {\n          length -= start;\n          length = length < 0 ? 0 : length;\n        }\n        var result = Array(length);\n\n        while (++index < length) {\n          result[index] = arr[index + start];\n        }\n        return result;\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate;\n    if (typeof setImmediate === 'function') {\n        _setImmediate = setImmediate;\n    }\n\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (_setImmediate) {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                _setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (_setImmediate) {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              _setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n        var size = _isArrayLike(object) ? object.length : _keys(object).length;\n        var completed = 0;\n        if (!size) {\n            return callback(null);\n        }\n        _each(object, function (value, key) {\n            iterator(object[key], key, only_once(done));\n        });\n        function done(err) {\n          if (err) {\n              callback(err);\n          }\n          else {\n              completed += 1;\n              if (completed >= size) {\n                  callback(null);\n              }\n          }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.nextTick(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(limit, fn) {\n        return function (obj, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        var results = [];\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    function _mapLimit(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    }\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err || null, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _detect(eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = noop;\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function () {\n            main_callback();\n        });\n    }\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.any =\n    async.some = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(false);\n        });\n    };\n\n    async.all =\n    async.every = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(true);\n        });\n    };\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            function taskCallback(err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _arrayEach(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            }\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has inexistant dependency');\n                }\n                if (_isArray(dep) && !!~dep.indexOf(k)) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var attempts = [];\n        // Use defaults if times not passed\n        if (typeof times === 'function') {\n            callback = task;\n            task = times;\n            times = DEFAULT_TIMES;\n        }\n        // Make sure times is a number\n        times = parseInt(times, 10) || DEFAULT_TIMES;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            while (times) {\n                attempts.push(retryAttempt(task, !(times-=1)));\n            }\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                }\n                else {\n                    var args = _baseSlice(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            };\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        async.eachOfSeries(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = _baseSlice(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(_baseSlice(arguments))\n            );\n        };\n    };\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (test.apply(null, args)) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (!test.apply(null, args)) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                   q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                  q.tasks.unshift(item);\n                } else {\n                  q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (!q.paused && workers < q.concurrency && q.tasks.length) {\n                    while(workers < q.concurrency && q.tasks.length){\n                        var tasks = payload ?\n                            q.tasks.splice(0, payload) :\n                            q.tasks.splice(0, q.tasks.length);\n\n                        var data = _map(tasks, function (task) {\n                            return task.data;\n                        });\n\n                        if (q.tasks.length === 0) {\n                            q.empty();\n                        }\n                        workers += 1;\n                        var cb = only_once(_next(q, tasks));\n                        worker(data, cb);\n                    }\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n          var beg = -1,\n              end = sequence.length - 1;\n          while (beg < end) {\n              var mid = beg + ((end - beg + 1) >>> 1);\n              if (compare(item, sequence[mid]) >= 0) {\n                  beg = mid;\n              } else {\n                  end = mid - 1;\n              }\n          }\n          return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return function (fn) {\n            var args = _baseSlice(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        function memoized() {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                async.nextTick(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = _baseSlice(arguments);\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        }\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return function () {\n            var that = this;\n            var args = _baseSlice(arguments);\n\n            var callback = args.slice(-1)[0];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = _baseSlice(arguments, 1);\n                    cb(err, nextargs);\n                }]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    async.compose = function (/* functions... */) {\n      return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn, fns /*args...*/) {\n        function go() {\n            var that = this;\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, _, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        }\n        if (arguments.length > 2) {\n            var args = _baseSlice(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    }\n\n    async.applyEach = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOf].concat(args));\n    };\n    async.applyEachSeries = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOfSeries].concat(args));\n    };\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return function (/*...args, callback*/) {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        };\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    // Node.js\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData();\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) )) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err) {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    request.setHeader('Content-Length', length);\n\n    this.pipe(request);\n    if (cb) {\n      request.on('error', cb);\n      request.on('response', cb.bind(this, null));\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\nconst fs = require('fs');\n\nlet isDocker;\n\nfunction hasDockerEnv() {\n\ttry {\n\t\tfs.statSync('/.dockerenv');\n\t\treturn true;\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nfunction hasDockerCGroup() {\n\ttry {\n\t\treturn fs.readFileSync('/proc/self/cgroup', 'utf8').includes('docker');\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nmodule.exports = () => {\n\tif (isDocker === undefined) {\n\t\tisDocker = hasDockerEnv() || hasDockerCGroup();\n\t}\n\n\treturn isDocker;\n};\n","'use strict';\nconst os = require('os');\nconst fs = require('fs');\nconst isDocker = require('is-docker');\n\nconst isWsl = () => {\n\tif (process.platform !== 'linux') {\n\t\treturn false;\n\t}\n\n\tif (os.release().toLowerCase().includes('microsoft')) {\n\t\tif (isDocker()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\ttry {\n\t\treturn fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?\n\t\t\t!isDocker() : false;\n\t} catch (_) {\n\t\treturn false;\n\t}\n};\n\nif (process.env.__IS_WSL_TEST__) {\n\tmodule.exports = isWsl;\n} else {\n\tmodule.exports = isWsl();\n}\n","/*!\n * is.js 0.8.0\n * Author: Aras Atasaygin\n */\n\n// AMD with global, Node, or global\n;(function(root, factory) {    // eslint-disable-line no-extra-semi\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function() {\n            // Also create a global in case some scripts\n            // that are loaded still are looking for\n            // a global even when an AMD loader is in use.\n            return (root.is = factory());\n        });\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is self)\n        root.is = factory();\n    }\n}(this, function() {\n\n    // Baseline\n    /* -------------------------------------------------------------------------- */\n\n    // define 'is' object and current version\n    var is = {};\n    is.VERSION = '0.8.0';\n\n    // define interfaces\n    is.not = {};\n    is.all = {};\n    is.any = {};\n\n    // cache some methods to call later on\n    var toString = Object.prototype.toString;\n    var slice = Array.prototype.slice;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    // helper function which reverses the sense of predicate result\n    function not(func) {\n        return function() {\n            return !func.apply(null, slice.call(arguments));\n        };\n    }\n\n    // helper function which call predicate function per parameter and return true if all pass\n    function all(func) {\n        return function() {\n            var params = getParams(arguments);\n            var length = params.length;\n            for (var i = 0; i < length; i++) {\n                if (!func.call(null, params[i])) {\n                    return false;\n                }\n            }\n            return true;\n        };\n    }\n\n    // helper function which call predicate function per parameter and return true if any pass\n    function any(func) {\n        return function() {\n            var params = getParams(arguments);\n            var length = params.length;\n            for (var i = 0; i < length; i++) {\n                if (func.call(null, params[i])) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    }\n\n    // build a 'comparator' object for various comparison checks\n    var comparator = {\n        '<': function(a, b) { return a < b; },\n        '<=': function(a, b) { return a <= b; },\n        '>': function(a, b) { return a > b; },\n        '>=': function(a, b) { return a >= b; }\n    }\n\n    // helper function which compares a version to a range\n    function compareVersion(version, range) {\n        var string = (range + '');\n        var n = +(string.match(/\\d+/) || NaN);\n        var op = string.match(/^[<>]=?|/)[0];\n        return comparator[op] ? comparator[op](version, n) : (version == n || n !== n);\n    }\n\n    // helper function which extracts params from arguments\n    function getParams(args) {\n        var params = slice.call(args);\n        var length = params.length;\n        if (length === 1 && is.array(params[0])) {    // support array\n            params = params[0];\n        }\n        return params;\n    }\n\n    // Type checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given value Arguments?\n    is.arguments = function(value) {    // fallback check is for IE\n        return toString.call(value) === '[object Arguments]' ||\n            (value != null && typeof value === 'object' && 'callee' in value);\n    };\n\n    // is a given value Array?\n    is.array = Array.isArray || function(value) {    // check native isArray first\n        return toString.call(value) === '[object Array]';\n    };\n\n    // is a given value Boolean?\n    is.boolean = function(value) {\n        return value === true || value === false || toString.call(value) === '[object Boolean]';\n    };\n\n    // is a given value Char?\n    is.char = function(value) {\n        return is.string(value) && value.length === 1;\n    };\n\n    // is a given value Date Object?\n    is.date = function(value) {\n        return toString.call(value) === '[object Date]';\n    };\n\n    // is a given object a DOM node?\n    is.domNode = function(object) {\n        return is.object(object) && object.nodeType > 0;\n    };\n\n    // is a given value Error object?\n    is.error = function(value) {\n        return toString.call(value) === '[object Error]';\n    };\n\n    // is a given value function?\n    is['function'] = function(value) {    // fallback check is for IE\n        return toString.call(value) === '[object Function]' || typeof value === 'function';\n    };\n\n    // is given value a pure JSON object?\n    is.json = function(value) {\n        return toString.call(value) === '[object Object]';\n    };\n\n    // is a given value NaN?\n    is.nan = function(value) {    // NaN is number :) Also it is the only value which does not equal itself\n        return value !== value;\n    };\n\n    // is a given value null?\n    is['null'] = function(value) {\n        return value === null;\n    };\n\n    // is a given value number?\n    is.number = function(value) {\n        return is.not.nan(value) && toString.call(value) === '[object Number]';\n    };\n\n    // is a given value object?\n    is.object = function(value) {\n        return Object(value) === value;\n    };\n\n    // is a given value RegExp?\n    is.regexp = function(value) {\n        return toString.call(value) === '[object RegExp]';\n    };\n\n    // are given values same type?\n    // prevent NaN, Number same type check\n    is.sameType = function(value, other) {\n        var tag = toString.call(value);\n        if (tag !== toString.call(other)) {\n            return false;\n        }\n        if (tag === '[object Number]') {\n            return !is.any.nan(value, other) || is.all.nan(value, other);\n        }\n        return true;\n    };\n    // sameType method does not support 'all' and 'any' interfaces\n    is.sameType.api = ['not'];\n\n    // is a given value String?\n    is.string = function(value) {\n        return toString.call(value) === '[object String]';\n    };\n\n    // is a given value undefined?\n    is.undefined = function(value) {\n        return value === void 0;\n    };\n\n    // is a given value window?\n    // setInterval method is only available for window object\n    is.windowObject = function(value) {\n        return value != null && typeof value === 'object' && 'setInterval' in value;\n    };\n\n    // Presence checks\n    /* -------------------------------------------------------------------------- */\n\n    //is a given value empty? Objects, arrays, strings\n    is.empty = function(value) {\n        if (is.object(value)) {\n            var length = Object.getOwnPropertyNames(value).length;\n            if (length === 0 || (length === 1 && is.array(value)) ||\n                    (length === 2 && is.arguments(value))) {\n                return true;\n            }\n            return false;\n        }\n        return value === '';\n    };\n\n    // is a given value existy?\n    is.existy = function(value) {\n        return value != null;\n    };\n\n    // is a given value falsy?\n    is.falsy = function(value) {\n        return !value;\n    };\n\n    // is a given value truthy?\n    is.truthy = not(is.falsy);\n\n    // Arithmetic checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given number above minimum parameter?\n    is.above = function(n, min) {\n        return is.all.number(n, min) && n > min;\n    };\n    // above method does not support 'all' and 'any' interfaces\n    is.above.api = ['not'];\n\n    // is a given number decimal?\n    is.decimal = function(n) {\n        return is.number(n) && n % 1 !== 0;\n    };\n\n    // are given values equal? supports numbers, strings, regexes, booleans\n    // TODO: Add object and array support\n    is.equal = function(value, other) {\n        // check 0 and -0 equity with Infinity and -Infinity\n        if (is.all.number(value, other)) {\n            return value === other && 1 / value === 1 / other;\n        }\n        // check regexes as strings too\n        if (is.all.string(value, other) || is.all.regexp(value, other)) {\n            return '' + value === '' + other;\n        }\n        if (is.all.boolean(value, other)) {\n            return value === other;\n        }\n        return false;\n    };\n    // equal method does not support 'all' and 'any' interfaces\n    is.equal.api = ['not'];\n\n    // is a given number even?\n    is.even = function(n) {\n        return is.number(n) && n % 2 === 0;\n    };\n\n    // is a given number finite?\n    is.finite = isFinite || function(n) {\n        return is.not.infinite(n) && is.not.nan(n);\n    };\n\n    // is a given number infinite?\n    is.infinite = function(n) {\n        return n === Infinity || n === -Infinity;\n    };\n\n    // is a given number integer?\n    is.integer = function(n) {\n        return is.number(n) && n % 1 === 0;\n    };\n\n    // is a given number negative?\n    is.negative = function(n) {\n        return is.number(n) && n < 0;\n    };\n\n    // is a given number odd?\n    is.odd = function(n) {\n        return is.number(n) && n % 2 === 1;\n    };\n\n    // is a given number positive?\n    is.positive = function(n) {\n        return is.number(n) && n > 0;\n    };\n\n    // is a given number above maximum parameter?\n    is.under = function(n, max) {\n        return is.all.number(n, max) && n < max;\n    };\n    // least method does not support 'all' and 'any' interfaces\n    is.under.api = ['not'];\n\n    // is a given number within minimum and maximum parameters?\n    is.within = function(n, min, max) {\n        return is.all.number(n, min, max) && n > min && n < max;\n    };\n    // within method does not support 'all' and 'any' interfaces\n    is.within.api = ['not'];\n\n    // Regexp checks\n    /* -------------------------------------------------------------------------- */\n    // Steven Levithan, Jan Goyvaerts: Regular Expressions Cookbook\n    // Scott Gonzalez: Email address validation\n\n    // dateString match m/d/yy and mm/dd/yyyy, allowing any combination of one or two digits for the day and month, and two or four digits for the year\n    // eppPhone match extensible provisioning protocol format\n    // nanpPhone match north american number plan format\n    // time match hours, minutes, and seconds, 24-hour clock\n    var regexes = {\n        affirmative: /^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,\n        alphaNumeric: /^[A-Za-z0-9]+$/,\n        caPostalCode: /^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\\s?[0-9][A-Z][0-9]$/,\n        creditCard: /^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,\n        dateString: /^(1[0-2]|0?[1-9])([\\/-])(3[01]|[12][0-9]|0?[1-9])(?:\\2)(?:[0-9]{2})?[0-9]{2}$/,\n        email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i, // eslint-disable-line no-control-regex\n        eppPhone: /^\\+[0-9]{1,3}\\.[0-9]{4,14}(?:x.+)?$/,\n        hexadecimal: /^(?:0x)?[0-9a-fA-F]+$/,\n        hexColor: /^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,\n        ipv4: /^(?:(?:\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])$/,\n        ipv6: /^((?=.*::)(?!.*::.+::)(::)?([\\dA-F]{1,4}:(:|\\b)|){5}|([\\dA-F]{1,4}:){6})((([\\dA-F]{1,4}((?!\\3)::|:\\b|$))|(?!\\2\\3)){2}|(((2[0-4]|1\\d|[1-9])?\\d|25[0-5])\\.?\\b){4})$/i,\n        nanpPhone: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\n        socialSecurityNumber: /^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,\n        timeString: /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,\n        ukPostCode: /^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,\n        url: /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/i,\n        usZipCode: /^[0-9]{5}(?:-[0-9]{4})?$/\n    };\n\n    function regexpCheck(regexp, regexes) {\n        is[regexp] = function(value) {\n            return regexes[regexp].test(value);\n        };\n    }\n\n    // create regexp checks methods from 'regexes' object\n    for (var regexp in regexes) {\n        if (regexes.hasOwnProperty(regexp)) {\n            regexpCheck(regexp, regexes);\n        }\n    }\n\n    // simplify IP checks by calling the regex helpers for IPv4 and IPv6\n    is.ip = function(value) {\n        return is.ipv4(value) || is.ipv6(value);\n    };\n\n    // String checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given string or sentence capitalized?\n    is.capitalized = function(string) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        var words = string.split(' ');\n        for (var i = 0; i < words.length; i++) {\n            var word = words[i];\n            if (word.length) {\n                var chr = word.charAt(0);\n                if (chr !== chr.toUpperCase()) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n\n    // is string end with a given target parameter?\n    is.endWith = function(string, target) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        target += '';\n        var position = string.length - target.length;\n        return position >= 0 && string.indexOf(target, position) === position;\n    };\n    // endWith method does not support 'all' and 'any' interfaces\n    is.endWith.api = ['not'];\n\n    // is a given string include parameter target?\n    is.include = function(string, target) {\n        return string.indexOf(target) > -1;\n    };\n    // include method does not support 'all' and 'any' interfaces\n    is.include.api = ['not'];\n\n    // is a given string all lowercase?\n    is.lowerCase = function(string) {\n        return is.string(string) && string === string.toLowerCase();\n    };\n\n    // is a given string palindrome?\n    is.palindrome = function(string) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        string = string.replace(/[^a-zA-Z0-9]+/g, '').toLowerCase();\n        var length = string.length - 1;\n        for (var i = 0, half = Math.floor(length / 2); i <= half; i++) {\n            if (string.charAt(i) !== string.charAt(length - i)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // is a given value space?\n    // horizantal tab: 9, line feed: 10, vertical tab: 11, form feed: 12, carriage return: 13, space: 32\n    is.space = function(value) {\n        if (is.not.char(value)) {\n            return false;\n        }\n        var charCode = value.charCodeAt(0);\n        return (charCode > 8 && charCode < 14) || charCode === 32;\n    };\n\n    // is string start with a given target parameter?\n    is.startWith = function(string, target) {\n        return is.string(string) && string.indexOf(target) === 0;\n    };\n    // startWith method does not support 'all' and 'any' interfaces\n    is.startWith.api = ['not'];\n\n    // is a given string all uppercase?\n    is.upperCase = function(string) {\n        return is.string(string) && string === string.toUpperCase();\n    };\n\n    // Time checks\n    /* -------------------------------------------------------------------------- */\n\n    var days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    var months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n    // is a given dates day equal given day parameter?\n    is.day = function(date, day) {\n        return is.date(date) && day.toLowerCase() === days[date.getDay()];\n    };\n    // day method does not support 'all' and 'any' interfaces\n    is.day.api = ['not'];\n\n    // is a given date in daylight saving time?\n    is.dayLightSavingTime = function(date) {\n        var january = new Date(date.getFullYear(), 0, 1);\n        var july = new Date(date.getFullYear(), 6, 1);\n        var stdTimezoneOffset = Math.max(january.getTimezoneOffset(), july.getTimezoneOffset());\n        return date.getTimezoneOffset() < stdTimezoneOffset;\n    };\n\n    // is a given date future?\n    is.future = function(date) {\n        var now = new Date();\n        return is.date(date) && date.getTime() > now.getTime();\n    };\n\n    // is date within given range?\n    is.inDateRange = function(date, start, end) {\n        if (is.not.date(date) || is.not.date(start) || is.not.date(end)) {\n            return false;\n        }\n        var stamp = date.getTime();\n        return stamp > start.getTime() && stamp < end.getTime();\n    };\n    // inDateRange method does not support 'all' and 'any' interfaces\n    is.inDateRange.api = ['not'];\n\n    // is a given date in last month range?\n    is.inLastMonth = function(date) {\n        return is.inDateRange(date, new Date(new Date().setMonth(new Date().getMonth() - 1)), new Date());\n    };\n\n    // is a given date in last week range?\n    is.inLastWeek = function(date) {\n        return is.inDateRange(date, new Date(new Date().setDate(new Date().getDate() - 7)), new Date());\n    };\n\n    // is a given date in last year range?\n    is.inLastYear = function(date) {\n        return is.inDateRange(date, new Date(new Date().setFullYear(new Date().getFullYear() - 1)), new Date());\n    };\n\n    // is a given date in next month range?\n    is.inNextMonth = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setMonth(new Date().getMonth() + 1)));\n    };\n\n    // is a given date in next week range?\n    is.inNextWeek = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setDate(new Date().getDate() + 7)));\n    };\n\n    // is a given date in next year range?\n    is.inNextYear = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setFullYear(new Date().getFullYear() + 1)));\n    };\n\n    // is the given year a leap year?\n    is.leapYear = function(year) {\n        return is.number(year) && ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\n    };\n\n    // is a given dates month equal given month parameter?\n    is.month = function(date, month) {\n        return is.date(date) && month.toLowerCase() === months[date.getMonth()];\n    };\n    // month method does not support 'all' and 'any' interfaces\n    is.month.api = ['not'];\n\n    // is a given date past?\n    is.past = function(date) {\n        var now = new Date();\n        return is.date(date) && date.getTime() < now.getTime();\n    };\n\n    // is a given date in the parameter quarter?\n    is.quarterOfYear = function(date, quarter) {\n        return is.date(date) && is.number(quarter) && quarter === Math.floor((date.getMonth() + 3) / 3);\n    };\n    // quarterOfYear method does not support 'all' and 'any' interfaces\n    is.quarterOfYear.api = ['not'];\n\n    // is a given date indicate today?\n    is.today = function(date) {\n        var now = new Date();\n        var todayString = now.toDateString();\n        return is.date(date) && date.toDateString() === todayString;\n    };\n\n    // is a given date indicate tomorrow?\n    is.tomorrow = function(date) {\n        var now = new Date();\n        var tomorrowString = new Date(now.setDate(now.getDate() + 1)).toDateString();\n        return is.date(date) && date.toDateString() === tomorrowString;\n    };\n\n    // is a given date weekend?\n    // 6: Saturday, 0: Sunday\n    is.weekend = function(date) {\n        return is.date(date) && (date.getDay() === 6 || date.getDay() === 0);\n    };\n\n    // is a given date weekday?\n    is.weekday = not(is.weekend);\n\n    // is a given dates year equal given year parameter?\n    is.year = function(date, year) {\n        return is.date(date) && is.number(year) && year === date.getFullYear();\n    };\n    // year method does not support 'all' and 'any' interfaces\n    is.year.api = ['not'];\n\n    // is a given date indicate yesterday?\n    is.yesterday = function(date) {\n        var now = new Date();\n        var yesterdayString = new Date(now.setDate(now.getDate() - 1)).toDateString();\n        return is.date(date) && date.toDateString() === yesterdayString;\n    };\n\n    // Environment checks\n    /* -------------------------------------------------------------------------- */\n\n    var freeGlobal = is.windowObject(typeof global == 'object' && global) && global;\n    var freeSelf = is.windowObject(typeof self == 'object' && self) && self;\n    var thisGlobal = is.windowObject(typeof this == 'object' && this) && this;\n    var root = freeGlobal || freeSelf || thisGlobal || Function('return this')();\n\n    var document = freeSelf && freeSelf.document;\n    var previousIs = root.is;\n\n    // store navigator properties to use later\n    var navigator = freeSelf && freeSelf.navigator;\n    var appVersion = (navigator && navigator.appVersion || '').toLowerCase();\n    var userAgent = (navigator && navigator.userAgent || '').toLowerCase();\n    var vendor = (navigator && navigator.vendor || '').toLowerCase();\n\n    // is current device android?\n    is.android = function() {\n        return /android/.test(userAgent);\n    };\n    // android method does not support 'all' and 'any' interfaces\n    is.android.api = ['not'];\n\n    // is current device android phone?\n    is.androidPhone = function() {\n        return /android/.test(userAgent) && /mobile/.test(userAgent);\n    };\n    // androidPhone method does not support 'all' and 'any' interfaces\n    is.androidPhone.api = ['not'];\n\n    // is current device android tablet?\n    is.androidTablet = function() {\n        return /android/.test(userAgent) && !/mobile/.test(userAgent);\n    };\n    // androidTablet method does not support 'all' and 'any' interfaces\n    is.androidTablet.api = ['not'];\n\n    // is current device blackberry?\n    is.blackberry = function() {\n        return /blackberry/.test(userAgent) || /bb10/.test(userAgent);\n    };\n    // blackberry method does not support 'all' and 'any' interfaces\n    is.blackberry.api = ['not'];\n\n    // is current browser chrome?\n    // parameter is optional\n    is.chrome = function(range) {\n        var match = /google inc/.test(vendor) ? userAgent.match(/(?:chrome|crios)\\/(\\d+)/) : null;\n        return match !== null && compareVersion(match[1], range);\n    };\n    // chrome method does not support 'all' and 'any' interfaces\n    is.chrome.api = ['not'];\n\n    // is current device desktop?\n    is.desktop = function() {\n        return is.not.mobile() && is.not.tablet();\n    };\n    // desktop method does not support 'all' and 'any' interfaces\n    is.desktop.api = ['not'];\n\n    // is current browser edge?\n    // parameter is optional\n    is.edge = function(range) {\n        var match = userAgent.match(/edge\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // edge method does not support 'all' and 'any' interfaces\n    is.edge.api = ['not'];\n\n    // is current browser firefox?\n    // parameter is optional\n    is.firefox = function(range) {\n        var match = userAgent.match(/(?:firefox|fxios)\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // firefox method does not support 'all' and 'any' interfaces\n    is.firefox.api = ['not'];\n\n    // is current browser internet explorer?\n    // parameter is optional\n    is.ie = function(range) {\n        var match = userAgent.match(/(?:msie |trident.+?; rv:)(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ie method does not support 'all' and 'any' interfaces\n    is.ie.api = ['not'];\n\n    // is current device ios?\n    is.ios = function() {\n        return is.iphone() || is.ipad() || is.ipod();\n    };\n    // ios method does not support 'all' and 'any' interfaces\n    is.ios.api = ['not'];\n\n    // is current device ipad?\n    // parameter is optional\n    is.ipad = function(range) {\n        var match = userAgent.match(/ipad.+?os (\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ipad method does not support 'all' and 'any' interfaces\n    is.ipad.api = ['not'];\n\n    // is current device iphone?\n    // parameter is optional\n    is.iphone = function(range) {\n        // original iPhone doesn't have the os portion of the UA\n        var match = userAgent.match(/iphone(?:.+?os (\\d+))?/);\n        return match !== null && compareVersion(match[1] || 1, range);\n    };\n    // iphone method does not support 'all' and 'any' interfaces\n    is.iphone.api = ['not'];\n\n    // is current device ipod?\n    // parameter is optional\n    is.ipod = function(range) {\n        var match = userAgent.match(/ipod.+?os (\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ipod method does not support 'all' and 'any' interfaces\n    is.ipod.api = ['not'];\n\n    // is current operating system linux?\n    is.linux = function() {\n        return /linux/.test(appVersion);\n    };\n    // linux method does not support 'all' and 'any' interfaces\n    is.linux.api = ['not'];\n\n    // is current operating system mac?\n    is.mac = function() {\n        return /mac/.test(appVersion);\n    };\n    // mac method does not support 'all' and 'any' interfaces\n    is.mac.api = ['not'];\n\n    // is current device mobile?\n    is.mobile = function() {\n        return is.iphone() || is.ipod() || is.androidPhone() || is.blackberry() || is.windowsPhone();\n    };\n    // mobile method does not support 'all' and 'any' interfaces\n    is.mobile.api = ['not'];\n\n    // is current state offline?\n    is.offline = not(is.online);\n    // offline method does not support 'all' and 'any' interfaces\n    is.offline.api = ['not'];\n\n    // is current state online?\n    is.online = function() {\n        return !navigator || navigator.onLine === true;\n    };\n    // online method does not support 'all' and 'any' interfaces\n    is.online.api = ['not'];\n\n    // is current browser opera?\n    // parameter is optional\n    is.opera = function(range) {\n        var match = userAgent.match(/(?:^opera.+?version|opr)\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // opera method does not support 'all' and 'any' interfaces\n    is.opera.api = ['not'];\n\n    // is current browser phantomjs?\n    // parameter is optional\n    is.phantom = function(range) {\n        var match = userAgent.match(/phantomjs\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // phantom method does not support 'all' and 'any' interfaces\n    is.phantom.api = ['not'];\n\n    // is current browser safari?\n    // parameter is optional\n    is.safari = function(range) {\n        var match = userAgent.match(/version\\/(\\d+).+?safari/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // safari method does not support 'all' and 'any' interfaces\n    is.safari.api = ['not'];\n\n    // is current device tablet?\n    is.tablet = function() {\n        return is.ipad() || is.androidTablet() || is.windowsTablet();\n    };\n    // tablet method does not support 'all' and 'any' interfaces\n    is.tablet.api = ['not'];\n\n    // is current device supports touch?\n    is.touchDevice = function() {\n        return !!document && ('ontouchstart' in freeSelf ||\n            ('DocumentTouch' in freeSelf && document instanceof DocumentTouch));\n    };\n    // touchDevice method does not support 'all' and 'any' interfaces\n    is.touchDevice.api = ['not'];\n\n    // is current operating system windows?\n    is.windows = function() {\n        return /win/.test(appVersion);\n    };\n    // windows method does not support 'all' and 'any' interfaces\n    is.windows.api = ['not'];\n\n    // is current device windows phone?\n    is.windowsPhone = function() {\n        return is.windows() && /phone/.test(userAgent);\n    };\n    // windowsPhone method does not support 'all' and 'any' interfaces\n    is.windowsPhone.api = ['not'];\n\n    // is current device windows tablet?\n    is.windowsTablet = function() {\n        return is.windows() && is.not.windowsPhone() && /touch/.test(userAgent);\n    };\n    // windowsTablet method does not support 'all' and 'any' interfaces\n    is.windowsTablet.api = ['not'];\n\n    // Object checks\n    /* -------------------------------------------------------------------------- */\n\n    // has a given object got parameterized count property?\n    is.propertyCount = function(object, count) {\n        if (is.not.object(object) || is.not.number(count)) {\n            return false;\n        }\n        var n = 0;\n        for (var property in object) {\n            if (hasOwnProperty.call(object, property) && ++n > count) {\n                return false;\n            }\n        }\n        return n === count;\n    };\n    // propertyCount method does not support 'all' and 'any' interfaces\n    is.propertyCount.api = ['not'];\n\n    // is given object has parameterized property?\n    is.propertyDefined = function(object, property) {\n        return is.object(object) && is.string(property) && property in object;\n    };\n    // propertyDefined method does not support 'all' and 'any' interfaces\n    is.propertyDefined.api = ['not'];\n\n    // Array checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given item in an array?\n    is.inArray = function(value, array) {\n        if (is.not.array(array)) {\n            return false;\n        }\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] === value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // inArray method does not support 'all' and 'any' interfaces\n    is.inArray.api = ['not'];\n\n    // is a given array sorted?\n    is.sorted = function(array, sign) {\n        if (is.not.array(array)) {\n            return false;\n        }\n        var predicate = comparator[sign] || comparator['>='];\n        for (var i = 1; i < array.length; i++) {\n            if (!predicate(array[i], array[i - 1])) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // API\n    // Set 'not', 'all' and 'any' interfaces to methods based on their api property\n    /* -------------------------------------------------------------------------- */\n\n    function setInterfaces() {\n        var options = is;\n        for (var option in options) {\n            if (hasOwnProperty.call(options, option) && is['function'](options[option])) {\n                var interfaces = options[option].api || ['not', 'all', 'any'];\n                for (var i = 0; i < interfaces.length; i++) {\n                    if (interfaces[i] === 'not') {\n                        is.not[option] = not(is[option]);\n                    }\n                    if (interfaces[i] === 'all') {\n                        is.all[option] = all(is[option]);\n                    }\n                    if (interfaces[i] === 'any') {\n                        is.any[option] = any(is[option]);\n                    }\n                }\n            }\n        }\n    }\n    setInterfaces();\n\n    // Configuration methods\n    // Intentionally added after setInterfaces function\n    /* -------------------------------------------------------------------------- */\n\n    // change namespace of library to prevent name collisions\n    // var preferredName = is.setNamespace();\n    // preferredName.odd(3);\n    // => true\n    is.setNamespace = function() {\n        root.is = previousIs;\n        return this;\n    };\n\n    // set optional regexes to methods\n    is.setRegexp = function(regexp, name) {\n        for (var r in regexes) {\n            if (hasOwnProperty.call(regexes, r) && (name === r)) {\n                regexes[r] = regexp;\n            }\n        }\n    };\n\n    return is;\n}));\n","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n","'use strict';\n\nmodule.exports = class EditorConfig {\n  constructor(store) {\n    this.store = store;\n  }\n\n  get(path) {\n    return (this.content\n      ? Promise.resolve(this.content)\n      : this.store.get()\n        .then(data => parse(data))\n        .then(data => {\n          this.content = data;\n          return data;\n        }))\n    .then(data => readValueAtPath(path, data));\n  }\n\n  set(path, value) {\n    return this.get().then(data =>\n      this.store.set(stringify(writeValueAtPath(path, value, data))));\n  }\n};\n\nfunction parse(data) {\n  return data ? JSON.parse(data) : data;\n}\n\nfunction stringify(data) {\n  return JSON.stringify(data);\n}\n\nfunction readValueAtPath(path, object) {\n  if (!path) { return object; }\n\n  return path.split(/\\./g).reduce((memo, key) => {\n    if (memo == undefined) { return memo; }\n    return memo[key];\n  }, object);\n}\n\nfunction writeValueAtPath(path, value, object) {\n  if (!object) { object = {}; }\n\n  return path.split(/\\./g).reduce((memo, key, i, a) => {\n    if (i === a.length - 1) {\n      memo[key] = value;\n      return object;\n    } else if (memo[key] == undefined) {\n      memo[key] = {};\n      return memo[key];\n    }\n    return memo[key];\n  }, object);\n}\n","'use strict';\n\nconst os = require('os');\nconst http = require('http');\nconst https = require('https');\nconst querystring = require('querystring');\nconst KiteConnector = require('kite-connector');\nconst KiteStateError = require('kite-connector/lib/kite-state-error');\nconst KiteRequestError = require('kite-connector/lib/kite-request-error');\nconst utils = require('kite-connector/lib/utils');\nconst NodeClient = require('kite-connector/lib/clients/node');\nconst BrowserClient = require('kite-connector/lib/clients/browser');\nconst EventEmitter = require('events');\nconst EditorConfig = require('./editor-config');\nconst MemoryStore = require('./stores/memory');\nconst { STATES } = KiteConnector;\nconst { merge, checkArguments, checkArgumentKeys } = require('./utils');\nconst urls = require('./url-helpers');\n\nconst KiteAPI = {\n  STATES,\n\n  emitter: new EventEmitter(),\n\n  editorConfig: new EditorConfig(new MemoryStore()),\n\n  DEFAULT_MAX_FILE_SIZE: 1048576,\n\n  toggleRequestDebug() {\n    KiteConnector.toggleRequestDebug();\n    this.Account.toggleRequestDebug();\n  },\n\n  requestJSON(...args) {\n    return this.request(...args)\n      .then(resp => utils.handleResponseData(resp))\n      .then(data => JSON.parse(data));\n  },\n\n  isKiteLocal() {\n    return this.request({\n      path: '/clientapi/iskitelocal',\n      method: 'GET',\n    })\n      .then(() => true)\n      .catch(() => false);\n  },\n\n  setKiteSetting(key, value) {\n    return this.requestJSON({\n      path: `/clientapi/settings/${key}`,\n      method: 'POST',\n    }, JSON.stringify(value));\n  },\n\n  getKiteSetting(key) {\n    return this.requestJSON({\n      path: `/clientapi/settings/${key}`,\n      method: 'GET',\n    });\n  },\n\n  getMaxFileSizeBytes() {\n    return KiteAPI.getKiteSetting('max_file_size_kb')\n      .then(res => res * Math.pow(2, 10))\n      .catch(_ => this.DEFAULT_MAX_FILE_SIZE); // default to 1 MB\n  },\n\n  getSupportedLanguages() {\n    return this.requestJSON({\n      path: '/clientapi/languages',\n    });\n  },\n\n  getOnboardingFilePath(editor, language = 'python') {\n    checkArguments(this.getOnboardingFilePath, editor, language);\n    const path = urls.onboardingFilePath(editor, language);\n    return this.requestJSON({ path });\n  },\n\n  canAuthenticateUser() {\n    return KiteConnector.isKiteReachable()\n      .then(() => utils.reversePromise(\n        KiteConnector.isUserAuthenticated(),\n        new KiteStateError('Kite is already authenticated', {\n          state: STATES.AUTHENTICATED,\n        })));\n  },\n\n  authenticateUser(email, password) {\n    checkArguments(this.authenticateUser, email, password);\n    return this.canAuthenticateUser()\n      .then(() => this.request({\n        path: '/clientapi/login',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }, { email, password }))\n      .then(() => this.saveUserID());\n  },\n\n  authenticateSessionID(key) {\n    // Unlike authenticateUser above, this method does not check to see if a\n    // user is already authenticated before trying to authenticate. This\n    // method is only used in specialized flows, so we're special-casing it\n    // here.\n    checkArguments(this.authenticateSessionID, key);\n    return KiteConnector.isKiteReachable()\n      .then(() => this.request({\n        path: '/clientapi/authenticate',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }, { key }))\n      .then(resp => this.saveUserID());\n  },\n\n  saveUserID() {\n    return this.requestJSON({\n      path: '/clientapi/user',\n      method: 'GET',\n    })\n      .then(data => data.id && this.editorConfig.set('distinctID', data.id))\n      .catch(() => { });\n  },\n\n  getHoverDataAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getHoverDataAtPosition, filename, source, position, encoding);\n    const path = urls.hoverPath(filename, source, position, editor, encoding);\n\n    return this.requestJSON({ path });\n  },\n\n  getReportDataAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getReportDataAtPosition, filename, source, position, editor, encoding);\n    return this.getHoverDataAtPosition(filename, source, position, editor, encoding)\n      .then(data => this.getReportDataFromHover(data));\n  },\n\n  getReportDataFromHover(data) {\n    const id = data.symbol[0].id;\n    return !idIsEmpty(id)\n      ? this.getSymbolReportDataForId(id)\n        .then(report => [data, report])\n        .catch(err => [data])\n      : [data];\n  },\n\n  getSymbolReportDataForId(id) {\n    checkArguments(this.getSymbolReportDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/symbol/${id}`,\n    });\n  },\n\n  getValueReportDataForId(id) {\n    checkArguments(this.getValueReportDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/value/${id}`,\n    })\n      .then(report => {\n        if (report.value && idIsEmpty(report.value.id)) {\n          report.value.id = id;\n        }\n        return report;\n      });\n  },\n\n  getMembersDataForId(id, page = 0, limit = 999) {\n    checkArguments(this.getMembersDataForId, id);\n    const path = urls.membersPath(id, page, limit);\n\n    return this.requestJSON({ path });\n  },\n\n  getUsagesDataForValueId(id, page = 0, limit = 999) {\n    checkArguments(this.getUsagesDataForValueId, id);\n    const path = urls.usagesPath(id, page, limit);\n\n    return this.requestJSON({ path });\n  },\n\n  getUsageDataForId(id) {\n    checkArguments(this.getUsageDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/usages/${id}`,\n    })\n      .then(report => {\n        if (report.value && idIsEmpty(report.value.id)) {\n          report.value.id = id;\n        }\n        return report;\n      });\n  },\n\n  getExampleDataForId(id) {\n    checkArguments(this.getExampleDataForId, id);\n    return this.requestJSON({\n      path: `/api/python/curation/${id}`,\n    });\n  },\n\n  getUserAccountInfo() {\n    return this.requestJSON({ path: '/api/account/user' });\n  },\n\n  getStatus(filename) {\n    return filename\n      ? this.requestJSON({ path: urls.statusPath(filename) })\n        .catch((err) => ({ status: 'ready' }))\n      : Promise.resolve({ status: 'ready' });\n  },\n\n  getCompletions(payload) {\n    checkArguments(this.getCompletions, payload);\n    if (payload.text === undefined) {\n      return Promise.resolve([]);\n    }\n    return this.requestJSON({\n      path: '/clientapi/editor/complete',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .then(data => data.completions || [])\n      .catch(_ => []);\n  },\n\n  getLineDecoration(filename) {\n    return this.requestJSON(\n      {\n        path: '/codenav/decoration/line',\n        method: 'POST',\n      },\n      JSON.stringify({ filename })\n    );\n  },\n\n  requestRelatedCode(editor, editor_install_path, filename, line, selection) {\n    return this.request(\n      {\n        path: '/codenav/editor/related',\n        method: 'POST',\n      },\n      JSON.stringify({\n        editor,\n        editor_install_path,\n        location: {\n          filename,\n          line,\n          selection,\n        },\n      })\n    );\n  },\n\n  getSignaturesAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getSignaturesAtPosition, filename, source, position, editor, encoding);\n\n    const payload = {\n      text: source,\n      editor,\n      filename,\n      cursor_runes: position,\n      offset_encoding: encoding,\n    };\n\n    return this.requestJSON({\n      path: '/clientapi/editor/signatures',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getKSGCompletions(query) {\n    checkArguments(this.getKSGCompletions, query);\n    return this.requestJSON({ path: `/clientapi/ksg/completions?query=${encodeURIComponent(query)}` })\n      .catch(() => { });\n  },\n\n  getKSGCodeBlocks(query, results = 3) {\n    checkArguments(this.getKSGCodeBlocks, query, results);\n    return this.requestJSON({ path: `/clientapi/ksg/codeblocks?query=${encodeURIComponent(query)}&results=${results}` })\n      .catch(() => { });\n  },\n\n  getAutocorrectData(filename, source, editorMeta) {\n    checkArguments(this.getAutocorrectData, filename, source, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('autocorrect_request', editorMeta),\n      buffer: source,\n      filename,\n      language: 'python',\n    };\n\n    return this.requestJSON({\n      path: '/clientapi/editor/autocorrect',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getAutocorrectModelInfo(version, editorMeta) {\n    checkArguments(this.getAutocorrectModelInfo, version, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('model_info_request', editorMeta),\n      language: 'python',\n      version,\n    };\n\n    return this.requestJSON({\n      path: '/api/editor/autocorrect/model-info',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getAutocorrectMetadata(event, editorMeta) {\n    checkArguments(this.getAutocorrectMetadata, event, editorMeta);\n    checkArgumentKeys(this.getAutocorrectMetadata, editorMeta, 'editorMeta', 'source', 'plugin_version');\n    return merge({\n      event,\n      os_name: this.getOsName(),\n    }, editorMeta);\n  },\n\n  getOsName() {\n    return {\n      darwin: 'macos',\n      win32: 'windows',\n      linux: 'linux',\n    }[os.platform()];\n  },\n\n  postSaveValidationData(filename, source, editorMeta) {\n    checkArguments(this.postSaveValidationData, filename, source, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('validation_onsave', editorMeta),\n      buffer: source,\n      filename,\n      language: 'python',\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/validation/on-save',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  postAutocorrectFeedbackData(response, feedback, editorMeta) {\n    checkArguments(this.postAutocorrectFeedbackData, response, feedback, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('feedback_diffset', editorMeta),\n      response,\n      feedback,\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/feedback',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  postAutocorrectHashMismatchData(response, requestStartTime, editorMeta) {\n    checkArguments(this.postAutocorrectHashMismatchData, response, requestStartTime, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('metrics_hash_mismatch', editorMeta),\n      response,\n      response_time: new Date() - requestStartTime,\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/metrics',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  sendFeatureMetric(name) {\n    checkArguments(this.sendFeatureMetric, name);\n\n    return this.request({\n      path: '/clientapi/metrics/counters',\n      method: 'POST',\n    }, JSON.stringify({\n      name,\n      value: 1,\n    }));\n  },\n\n  featureRequested(name, editor) {\n    checkArguments(this.featureRequested, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_requested`);\n  },\n\n  featureFulfilled(name, editor) {\n    checkArguments(this.featureFulfilled, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_fulfilled`);\n  },\n\n  featureApplied(name, editor, suffix = '') {\n    checkArguments(this.featureApplied, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_applied${suffix}`);\n  },\n\n  Account: {\n    client: KiteConnector.client,\n\n    initClient(hostname, port, base, ssl) {\n      this.client.hostname = hostname;\n      this.client.port = port;\n      this.client.base = base;\n      this.client.protocol = ssl ? https : http;\n    },\n\n    disposeClient() { },\n\n    toggleRequestDebug() {\n      if (this.client instanceof NodeClient) {\n        this.client = new BrowserClient(this.client.hostname, this.client.port, this.client.base, this.client.protocol === https);\n      } else {\n        this.client = new NodeClient(this.client.hostname, this.client.port, this.client.base, this.client.protocol === 'https');\n      }\n    },\n\n    checkEmail(data) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      return this.client.request({\n        path: '/api/account/check-email',\n        method: 'POST',\n      }, JSON.stringify(data))\n        .then(checkStatusAndInvokeCallback('Unable to check email'));\n    },\n\n    createAccount(data, callback) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n\n      const content = querystring.stringify(data);\n      let promise;\n      if (data.password) {\n        promise = this.client.request({\n          path: '/api/account/create',\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        }, content);\n      } else {\n        promise = this.client.request({\n          path: '/api/account/createPasswordless',\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        }, content);\n      }\n\n      return promise.then(checkStatusAndInvokeCallback('Unable to create an account', callback));\n    },\n\n    login(data, callback) {\n      if (!data) {\n        return Promise.reject(new Error('No login data provided'));\n      }\n      if (!data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      if (!data.password) {\n        return Promise.reject(new Error('No password provided'));\n      }\n      const content = querystring.stringify(data);\n      return this.client.request({\n        path: '/api/account/login',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }, content)\n        .then(checkStatusAndInvokeCallback('Unable to login into Kite', callback));\n    },\n\n    resetPassword(data, callback) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      const content = querystring.stringify(data);\n      return this.client.request({\n        path: '/api/account/reset-password/request',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }, content)\n        .then(checkStatusAndInvokeCallback('Unable to reset passwords', callback));\n    },\n  },\n};\n\nconst idIsEmpty = (id) =>\n  !id || id === '' ||\n  (id.indexOf(';') !== -1 && id.split(';')[1] === '');\n\nconst delegate = (methods, source, target) => {\n  methods.forEach(method => target[method] = (...args) => source[method](...args));\n  return target;\n};\n\nconst checkStatusAndInvokeCallback = (message, callback) => resp => {\n  callback && callback(resp);\n  return new Promise((resolve, reject) => {\n    if (resp.statusCode >= 400) {\n      utils.handleResponseData(resp).then(respData => {\n        reject(new KiteRequestError(message, {\n          responseStatus: resp.statusCode,\n          response: resp,\n          responseData: respData,\n        }));\n      }, reject);\n    } else {\n      resolve(resp);\n    }\n  });\n};\n\ndelegate([\n  'arch',\n  'canInstallKite',\n  'canRunKite',\n  'canRunKiteEnterprise',\n  'checkHealth',\n  'downloadKite',\n  'downloadKiteRelease',\n  'hasKiteRun',\n  'hasBothKiteInstalled',\n  'hasManyKiteEnterpriseInstallation',\n  'hasManyKiteInstallation',\n  'installKite',\n  'isAdmin',\n  'isKiteEnterpriseInstalled',\n  'isKiteEnterpriseRunning',\n  'isKiteInstalled',\n  'isKiteReachable',\n  'isKiteRunning',\n  'isKiteSupported',\n  'isOSSupported',\n  'isOSVersionSupported',\n  'isUserAuthenticated',\n  'onDidFailRequest',\n  'request',\n  'runKiteWithCopilot',\n  'runKite',\n  'runKiteAndWait',\n  'runKiteEnterprise',\n  'runKiteEnterpriseAndWait',\n  'toggleRequestDebug',\n  'waitForKite',\n], KiteConnector, KiteAPI);\n\nmodule.exports = KiteAPI;\n","'use strict';\n\nmodule.exports = class MemoryStore {\n  constructor() {}\n\n  set(content) {\n    this.content = content;\n    return Promise.resolve();\n  }\n  get() {\n    return Promise.resolve(this.content);\n  }\n};\n","'use strict';\n\nconst md5 = require('md5');\n\nfunction onboardingFilePath(editor, language) {\n  return [\n    '/clientapi/plugins/onboarding_file', [\n      `editor=${editor}`,\n      `language=${language}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction hoverPath(filename, source, position, editor, encoding) {\n  const state = md5(source);\n  const buffer = cleanPath(filename);\n  return [\n    `/api/buffer/${editor}/${buffer}/${state}/hover`,\n    [\n      `cursor_runes=${position}`,\n      `offset_encoding=${encoding}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction membersPath(id, page, limit) {\n  return [\n    `/api/editor/value/${id}/members`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagesPath(id, page, limit) {\n  return [\n    `/api/editor/value/${id}/usages`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction shouldNotifyPath(path) {\n  return `/clientapi/permissions/notify?filename=${encodeURI(path)}`;\n}\n\nfunction statusPath(path) {\n  return `/clientapi/status?filename=${encodeURI(path)}`;\n}\n\nfunction projectDirPath(path) {\n  return `/clientapi/projectdir?filename=${encodeURI(path)}`;\n}\n\nfunction cleanPath(p) {\n  return encodeURI(p)\n  .replace(/^([A-Z]):/, '/windows/$1')\n  .replace(/\\/|\\\\|%5C/g, ':');\n}\n\nmodule.exports = {\n  cleanPath,\n  onboardingFilePath,\n  hoverPath,\n  membersPath,\n  projectDirPath,\n  shouldNotifyPath,\n  statusPath,\n  usagesPath,\n};\n","'use strict';\n\nfunction merge(a, b) {\n  const c = {};\n  for (const k in a) { c[k] = a[k]; }\n  for (const k in b) { c[k] = b[k]; }\n  return c;\n}\n\nfunction reject(key, a) {\n  const b = {};\n  for (const k in a) {\n    if (k !== key) { b[k] = a[k]; }\n  }\n  return b;\n}\n\nfunction parseSignature(fn) {\n  const [, name, signature] = /(\\w+)\\(([^\\)]+)\\)/.exec(fn.toString());\n  const parameters = signature.split(/,\\s*/);\n  return [name, parameters];\n}\n\nfunction checkArguments(fn, ...args) {\n  const [name, parameters] = parseSignature(fn);\n  const missingArguments = [];\n  args.forEach((arg, i) => {\n    if (arg == null) { missingArguments.push(parameters[i]); }\n  });\n  if (missingArguments.length) {\n    throw new Error(\n      `Missing argument${missingArguments.length > 1 ? 's' : ''} ${missingArguments.join(', ')} in ${name}`);\n  }\n}\n\nfunction checkArgumentKeys(fn, arg, argName, ...keys) {\n  const missingKeys = [];\n  keys.forEach((key, i) => {\n    if (arg[key] == null) { missingKeys.push(key); }\n  });\n  if (missingKeys.length) {\n    throw new Error(\n      `Missing mandatory key${\n        missingKeys.length > 1 ? 's' : ''\n      } ${missingKeys.join(', ')} in argument ${argName} of ${fn.name}`);\n  }\n}\n\nmodule.exports = {\n  checkArgumentKeys,\n  checkArguments,\n  merge,\n  reject,\n};\n","'use strict';\n\nconst utils = require('../utils');\n\nconst createResponse = (status, raw, req, headers = {}) => {\n  const resp = {\n    statusCode: status,\n    req,\n    on(event, callback) {\n      switch (event) {\n        case 'data':\n          callback(raw);\n          break;\n        case 'end':\n          callback();\n          break;\n      }\n    },\n  };\n  for (let k in headers) { resp[k] = headers[k]; }\n  resp.headers = resp.headers || {};\n\n  return resp;\n};\n\nmodule.exports = class BrowserClient {\n  constructor(hostname, port, base, ssl) {\n    base = base || '';\n    ssl = ssl || false;\n    this.hostname = hostname;\n    this.port = port;\n    this.base = base;\n    this.protocol = ssl ? 'https' : 'http';\n    this.cookies = {};\n  }\n\n  request(opts, data, timeout) {\n    const domain = this.port && this.port !== -1\n      ? `${this.hostname}:${this.port}`\n      : this.hostname;\n    const url = `${this.protocol}://${domain}${this.base}${opts.path}`;\n    const method = opts.method || 'GET';\n\n    return new Promise((resolve, reject) => {\n      const query = new XMLHttpRequest();\n      query.addEventListener('error', reject);\n      query.addEventListener('abort', reject);\n      query.addEventListener('load', () => {\n        const raw = query.responseText;\n\n        resolve(createResponse(query.status, raw, {\n          method,\n          path: opts.path,\n          url,\n        }));\n      });\n\n      query.open(method, url);\n      if (timeout) {\n        query.timeout = timeout; // Set timeout to 4 seconds (4000 milliseconds)\n        query.ontimeout = () => { reject(new Error('Request Timeout')); };\n      }\n\n      if (opts.headers) {\n        if (opts.headers['Content-Type'] === 'multipart/form-data' ||\n            opts.headers['content-type'] === 'multipart/form-data') {\n          delete opts.headers['Content-Type'];\n          delete opts.headers['content-type'];\n\n          const form = new FormData();\n\n          for (const key in data) {\n            form.append(key, data[key]);\n          }\n          data = form;\n        }\n\n        for (const header in opts.headers) {\n          query.setRequestHeader(header, opts.headers[header]);\n        }\n      }\n      if (!opts.headers || !opts.headers['Cache-Control']) {\n        query.setRequestHeader('Cache-Control', 'no-cache, must-revalidate');\n      }\n\n      query.send(data);\n    });\n  }\n\n  readCookies(resp) {\n    utils.parseSetCookies(resp.headers['set-cookie']).forEach(c => {\n      this.cookies[c.Name] = c;\n    });\n  }\n\n  writeCookies(hdrs) {\n    var cookies = [];\n    for (var k in this.cookies) {\n      cookies.push(this.cookies[k]);\n    }\n    if (cookies.length) {\n      hdrs.Cookies = utils.dumpCookies(cookies);\n    }\n  }\n};\n","'use strict';\n\nconst http = require('http');\nconst https = require('https');\nconst FormData = require('form-data');\n\nconst utils = require('../utils');\n\nmodule.exports = class NodeClient {\n  constructor(hostname, port, base = '', ssl = false) {\n    this.hostname = hostname;\n    this.port = port;\n    this.base = base;\n    this.protocol = ssl ? https : http;\n    this.cookies = {};\n  }\n\n  request(opts, data, timeout) {\n    return new Promise((resolve, reject) => {\n      let form;\n\n      opts.hostname = this.hostname;\n      if (this.port > 0) { opts.port = this.port; }\n      opts.path = this.base + opts.path;\n      opts.headers = opts.headers || {};\n      this.writeCookies(opts.headers);\n\n      if (opts.headers['Content-Type'] === 'multipart/form-data' ||\n          opts.headers['content-type'] === 'multipart/form-data') {\n        delete opts.headers['Content-Type'];\n        delete opts.headers['content-type'];\n\n        form = new FormData();\n        for (const key in data) {\n          form.append(key, data[key]);\n        }\n\n        const headers = form.getHeaders();\n        for (const key in headers) {\n          opts.headers[key] = headers[key];\n        }\n      }\n\n      const req = this.protocol.request(opts, resp => {\n        this.readCookies(resp);\n        resolve(resp);\n      });\n      req.on('error', err => reject(err));\n      if (timeout != null) {\n        req.setTimeout(timeout, () => reject(new Error('timeout')));\n      }\n      if (form) {\n        form.pipe(req);\n      } else {\n        if (data) { req.write(data); }\n        req.end();\n      }\n    });\n  }\n\n  readCookies(resp) {\n    utils.parseSetCookies(resp.headers['set-cookie']).forEach(c => {\n      this.cookies[c.Name] = c;\n    });\n  }\n\n  writeCookies(hdrs) {\n    const cookies = [];\n    for (var k in this.cookies) {\n      cookies.push(this.cookies[k]);\n    }\n    if (cookies.length) {\n      hdrs.Cookies = utils.dumpCookies(cookies);\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  STATES: {\n    UNSUPPORTED: 0,\n    UNINSTALLED: 1,\n    NOT_RUNNING: 2,\n    UNREACHABLE: 3,\n    UNLOGGED: 4,\n    READY: 4,\n\n    // legacy states, prefer the ones above for health checks\n    INSTALLED: 2,\n    RUNNING: 3,\n    REACHABLE: 4,\n    AUTHENTICATED: 4,\n  },\n\n  LEVELS: {\n    SILLY: 0,\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARNING: 4,\n    ERROR: 5,\n  },\n};\n","'use strict';\n\nconst os = require('os');\nconst EventEmitter = require('events');\n\nconst utils = require('./utils');\nconst KiteStateError = require('./kite-state-error');\nconst KiteRequestError = require('./kite-request-error');\nconst { STATES } = require('./constants');\nconst NodeClient = require('./clients/node');\nconst BrowserClient = require('./clients/browser');\n\nmodule.exports = {\n  STATES,\n\n  adapter: (() => {\n    switch (os.platform()) {\n      case 'darwin': return require('./support/osx');\n      case 'win32': return require('./support/windows');\n      case 'linux': return require('./support/linux');\n      default: return require('./support/no-support');\n    }\n  })(),\n\n  emitter: new EventEmitter(),\n\n  client: new NodeClient('localhost', '46624'),\n\n  toggleRequestDebug() {\n    if (this.client instanceof NodeClient) {\n      this.client = new BrowserClient(this.client.hostname, this.client.port);\n    } else {\n      this.client = new NodeClient(this.client.hostname, this.client.port);\n    }\n  },\n\n  onDidFailRequest(listener) {\n    this.emitter.on('did-fail-request', listener);\n    return {\n      dispose: () => {\n        this.emitter.removeListener('did-fail-request', listener);\n      },\n    };\n  },\n\n  request(options, data, timeout) {\n    return this.client.request(options, data, timeout)\n      .catch(() => {\n        let promise = Promise.resolve();\n        if (utils.shouldAddCatchProcessing(options.path)) {\n          promise = promise.then(() => this.isKiteSupported())\n            .then(() => this.isKiteInstalled())\n            .then(() => this.isKiteRunning());\n        }\n        return promise.then(() => {\n          throw new KiteStateError('Kite could not be reached when attempting a request', {\n            state: STATES.UNREACHABLE,\n            request: options,\n            requestData: data,\n          });\n        });\n      })\n      .then(resp => {\n        return resp.statusCode >= 400\n          ? utils.handleResponseData(resp).then(respData => {\n            throw new KiteRequestError('bad_status', {\n              responseStatus: resp.statusCode,\n              request: options,\n              requestData: data,\n              response: resp,\n              responseData: respData,\n            });\n          })\n          : resp;\n      })\n      .catch(err => {\n        this.emitter.emit('did-fail-request', err);\n        throw err;\n      });\n  },\n\n  checkHealth() {\n    const extractErr = ([err]) => {\n      throw err;\n    };\n\n    return this.isKiteSupported()\n      .then(() =>\n        utils.anyPromise([this.isKiteInstalled()]).catch(extractErr))\n      .then(() =>\n        utils.anyPromise([this.isKiteRunning()]).catch(extractErr))\n      .then(() => this.isKiteReachable())\n      .then(() => STATES.READY)\n      .catch(err => {\n        if (!err.data || err.data.state == null) { throw err; }\n        return err.data.state;\n      });\n  },\n\n  // FIXME: This method is now deprecated, use checkHealth instead.\n  handleState() {\n    return this.checkHealth();\n  },\n\n  isKiteSupported() {\n    return this.adapter.isKiteSupported()\n      ? Promise.resolve()\n      : Promise.reject(new KiteStateError('Kite is currently not support on your platform', {\n        state: STATES.UNSUPPORTED,\n      }));\n  },\n\n  isKiteInstalled() {\n    return this.adapter.isKiteInstalled();\n  },\n\n  isKiteRunning() {\n    return this.adapter.isKiteRunning();\n  },\n\n  canInstallKite() {\n    return this.isKiteSupported()\n      .then(() =>\n        utils.reversePromise(this.adapter.isKiteInstalled(),\n          new KiteStateError('Kite is already installed', {\n            state: STATES.INSTALLED,\n          })));\n  },\n\n  hasKiteRun() {\n    return this.adapter.hasKiteRun();\n  },\n\n  installKite(options) {\n    return this.adapter.installKite(options);\n  },\n\n  downloadKiteRelease(options) {\n    return this.adapter.downloadKiteRelease(options);\n  },\n\n  downloadKite(url, options) {\n    return this.adapter.downloadKite(url, options);\n  },\n\n  canRunKite() {\n    return this.isKiteInstalled()\n      .then(() =>\n        utils.reversePromise(this.isKiteRunning(),\n          new KiteStateError('Kite is already runnning', {\n            state: STATES.RUNNING,\n          })));\n  },\n\n  runKiteWithCopilot() {\n    return this.adapter.runKiteWithCopilot();\n  },\n\n  runKite() {\n    return this.adapter.runKite();\n  },\n\n  runKiteAndWait(attempts, interval) {\n    return this.runKite().then(() => this.waitForKite(attempts, interval));\n  },\n\n  isKiteReachable() {\n    return this.client.request({\n      path: '/clientapi/ping',\n      method: 'GET',\n    }, null, 200); // in tests, this took no longer than 15ms to respond\n  },\n\n  waitForKite(attempts, interval) {\n    return utils.retryPromise(() => this.isKiteReachable(), attempts, interval);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.adapter.isKiteEnterpriseInstalled();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.adapter.isKiteEnterpriseRunning();\n  },\n\n  canRunKiteEnterprise() {\n    return this.isKiteEnterpriseInstalled()\n      .then(() =>\n        utils.reversePromise(this.isKiteEnterpriseRunning(),\n          new KiteStateError('Kite Enterprise is already runnning', {\n            state: STATES.RUNNING,\n          })));\n  },\n\n  runKiteEnterprise() {\n    return this.adapter.runKiteEnterprise();\n  },\n\n  runKiteEnterpriseAndWait(attempts, interval) {\n    return this.runKiteEnterprise().then(() => this.waitForKite(attempts, interval));\n  },\n\n  hasBothKiteInstalled() {\n    return this.adapter.hasBothKiteInstalled();\n  },\n\n  hasManyKiteInstallation() {\n    return this.adapter.hasManyKiteInstallation();\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.adapter.hasManyKiteEnterpriseInstallation();\n  },\n\n  isAdmin() {\n    return this.adapter.isAdmin();\n  },\n\n  arch() {\n    return this.adapter.arch();\n  },\n\n  isOSSupported() {\n    return this.adapter.isOSSupported();\n  },\n\n  isOSVersionSupported() {\n    return this.adapter.isOSVersionSupported();\n  },\n\n  isUserAuthenticated() {\n    return this.client.request({\n      path: '/clientapi/user',\n      method: 'GET',\n    })\n      .then((resp) => {\n        switch (resp.statusCode) {\n          case 200:\n            return utils.handleResponseData(resp);\n          case 401:\n            throw new KiteStateError('Kite is not authenticated', {\n              state: STATES.UNLOGGED,\n            });\n          default:\n            return utils.handleResponseData(resp).then(respData => {\n              throw new KiteRequestError('Invalid response status when checking Kite authentication', {\n                responseStatus: resp.statusCode,\n                request: {\n                  path: '/clientapi/user',\n                  method: 'GET',\n                },\n                response: resp,\n                responseData: respData,\n              });\n            });\n        }\n      });\n  },\n};\n","'use strict';\n\nmodule.exports = class KiteProcessError extends Error {\n  constructor(type, data) {\n    super(type);\n    this.data = data;\n    this.message = `${type}: ${data.message}\\ncmd: ${data.cmd}`;\n    if (data.stdout) {\n      this.message += `\\nstdout: ${data.stdout}`;\n    }\n    if (data.stderr) {\n      this.message += `\\nstderr: ${data.stderr}`;\n    }\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","'use strict';\n\nmodule.exports = class KiteRequestError extends Error {\n  get type() { return 'bad_status'; }\n\n  constructor(message, data) {\n    super(message);\n    this.data = data;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","'use strict';\n\nmodule.exports = class KiteStateError extends Error {\n  get type() { return 'bad_state'; }\n  \n  constructor(message, data) {\n    super(message);\n    this.data = data;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","'use strict';\n\nconst {LEVELS} = require('./constants');\nconst NullReporter = require('./loggers/null');\nconst ConsoleReporter = require('./loggers/console');\n\nmodule.exports =  {\n  LEVELS,\n  LEVEL: LEVELS.INFO,\n\n  output: typeof console != 'undefined' ? ConsoleReporter : NullReporter,\n\n  silly(...msgs) { this.log(LEVELS.SILLY, ...msgs); },\n  verbose(...msgs) { this.log(LEVELS.VERBOSE, ...msgs); },\n  debug(...msgs) { this.log(LEVELS.DEBUG, ...msgs); },\n  info(...msgs) { this.log(LEVELS.INFO, ...msgs); },\n  warn(...msgs) { this.log(LEVELS.WARNING, ...msgs); },\n  error(...msgs) { this.log(LEVELS.ERROR, ...msgs); },\n  log(level, ...msgs) {\n    if (level >= this.LEVEL && !this.SILENT) {\n      this.output.log(level, ...msgs);\n    }\n  },\n  logRequest() {},\n  logResponse() {},\n};\n","'use strict';\n\nconst {LEVELS} = require('../constants');\n\nmodule.exports = {\n  TRACE_ALL: false,\n  METHODS: {\n    [LEVELS.SILLY]: 'debug' in console ? 'debug' : 'log',\n    [LEVELS.VERBOSE]: 'debug' in console ? 'debug' : 'log',\n    [LEVELS.DEBUG]: 'log',\n    [LEVELS.INFO]: 'info' in console ? 'info' : 'log',\n    [LEVELS.WARNING]: 'warn' in console ? 'warn' : 'error',\n    [LEVELS.ERROR]: 'error',\n  },\n\n  log(level, ...msgs) {\n    console[this.METHODS[level]](...msgs);\n  },\n};\n","'use strict';\n\nmodule.exports = {\n  log() {},\n};\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\n\nconst utils = require('../utils');\nconst KiteStateError = require('../kite-state-error');\nconst KiteProcessError = require('../kite-process-error');\n\nconst {STATES} = require('../constants');\n\nconst LinuxSupport = {\n  RELEASE_URL: 'https://linux.kite.com/dls/linux/current',\n  KITED_HAS_RUN_PATH: path.join(os.homedir(), '.kite', 'kited_has_run'),\n  SESSION_FILE_PATH: path.join(os.homedir(), '.kite', 'session.json'),\n  KITE_INSTALLER_PATH: path.join(os.tmpdir(), 'kite-installer.sh'),\n  KITED_PATH: path.join(os.homedir(), '.local', 'share', 'kite', 'kited'),\n  KITED_PROCESS: /kited/,\n  KITE_CURRENT_LINK: path.join(os.homedir(), '.local', 'share', 'kite', 'current'),\n\n  memKitedInstallPath: null,\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_INSTALLER_PATH;\n  },\n\n  get installPath() {\n    if (!this.memKitedInstallPath) {\n      this.memKitedInstallPath = this.KITED_PATH;\n    }\n    return this.memKitedInstallPath;\n  },\n\n  resetInstallPath() {\n    this.memKitedInstallPath = null;\n  },\n\n  get allInstallPaths() {\n    return [this.installPath];\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allEnterpriseInstallPaths() {\n    return null;\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return false;\n  },\n\n  isAdmin() {\n    try {\n      const user = utils.whoami();\n      const adminUsers = String(child_process.execSync('getent group root adm admin sudo'))\n        .split('\\n')\n        .map(line => line.substring(line.lastIndexOf(':') + 1))\n        .reduce((acc, val) => {\n          val.split(',').forEach(token => acc.push(token.trim()));\n          return acc;\n        }, []);\n      return adminUsers.includes(user);\n    } catch (e) {\n      // fallback to os.userInfo()\n      try {\n        const userInfo = os.userInfo();\n        return userInfo.uid === 0 || userInfo.username === 'root';\n      } catch (ignored) {\n        return false;\n      }\n    }\n  },\n\n  arch() {\n    return os.arch();\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    let arch = os.arch();\n    return arch === 'x64';\n  },\n\n  isKiteSupported() {\n    return this.isOSSupported() && this.isOSVersionSupported();\n  },\n\n  hasKiteRun() {\n    return fs.existsSync(this.KITED_HAS_RUN_PATH);\n  },\n\n  isKiteInstalled() {\n    return new Promise((resolve, reject) => {\n      fs.exists(this.installPath, exists => {\n        if (exists) {\n          resolve();\n        } else {\n          reject(new KiteStateError('', {\n            state: STATES.UNINSTALLED,\n          }));\n        }\n      });\n    });\n  },\n\n  // downloads the latest version of kite-installer.sh\n  // and uses it to retrieve the current binary installer and installation data\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.downloadKiteInstallerScript(url, opts.onDownloadProgress)\n      .then(() => this.streamKiteDownload(this.downloadPath, opts.onDownloadProgress))\n      .then(() => utils.guardCall(opts.onDownload))\n      .then(() => opts.install && this.installKite(opts));\n  },\n\n  downloadKiteInstallerScript(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    // set download status as early as possible to display the progress bar\n    if (progress) {\n      progress(0, 100, 0);\n    }\n\n    return utils.followRedirections(req)\n      .then(resp => {\n        return utils.promisifyStream(resp.pipe(fs.createWriteStream(this.downloadPath)))\n          .then(() => fs.chmodSync(this.downloadPath, 0o700))\n          .then(() => new Promise((resolve, reject) => {\n            setTimeout(resolve, 100);\n          }));\n      });\n  },\n\n  streamKiteDownload(scriptPath, progress) {\n    // we can't use util.spawnPromise here because we have to stream stdout in chunks to handle the progress\n    return new Promise((resolve, reject) => {\n      try {\n        const child = child_process.spawn(scriptPath, ['--download'], {shell: true});\n        child.on('close', function(code) {\n          if (code === 0) {\n            resolve(child);\n          } else {\n            const error = new Error();\n\n            reject(new KiteProcessError('kited_error',\n              {\n                message: `Unable to download Kite. Unexpected exit code ${code}.`,\n                stderr: '',\n                stdout: '',\n                callStack: error.stack,\n                cmd: `${scriptPath} --download`,\n                options: ['--download'],\n              }));\n          }\n        });\n        let last = -1;\n        // Must allow child stdio streams to close in order for the `close` event to be emitted.\n        child.stdout.on('data', chunk => {\n          // chunk is a buffer when used with spawn\n          let line = chunk.toString('utf8');\n          let pattern = /Download: (\\d+)\\/(\\d+)/g;\n          let lastMatch, match;\n          while ((match = pattern.exec(line)) !== null) {\n            lastMatch = match;\n          }\n\n          if (lastMatch) {\n            let received = parseInt(lastMatch[1], 10);\n            let total = parseInt(lastMatch[2], 10);\n            if (received >= 0 && total >= received && received > last) {\n              last = received;\n              if (progress) {\n                progress(received, total, received / total);\n              }\n            }\n          }\n        });\n      } catch (e) {\n        console.error(e);\n        reject(e);\n      }\n    });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.spawnPromise(this.KITE_INSTALLER_PATH,\n      ['--install'], {shell: true},\n      'kite-installer install error', `unable to install kite with ${this.KITE_INSTALLER_PATH}`)\n      .then(() => this.resetInstallPath()) // force recalculation of mem'd path on successful install\n      .then(() => utils.guardCall(opts.onMount))\n      .then(() => fs.unlinkSync(this.KITE_INSTALLER_PATH))\n      .then(() => utils.guardCall(opts.onRemove))\n      .then(() => opts.launchCopilot && this.runKiteWithCopilot(opts));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n      '/bin/ps',\n      ['-axo', 'pid,command'],\n      {encoding: 'utf-8'},\n      'ps_error',\n      'unable to run the ps command and verify that Kite is running')\n      .then(stdout => {\n        const procs = stdout.split('\\n');\n\n        if (!procs.some(p => this.KITED_PROCESS.test(p))) {\n          throw new KiteStateError('Kite process could not be found in the processes list', {\n            state: STATES.NOT_RUNNING,\n          });\n        }\n      });\n  },\n\n  runKiteWithCopilot(opts) {\n    opts = opts || {};\n    const channel = opts.channel ? opts.channel : 'autocomplete-python';\n  \n    const env = Object.assign({}, process.env);\n    env.SKIP_KITE_ONBOARDING = '1';\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return new Promise((resolve, reject) => {\n      try {\n        if (!fs.existsSync(this.installPath)) {\n          throw new Error('kited is not installed');\n        }\n        child_process.spawn(this.installPath,\n          ['--plugin-launch-with-copilot', `--channel=${channel}`],\n          {detached: true, stdio: 'ignore', env});\n        resolve();\n      } catch (e) {\n        reject(new KiteProcessError('kited_error',\n          {\n            message: (e.message && e.message === 'kited is not installed') || 'unable to run kited binary',\n            callStack: e.stack,\n            cmd: this.installPath,\n            options: {detached: true, env},\n          }));\n      }\n    });\n  },\n\n  runKite() {\n    return this.isKiteRunning()\n      .catch(() => {\n        const env = Object.assign({}, process.env);\n        env.SKIP_KITE_ONBOARDING = '1';\n        delete env['ELECTRON_RUN_AS_NODE'];\n\n        try {\n          if (!fs.existsSync(this.installPath)) {\n            throw new Error('kited is not installed');\n          }\n          child_process.spawn(this.installPath,\n            ['--plugin-launch', '--channel=autocomplete-python'],\n            {detached: true, stdio: 'ignore', env});\n        } catch (e) {\n          throw new KiteProcessError('kited_error',\n            {\n              message: (e.message && e.message === 'kited is not installed') || 'unable to run kited binary',\n              callStack: e.stack,\n              cmd: this.installPath,\n              options: {detached: true, env},\n            });\n        }\n      });\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.notSupported();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.notSupported();\n  },\n\n  runKiteEnterprise() {\n    return this.notSupported();\n  },\n\n  notSupported() {\n    return Promise.reject(\n      new KiteStateError('Your platform is currently not supported', {\n        state: STATES.UNSUPPORTED,\n      }));\n  },\n};\n\nmodule.exports = LinuxSupport;\n","'use strict';\n\nconst KiteStateError = require('../kite-state-error');\n\nconst {STATES} = require('../constants');\n\nmodule.exports = {\n  get releaseURL() {\n    return null;\n  },\n\n  get downloadPath() {\n    return null;\n  },\n\n  get installPath() {\n    return null;\n  },\n\n  get allInstallPaths() {\n    return null;\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allEnterpriseInstallPaths() {\n    return null;\n  },\n\n  get sessionFilePath() {\n    return null;\n  },\n\n  hasManyKiteInstallation() {\n    return false;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return false;\n  },\n\n  isAdmin() {\n    return false;\n  },\n\n  arch() {\n    return null;\n  },\n\n  isOSSupported() {\n    return false;\n  },\n\n  isOSVersionSupported() {\n    return false;\n  },\n\n  isKiteSupported() {\n    return false;\n  },\n\n  hasKiteRun() {\n    return false;\n  },\n\n  isKiteInstalled() {\n    return this.notSupported();\n  },\n\n  downloadKite(opts) {\n    return this.notSupported();\n  },\n\n  installKite(opts) {\n    return this.notSupported();\n  },\n\n  isKiteRunning() {\n    return this.notSupported();\n  },\n\n  runKite() {\n    return this.notSupported();\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.notSupported();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.notSupported();\n  },\n\n  runKiteEnterprise() {\n    return this.notSupported();\n  },\n\n  notSupported() {\n    return Promise.reject(\n      new KiteStateError('Your platform is currently not supported', {\n        state: STATES.UNSUPPORTED,\n      }));\n  },\n};\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\nconst utils = require('../utils.js');\nconst KiteStateError = require('../kite-state-error');\nconst { STATES } = require('../constants');\n\nconst OSXSupport = {\n  RELEASE_URL: 'https://alpha.kite.com/release/dls/mac/current',\n  APPS_PATH: '/Applications/',\n  KITE_DMG_PATH: '/tmp/Kite.dmg',\n  KITE_VOLUME_PATH: '/Volumes/Kite/',\n  KITE_APP_PATH: { mounted: '/Volumes/Kite/Kite.app', defaultInstalled: '/Applications/Kite.app' },\n  KITE_SIDEBAR_PATH: '/Applications/Kite.app/Contents/MacOS/KiteSidebar.app',\n  KITE_BUNDLE_ID: 'com.kite.Kite',\n  KITED_HAS_RUN_PATH: path.join(os.homedir(), '.kite', 'kited_has_run'),\n  SESSION_FILE_PATH: path.join(os.homedir(), '.kite', 'session.json'),\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_DMG_PATH;\n  },\n\n  get installPath() {\n    return this.allInstallPaths[0];\n  },\n\n  get allInstallPaths() {\n    let paths = String(child_process.spawnSync('mdfind', [\n      'kMDItemCFBundleIdentifier = \"com.kite.Kite\"',\n    ]).stdout).trim().split('\\n');\n    if (paths.indexOf(this.KITE_APP_PATH.defaultInstalled) === -1 && this.checkDefaultAppPath()) {\n      paths.push(this.KITE_APP_PATH.defaultInstalled);\n    }\n    return paths.filter(p => p !== '');\n  },\n\n  get enterpriseInstallPath() {\n    return this.allEnterpriseInstallPaths[0];\n  },\n\n  get allEnterpriseInstallPaths() {\n    return String(child_process.spawnSync('mdfind', [\n      'kMDItemCFBundleIdentifier = \"enterprise.kite.Kite\"',\n    ]).stdout).trim().split('\\n');\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  isAdmin() {\n    try {\n      const user = utils.whoami();\n      const adminUsers = String(child_process.execSync('dscacheutil -q group -a name admin'))\n        .split('\\n')\n        .filter(l => /^users:/.test(l))[0]\n        .trim()\n        .replace(/users:\\s+/, '')\n        .split(/\\s/g);\n      return adminUsers.includes(user);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  arch() {\n    return os.arch();\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    return parseFloat(os.release()) >= 14;\n  },\n\n  isKiteSupported() {\n    return this.isOSVersionSupported();\n  },\n\n  checkDefaultAppPath() {\n    return fs.existsSync(this.KITE_APP_PATH.defaultInstalled);\n  },\n\n  hasKiteRun() {\n    return fs.existsSync(this.KITED_HAS_RUN_PATH);\n  },\n\n  isKiteInstalled() {\n    return utils.spawnPromise(\n      'mdfind',\n      ['kMDItemCFBundleIdentifier = \"com.kite.Kite\"'],\n      'mdfind_error',\n      'Unable to run mdfind and verify that Kite is installed')\n      .then(res => {\n        if ((!res || res.trim() === '') && !this.checkDefaultAppPath()) {\n          throw new KiteStateError('Unable to find Kite application install using mdfind', {\n            state: STATES.UNINSTALLED,\n          });\n        }\n      });\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.allEnterpriseInstallPaths.length > 1;\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return utils.spawnPromise(\n      'mdfind',\n      ['kMDItemCFBundleIdentifier = \"enterprise.kite.Kite\"'],\n      'mdfind_error',\n      'Unable to run mdfind and verify that kite enterprise is installed')\n      .then(res => {\n        if (!res || res.trim() === '') {\n          throw new KiteStateError('Unable to find Kite Enterprise application install using mdfind', {\n            state: STATES.UNINSTALLED,\n          });\n        }\n      });\n  },\n\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.streamKiteDownload(url, opts.onDownloadProgress)\n      .then(() => utils.guardCall(opts.onDownload))\n      .then(() => opts.install && this.installKite(opts));\n  },\n\n  streamKiteDownload(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    return utils.followRedirections(req)\n      .then(resp => {\n        if (progress) {\n          const total = parseInt(resp.headers['content-length'], 10);\n          let length = 0;\n\n          resp.on('data', chunk => {\n            length += chunk.length;\n            progress(length, total, length / total);\n          });\n        }\n\n        return utils.promisifyStream(\n          resp.pipe(fs.createWriteStream(this.downloadPath))\n        )\n          .then(() => new Promise((resolve, reject) => {\n            setTimeout(resolve, 100);\n          }));\n      });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.spawnPromise(\n      'hdiutil',\n      ['attach', '-nobrowse', this.KITE_DMG_PATH],\n      'mount_error',\n      'Unable to mount Kite.dmg')\n      .then(() => utils.guardCall(opts.onMount))\n      .then(() => utils.spawnPromise(\n        'cp',\n        ['-R', this.KITE_APP_PATH.mounted, this.APPS_PATH],\n        'cp_error',\n        'Unable to copy Kite.app in the applications directory'))\n      .then(() => utils.guardCall(opts.onCopy))\n      .then(() => {\n        return utils.spawnPromise(\n          'codesign',\n          ['--force', '--deep', '--sign', '-', this.KITE_APP_PATH.defaultInstalled],\n          'codesign_error',\n          `Unable to code sign ${this.KITE_APP_PATH.defaultInstalled}`);\n      })\n      .then(() => utils.spawnPromise(\n        'hdiutil',\n        ['detach', this.KITE_VOLUME_PATH],\n        'unmount_error',\n        'Unable to unmount Kite.dmg'))\n      .then(() => utils.guardCall(opts.onUnmount))\n      .then(() => utils.spawnPromise(\n        'rm', [this.KITE_DMG_PATH],\n        'rm_error',\n        'Unable to remove Kite.dmg'))\n      .then(() => utils.guardCall(opts.onRemove))\n      // mdfind takes some time to index the app location, so we need to\n      // wait for the install to fully complete. Runs 10 times at 1.5s\n      // intervals.\n      .then(() => utils.retryPromise(() => this.isKiteInstalled(), 10, 1500))\n      .then(() => opts.launchCopilot && this.runKiteWithCopilot(opts));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n      '/bin/ps',\n      ['-axco', 'command'],\n      { encoding: 'utf8' },\n      'ps_error',\n      'Unable to run the ps command and verify that Kite is running')\n      .then(stdout => {\n        const procs = stdout.split('\\n');\n        if (!procs.some(s => /^Kite$/.test(s))) {\n          throw new KiteStateError('Kite process could not be found in the processes list', {\n            state: STATES.NOT_RUNNING,\n          });\n        }\n      });\n  },\n\n  runKiteWithCopilot(opts) {\n    opts = opts || {};\n    const channel = opts.channel ? opts.channel : 'autocomplete-python';\n\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return utils.spawnPromise(\n      'open',\n      ['-a', this.installPath, '--args', '--plugin-launch-with-copilot', `--channel=${channel}`],\n      { env: env },\n      'open_error',\n      'Unable to run the open command to start Kite'\n    );\n  },\n\n  runKite() {\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return this.isKiteRunning()\n      .catch(() => utils.spawnPromise(\n        'defaults',\n        ['write', 'com.kite.Kite', 'shouldReopenSidebar', '0'],\n        'defaults_error',\n        'Unable to run defaults command')\n        .then(() =>\n          utils.spawnPromise(\n            'open',\n            ['-a', this.installPath, '--args', '--plugin-launch', '--channel=autocomplete-python'],\n            { env: env },\n            'open_error',\n            'Unable to run the open command to start Kite'\n          )));\n  },\n\n  isKiteEnterpriseRunning() {\n    return utils.spawnPromise(\n      '/bin/ps',\n      ['-axco', 'command'],\n      { encoding: 'utf8' },\n      'ps_error',\n      'Unable to run the ps command and verify that Kite enterprise is running')\n      .then(stdout => {\n        const procs = stdout.split('\\n');\n        if (!procs.some(s => /^KiteEnterprise$/.test(s))) {\n          throw new KiteStateError('Kite Enterprise process could not be found in the processes list', {\n            state: STATES.NOT_RUNNING,\n          });\n        }\n      });\n  },\n\n  runKiteEnterprise() {\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return utils.spawnPromise(\n      'defaults',\n      ['write', 'enterprise.kite.Kite', 'shouldReopenSidebar', '0'],\n      'defaults_error',\n      'Unable to run defaults command')\n      .then(() =>\n        utils.spawnPromise(\n          'open',\n          ['-a', this.enterpriseInstallPath],\n          { env: env },\n          'open_error',\n          'Unable to run the open command and start Kite enterprise'));\n  },\n};\n\nmodule.exports = OSXSupport;\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\nconst utils = require('../utils.js');\nconst KiteStateError = require('../kite-state-error');\nconst KiteProcessError = require('../kite-process-error');\n\nconst {STATES} = require('../constants');\n\nconst KEY_BAT = `\"${path.join(__dirname, 'read-key.bat')}\"`;\nlet COMPUTED_INSTALL_PATH;\n\nconst WindowsSupport = {\n  RELEASE_URL: 'https://alpha.kite.com/release/dls/windows/current',\n  KITE_INSTALLER_PATH: path.join(os.tmpdir(), 'KiteSetup.exe'),\n  KITED_HAS_RUN_PATH: path.join(process.env.LOCALAPPDATA, 'Kite', 'kited_has_run'),\n  SESSION_FILE_PATH: path.join(process.env.LOCALAPPDATA, 'Kite', 'session.json'),\n\n  // We're only setting the install path in tests\n  set KITE_EXE_PATH(path) {\n    COMPUTED_INSTALL_PATH = path;\n  },\n  get KITE_EXE_PATH() {\n    if (!COMPUTED_INSTALL_PATH) {\n      let installDir, fallbackInstallDir;\n\n      if (process.env.ProgramW6432) {\n        fallbackInstallDir = path.join(process.env.ProgramW6432, 'Kite');\n      } else {\n        // TODO: report that even the fallback needed a fallback\n        fallbackInstallDir = 'C:\\\\Program Files\\\\Kite';\n      }\n\n      try {\n        const registryDir = String(child_process.execSync(KEY_BAT)).trim();\n\n        installDir = registryDir !== 'not found'\n          ? registryDir\n          : fallbackInstallDir;\n      } catch (err) {\n        installDir = fallbackInstallDir;\n      }\n      COMPUTED_INSTALL_PATH = path.join(installDir, 'kited.exe');\n    }\n\n    return COMPUTED_INSTALL_PATH;\n  },\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_INSTALLER_PATH;\n  },\n\n  get installPath() {\n    return this.KITE_EXE_PATH;\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allInstallPaths() {\n    return [this.installPath];\n  },\n\n  get allEnterpriseInstallPaths() {\n    return [];\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  isAdmin() {\n    try {\n      // Note that this method can still fail if the server has not been started\n      // but it has the merit of being simple and reliable\n      // see https://stackoverflow.com/questions/4051883/batch-script-how-to-check-for-admin-rights\n      // for details\n      child_process.execSync('net session');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n\n  arch() {\n    /* if (!this.cachedArch) { this.cachedArch = os.arch(); }\n    \n    // for backwards compatibility, we don't just return the direct result of the os call\n    if (this.cachedArch === 'x32') { return '32bit'; }\n    if (this.cachedArch === 'x64') { return '64bit'; }\n    \n    return this.cachedArch; */\n    \n    // we are lax here due to an edge case with a 32bit vscode running on a 64bit\n    // os that results in Node getting the architecture of the VSCode environment vs.\n    // the architecture of the OS itself\n    // Ultimately, this deserves more thought in terms of its handling\n    return '64bit';\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    return parseFloat(os.release()) >= 6.1 &&\n           this.arch() === '64bit';\n  },\n\n  isKiteSupported() {\n    return this.isOSVersionSupported();\n  },\n\n  hasKiteRun() {\n    return fs.existsSync(this.KITED_HAS_RUN_PATH);\n  },\n\n  isKiteInstalled() {\n    return new Promise((resolve, reject) => {\n      fs.exists(this.KITE_EXE_PATH, (exists) => {\n        if (exists) {\n          resolve();\n        } else {\n          reject(new KiteStateError('', {\n            state: STATES.UNINSTALLED,\n          }));\n        }\n      });\n    });\n  },\n\n  isKiteEnterpriseInstalled() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.allEnterpriseInstallPaths.length > 1;\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.streamKiteDownload(url, opts.onDownloadProgress)\n      .then(() => utils.guardCall(opts.onDownload))\n      .then(() => opts.install && this.installKite(opts));\n  },\n\n  streamKiteDownload(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    return utils.followRedirections(req)\n      .then(resp => {\n        if (progress) {\n          const total = parseInt(resp.headers['content-length'], 10);\n          let length = 0;\n\n          resp.on('data', chunk => {\n            length += chunk.length;\n            progress(length, total, length / total);\n          });\n        }\n\n        return utils.promisifyStream(\n          resp.pipe(fs.createWriteStream(this.downloadPath))\n        )\n          .then(() => new Promise((resolve, reject) => {\n            setTimeout(resolve, 100);\n          }));\n      });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n    const launch = opts.launchCopilot ? '--plugin-launch-with-copilot' : '--plugin-launch';\n    const channel = opts.channel ? opts.channel : 'autocomplete-python';\n\n    var env = Object.create(process.env);\n    env.KITE_SKIP_ONBOARDING = '1';\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.execPromise(\n      `\"${this.KITE_INSTALLER_PATH}\" --skip-onboarding ${launch} --channel=${channel}`,\n      {env: env},\n      'kite_install_error',\n      'Unable to run Kite installer')\n      .then(() => utils.guardCall(opts.onCopy))\n      .then(() => fs.unlinkSync(this.KITE_INSTALLER_PATH))\n      .then(() => utils.guardCall(opts.onRemove));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n      'tasklist',\n      'tasklist_error',\n      'Unable to run the tasklist command and verify whether kite is running or not')\n      .then(stdout => {\n        const procs = stdout.split('\\n');\n        if (procs.every(l => l.indexOf('kited.exe') === -1)) {\n          throw new KiteStateError('Unable to find kited.exe process in the tasks list', {\n            state: STATES.NOT_RUNNING,\n          });\n        }\n      });\n  },\n\n  runKiteWithCopilot(opts) {\n    opts = opts || {};\n    const channel = opts.channel ? opts.channel : 'autocomplete-python';\n\n    var env = Object.create(process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n    return new Promise((resolve, reject) => {\n      try {\n        child_process.spawn(\n          this.KITE_EXE_PATH,\n          ['--plugin-launch-with-copilot', `--channel=${channel}`],\n          {detached: true, env: env});\n        resolve();\n      } catch (err) {\n        reject(new KiteProcessError('kite_exe_error',\n          {\n            message: 'Unable to run kite executable',\n            callStack: err.stack,\n            cmd: this.KITE_EXE_PATH,\n            options: {detached: true, env: env},\n          }));\n      }\n    });\n  },\n\n  runKite() {\n    return this.isKiteRunning()\n      .catch(() => {\n        var env = Object.create(process.env);\n        env.KITE_SKIP_ONBOARDING = '1';\n        delete env['ELECTRON_RUN_AS_NODE'];\n\n        try {\n          child_process.spawn(\n            this.KITE_EXE_PATH,\n            ['--plugin-launch', '--channel=autocomplete-python'],\n            {detached: true, env: env});\n        } catch (err) {\n          throw new KiteProcessError('kite_exe_error',\n            {\n              message: 'Unable to run kite executable',\n              callStack: err.stack,\n              cmd: this.KITE_EXE_PATH,\n              options: {detached: true, env: env},\n            });\n        }\n      });\n  },\n\n  isKiteEnterpriseRunning() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n\n  runKiteEnterprise() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n};\n\nmodule.exports = WindowsSupport;\n","'use strict';\n\nconst http = require('http');\nconst https = require('https');\nconst child_process = require('child_process');\nconst KiteRequestError = require('./kite-request-error');\nconst KiteProcessError = require('./kite-process-error');\n\nfunction deepMerge(a, b) {\n  a = JSON.parse(JSON.stringify(a || {}));\n  b = JSON.parse(JSON.stringify(b || {}));\n  const c = Object.assign({}, a);\n\n  Object.keys(b).forEach(k => {\n    if (c[k] && typeof c[k] == 'object') {\n      c[k] = deepMerge(c[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  });\n\n  return c;\n}\n\nfunction promisifyRequest(request) {\n  return new Promise((resolve, reject) => {\n    request.on('response', resp => resolve(resp));\n    request.on('error', err => reject(err));\n  });\n}\n\nfunction promisifyStream(stream) {\n  return new Promise((resolve, reject) => {\n    stream.on('finish', () => resolve());\n    stream.on('error', err => reject(err));\n  });\n}\n\nfunction request(url) {\n  return url.indexOf('https://') === 0\n    ? https.request(url)\n    : http.request(url);\n}\n\nfunction hasHeader(header, headers) {\n  return header in headers ? header : false;\n}\n\nfunction isRedirection(resp) {\n  return resp.statusCode >= 300 &&\n    resp.statusCode < 400 &&\n    hasHeader('location', resp.headers);\n}\n\n// Given a request this function will follow the redirection until a\n// code different that 303 is returned\nfunction followRedirections(req) {\n  return promisifyRequest(req)\n    .then(resp => {\n      if (resp.statusCode >= 200 && resp.statusCode < 300) {\n        return resp;\n      } else if (isRedirection(resp)) {\n        const location = resp.headers.location;\n        const req = request(location);\n        req.end();\n        return followRedirections(req);\n      } else {\n        throw new KiteRequestError('Invalid response status when following redirection', {\n          request: req,\n          response: resp,\n          responseStatus: resp.statusCode,\n        });\n      }\n    });\n}\n\nfunction parseSetCookies(cookies) {\n  if (!Array.isArray(cookies) || !cookies.length) {\n    return [];\n  }\n  var parse = (cookie) => {\n    var parsed = {\n      Path: '',\n      Domain: '',\n      Expires: new Date('0001-01-01T00:00:00Z'),\n      RawExpires: '',\n      MaxAge: 0,\n      Secure: false,\n      HttpOnly: false,\n      Raw: '',\n      Unparsed: null,\n    };\n    cookie.split('; ').forEach((raw) => {\n      if (raw === 'HttpOnly') {\n        parsed.HttpOnly = true;\n        return;\n      }\n      if (raw === 'Secure') {\n        parsed.Secure = true;\n        return;\n      }\n      var idx = raw.indexOf('=');\n      var key = raw.substring(0, idx);\n      var val = raw.substring(idx + 1);\n      if (key === 'Expires') {\n        val = new Date(val);\n      }\n      if (key in parsed) {\n        parsed[key] = val;\n      } else {\n        parsed.Name = key;\n        parsed.Value = val;\n      }\n    });\n    return parsed;\n  };\n  return cookies.map(parse);\n}\n\nfunction findCookie(cookies, name) {\n  return cookies.filter(c => c.Name === name)[0];\n}\n\nfunction dumpCookies(cookies) {\n  return cookies.map((c) => c.Name + '=' + c.Value).join('; ');\n}\n\nfunction handleResponseData(resp, callback) {\n  if (callback) {\n    let data = '';\n    resp.on('data', (chunk) => data += chunk);\n    resp.on('end', () => callback(data));\n    return null;\n  } else {\n    return new Promise((resolve, reject) => {\n      let data = '';\n      resp.on('data', (chunk) => data += chunk);\n      resp.on('error', err => reject(err));\n      resp.on('end', () => resolve(data));\n    });\n  }\n}\n\n// Returns a new Promise that resolve if the passed-in promise is rejected and\n// will be rejected with the provided error if the passed-in promise resolve.\nfunction reversePromise(promise, rejectionMessage, resolutionMessage) {\n  return new Promise((resolve, reject) => {\n    promise\n      .then(() => reject(rejectionMessage))\n      .catch(() => resolve(resolutionMessage));\n  });\n}\n\n// Given a function returning a promise, it returns a new Promise that will be\n// resolved if one of the promises returned by the function resolves. If no\n// promises have been resolved after the specified amount of attempts the\n// returned promise will be rejected\nfunction retryPromise(doAttempt, attempts, interval) {\n  return new Promise((resolve, reject) => {\n    makeAttempt(0, resolve, reject);\n  });\n\n  function makeAttempt(n, resolve, reject) {\n    var retryOrReject = (err) => {\n      n + 1 >= attempts\n        ? reject(err)\n        : makeAttempt(n + 1, resolve, reject);\n    };\n    setTimeout(() =>\n      doAttempt().then(resolve, retryOrReject),\n      n ? interval : 0);\n  }\n}\n\n// Spawns a child process and returns a promise that will be resolved if\n// the process ends with a code of 0, otherwise the promise will be rejected\n// with an error object of the provided rejectionType.\nfunction spawnPromise(cmd, cmdArgs, cmdOptions, rejectionType, rejectionMessage) {\n  const args = [cmd];\n\n  if (cmdArgs) {\n    if (typeof cmdArgs === 'string') {\n      rejectionType = cmdArgs;\n      rejectionMessage = cmdOptions;\n    } else {\n      args.push(cmdArgs);\n    }\n  }\n\n  if (cmdOptions) {\n    if (typeof cmdOptions === 'string') {\n      rejectionMessage = rejectionType;\n      rejectionType = cmdOptions;\n    } else {\n      args.push(cmdOptions);\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    const proc = child_process.spawn(...args);\n    let stdout = '';\n    let stderr = '';\n    const processErr = (err) => {\n      return new KiteProcessError(rejectionType,\n        {\n          message: rejectionMessage + ' for args: ' + args.join(' '),\n          stderr,\n          stdout,\n          callStack: err.stack,\n          cmd: `${cmd} ${(typeof cmdOptions != 'string' ? cmdArgs || [] : []).join(' ')}`,\n          options: typeof cmdOptions != 'string' ? cmdOptions : undefined,\n        });\n    };\n\n    proc.stdout.on('data', data => stdout += data);\n    proc.stderr.on('data', data => stdout += data);\n    proc.stdout.on('error', err => reject(processErr(err)));\n    proc.stderr.on('error', err => reject(processErr(err)));\n\n    const error = new Error();\n\n    proc.on('error', err => {\n      reject(processErr(err));\n    });\n\n    proc.on('close', code => {\n      code\n        ? reject(processErr(error))\n        : resolve(stdout);\n    });\n  });\n}\n\nfunction anyPromise(arrayOfPromises) {\n  // For each promise that resolves or rejects,\n  // make them all resolve.\n  // Record which ones did resolve or reject\n  const resolvingPromises = arrayOfPromises.map(promise => {\n    return promise\n      .then(result => ({ resolve: true, result: result }))\n      .catch(error => ({ resolve: false, result: error }));\n  });\n\n  return Promise.all(resolvingPromises).then(results => {\n    const resolved = results.reduce((m, r) => {\n      if (m) { return m; }\n      if (r.resolve) { return r; }\n      return null;\n    }, null);\n\n\n    if (resolved) {\n      return resolved.result;\n    } else {\n      throw results.map(r => r.result);\n    }\n  });\n}\n\n// Exec a child process and returns a promise that will be resolved if\n// the process ends with success, otherwise the promise will be rejected\n// with an error object of the provided rejectionType.\nfunction execPromise(cmd, cmdOptions, rejectionType, rejectionMessage) {\n  const args = [cmd];\n\n  if (cmdOptions) {\n    if (cmdOptions === 'string') {\n      rejectionMessage = rejectionType;\n      rejectionType = cmdOptions;\n      cmdOptions = {};\n    }\n  } else {\n    cmdOptions = {};\n  }\n\n  args.push(cmdOptions);\n\n  const error = new Error();\n\n  return new Promise((resolve, reject) => {\n    child_process.exec(...args, (err, stdout, stderr) => {\n      if (err) {\n        reject(new KiteProcessError(rejectionType,\n          {\n            message: rejectionMessage,\n            stdout,\n            stderr,\n            callStack: error.stack,\n            cmd,\n            options: typeof cmdOptions != 'string' ? cmdOptions : undefined,\n          }));\n      }\n      resolve(stdout);\n    });\n  });\n}\n\n// Calls the passed-in function if its actually a function.\nfunction guardCall(fn) { typeof fn === 'function' && fn(); }\n\n// Attempts to parse a json string and returns the fallback if it can't.\nfunction parseJSON(json, fallback) {\n  try { return JSON.parse(json) || fallback; } catch (e) { return fallback; }\n}\n\n// evaluates whether a particular path should have extra processing\n// done on it in the case of a Promise rejection\n// NB: this should be taken out with a more robust refactor\nfunction shouldAddCatchProcessing(path) {\n  return !path.startsWith('/clientapi/editor');\n}\n\n// should be wrapped in try/catch\nfunction whoami() {\n  return String(child_process.execSync('whoami')).trim();\n}\n\nmodule.exports = {\n  anyPromise,\n  deepMerge,\n  dumpCookies,\n  execPromise,\n  findCookie,\n  followRedirections,\n  guardCall,\n  handleResponseData,\n  parseJSON,\n  parseSetCookies,\n  promisifyRequest,\n  promisifyStream,\n  retryPromise,\n  reversePromise,\n  shouldAddCatchProcessing,\n  spawnPromise,\n  whoami,\n};\n",";(function () { // closure for web browsers\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = LRUCache\n} else {\n  // just set the global for non-node platforms.\n  this.LRUCache = LRUCache\n}\n\nfunction hOP (obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key)\n}\n\nfunction naiveLength () { return 1 }\n\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  var max\n  if (typeof options === 'number') {\n    max = options\n    options = { max: max }\n  }\n\n  if (!options) options = {}\n\n  max = options.max\n\n  var lengthCalculator = options.length || naiveLength\n\n  if (typeof lengthCalculator !== \"function\") {\n    lengthCalculator = naiveLength\n  }\n\n  if (!max || !(typeof max === \"number\") || max <= 0 ) {\n    // a little bit silly.  maybe this should throw?\n    max = Infinity\n  }\n\n  var allowStale = options.stale || false\n\n  var maxAge = options.maxAge || null\n\n  var dispose = options.dispose\n\n  var cache = Object.create(null) // hash of items by key\n    , lruList = Object.create(null) // list of items in order of use recency\n    , mru = 0 // most recently used\n    , lru = 0 // least recently used\n    , length = 0 // number of items in the list\n    , itemCount = 0\n\n\n  // resize the cache when the max changes.\n  Object.defineProperty(this, \"max\",\n    { set : function (mL) {\n        if (!mL || !(typeof mL === \"number\") || mL <= 0 ) mL = Infinity\n        max = mL\n        // if it gets above double max, trim right away.\n        // otherwise, do it whenever it's convenient.\n        if (length > max) trim()\n      }\n    , get : function () { return max }\n    , enumerable : true\n    })\n\n  // resize the cache when the lengthCalculator changes.\n  Object.defineProperty(this, \"lengthCalculator\",\n    { set : function (lC) {\n        if (typeof lC !== \"function\") {\n          lengthCalculator = naiveLength\n          length = itemCount\n          for (var key in cache) {\n            cache[key].length = 1\n          }\n        } else {\n          lengthCalculator = lC\n          length = 0\n          for (var key in cache) {\n            cache[key].length = lengthCalculator(cache[key].value)\n            length += cache[key].length\n          }\n        }\n\n        if (length > max) trim()\n      }\n    , get : function () { return lengthCalculator }\n    , enumerable : true\n    })\n\n  Object.defineProperty(this, \"length\",\n    { get : function () { return length }\n    , enumerable : true\n    })\n\n\n  Object.defineProperty(this, \"itemCount\",\n    { get : function () { return itemCount }\n    , enumerable : true\n    })\n\n  this.forEach = function (fn, thisp) {\n    thisp = thisp || this\n    var i = 0;\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      i++\n      var hit = lruList[k]\n      fn.call(thisp, hit.value, hit.key, this)\n    }\n  }\n\n  this.keys = function () {\n    var keys = new Array(itemCount)\n    var i = 0\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      var hit = lruList[k]\n      keys[i++] = hit.key\n    }\n    return keys\n  }\n\n  this.values = function () {\n    var values = new Array(itemCount)\n    var i = 0\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      var hit = lruList[k]\n      values[i++] = hit.value\n    }\n    return values\n  }\n\n  this.reset = function () {\n    if (dispose) {\n      for (var k in cache) {\n        dispose(k, cache[k].value)\n      }\n    }\n    cache = {}\n    lruList = {}\n    lru = 0\n    mru = 0\n    length = 0\n    itemCount = 0\n  }\n\n  // Provided for debugging/dev purposes only. No promises whatsoever that\n  // this API stays stable.\n  this.dump = function () {\n    return cache\n  }\n\n  this.dumpLru = function () {\n    return lruList\n  }\n\n  this.set = function (key, value) {\n    if (hOP(cache, key)) {\n      // dispose of the old one before overwriting\n      if (dispose) dispose(key, cache[key].value)\n      if (maxAge) cache[key].now = Date.now()\n      cache[key].value = value\n      this.get(key)\n      return true\n    }\n\n    var len = lengthCalculator(value)\n    var age = maxAge ? Date.now() : 0\n    var hit = new Entry(key, value, mru++, len, age)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > max) {\n      if (dispose) dispose(key, value)\n      return false\n    }\n\n    length += hit.length\n    lruList[hit.lu] = cache[key] = hit\n    itemCount ++\n\n    if (length > max) trim()\n    return true\n  }\n\n  this.has = function (key) {\n    if (!hOP(cache, key)) return false\n    var hit = cache[key]\n    if (maxAge && (Date.now() - hit.now > maxAge)) {\n      return false\n    }\n    return true\n  }\n\n  this.get = function (key) {\n    if (!hOP(cache, key)) return\n    var hit = cache[key]\n    if (maxAge && (Date.now() - hit.now > maxAge)) {\n      this.del(key)\n      return allowStale ? hit.value : undefined\n    }\n    shiftLU(hit)\n    hit.lu = mru ++\n    lruList[hit.lu] = hit\n    return hit.value\n  }\n\n  this.del = function (key) {\n    del(cache[key])\n  }\n\n  function trim () {\n    while (lru < mru && length > max)\n      del(lruList[lru])\n  }\n\n  function shiftLU(hit) {\n    delete lruList[ hit.lu ]\n    while (lru < mru && !lruList[lru]) lru ++\n  }\n\n  function del(hit) {\n    if (hit) {\n      if (dispose) dispose(hit.key, hit.value)\n      length -= hit.length\n      itemCount --\n      delete cache[ hit.key ]\n      shiftLU(hit)\n    }\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, mru, len, age) {\n  this.key = key\n  this.value = value\n  this.lu = mru\n  this.length = len\n  this.now = age\n}\n\n})()\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/*\n    Heavily inspired by the original js library copyright Mixpanel, Inc.\n    (http://mixpanel.com/)\n\n    Copyright (c) 2012 Carl Sverre\n\n    Released under the MIT license.\n*/\n\nvar http        = require('http'),\n    https       = require('https'),\n    querystring = require('querystring'),\n    Buffer      = require('buffer').Buffer,\n    util        = require('util');\n\nvar REQUEST_LIBS = {\n    http: http,\n    https: https\n};\n\nvar create_client = function(token, config) {\n    var metrics = {};\n\n    if(!token) {\n        throw new Error(\"The Mixpanel Client needs a Mixpanel token: `init(token)`\");\n    }\n\n    // Default config\n    metrics.config = {\n        test: false,\n        debug: false,\n        verbose: false,\n        host: 'api.mixpanel.com',\n        protocol: 'http'\n    };\n\n    metrics.token = token;\n\n    /**\n        send_request(data)\n        ---\n        this function sends an async GET request to mixpanel\n\n        data:object                     the data to send in the request\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.send_request = function(endpoint, data, callback) {\n        callback = callback || function() {};\n        var event_data = new Buffer(JSON.stringify(data));\n        var request_data = {\n            'data': event_data.toString('base64'),\n            'ip': 0,\n            'verbose': metrics.config.verbose ? 1 : 0\n        };\n\n        var request_lib = REQUEST_LIBS[metrics.config.protocol];\n        if (!request_lib) {\n            throw new Error(\n                \"Mixpanel Initialization Error: Unsupported protocol \" + metrics.config.protocol + \". \" +\n                \"Supported protocols are: \" + Object.keys(REQUEST_LIBS)\n            );\n        }\n\n        if (endpoint === '/import') {\n            var key = metrics.config.key;\n            if (!key) {\n                throw new Error(\"The Mixpanel Client needs a Mixpanel api key when importing old events: `init(token, { key: ... })`\");\n            }\n            request_data.api_key = key;\n        }\n\n        var request_options = {\n            host: metrics.config.host,\n            port: metrics.config.port,\n            headers: {}\n        };\n\n        if (metrics.config.test) { request_data.test = 1; }\n\n        var query = querystring.stringify(request_data);\n\n        request_options.path = [endpoint,\"?\",query].join(\"\");\n\n        request_lib.get(request_options, function(res) {\n            var data = \"\";\n            res.on('data', function(chunk) {\n               data += chunk;\n            });\n\n            res.on('end', function() {\n                var e;\n                if (metrics.config.verbose) {\n                    try {\n                        var result = JSON.parse(data);\n                        if(result.status != 1) {\n                            e = new Error(\"Mixpanel Server Error: \" + result.error);\n                        }\n                    }\n                    catch(ex) {\n                        e = new Error(\"Could not parse response from Mixpanel\");\n                    }\n                }\n                else {\n                    e = (data !== '1') ? new Error(\"Mixpanel Server Error: \" + data) : undefined;\n                }\n\n                callback(e);\n            });\n        }).on('error', function(e) {\n            if (metrics.config.debug) {\n                console.log(\"Got Error: \" + e.message);\n            }\n            callback(e);\n        });\n    };\n\n    /**\n        track(event, properties, callback)\n        ---\n        this function sends an event to mixpanel.\n\n        event:string                    the event name\n        properties:object               additional event properties to send\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.track = function(event, properties, callback) {\n        if (typeof(properties) === 'function' || !properties) {\n            callback = properties;\n            properties = {};\n        }\n\n        // if properties.time exists, use import endpoint\n        var endpoint = (typeof(properties.time) === 'number') ? '/import' : '/track';\n\n        properties.token = metrics.token;\n        properties.mp_lib = \"node\";\n\n        var data = {\n            'event' : event,\n            'properties' : properties\n        };\n\n        if (metrics.config.debug) {\n            console.log(\"Sending the following event to Mixpanel:\");\n            console.log(data);\n        }\n\n        metrics.send_request(endpoint, data, callback);\n    };\n\n    var parse_time = function(time) {\n        if (time === void 0) {\n            throw new Error(\"Import methods require you to specify the time of the event\");\n        } else if (Object.prototype.toString.call(time) === '[object Date]') {\n            time = Math.floor(time.getTime() / 1000);\n        }\n        return time;\n    };\n\n    /**\n        import(event, properties, callback)\n        ---\n        This function sends an event to mixpanel using the import\n        endpoint.  The time argument should be either a Date or Number,\n        and should signify the time the event occurred.\n\n        It is highly recommended that you specify the distinct_id\n        property for each event you import, otherwise the events will be\n        tied to the IP address of the sending machine.\n\n        For more information look at:\n        https://mixpanel.com/docs/api-documentation/importing-events-older-than-31-days\n\n        event:string                    the event name\n        time:date|number                the time of the event\n        properties:object               additional event properties to send\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.import = function(event, time, properties, callback) {\n        if (typeof(properties) === 'function' || !properties) {\n            callback = properties;\n            properties = {};\n        }\n\n        properties.time = parse_time(time);\n\n        metrics.track(event, properties, callback);\n    };\n\n    /**\n        import_batch(event_list, options, callback)\n        ---\n        This function sends a list of events to mixpanel using the import\n        endpoint. The format of the event array should be:\n\n        [\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date(), // Number or Date; required for each event\n                    \"key\": \"val\",\n                    ...\n                }\n            },\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date()  // Number or Date; required for each event\n                }\n            },\n            ...\n        ]\n\n        See import() for further information about the import endpoint.\n\n        Options:\n            max_batch_size: the maximum number of events to be transmitted over\n                            the network simultaneously. useful for capping bandwidth\n                            usage.\n\n        N.B.: the Mixpanel API only accepts 50 events per request, so regardless\n        of max_batch_size, larger lists of events will be chunked further into\n        groups of 50.\n\n        event_list:array                    list of event names and properties\n        options:object                      optional batch configuration\n        callback:function(error_list:array) callback is called when the request is\n                                            finished or an error occurs\n    */\n    metrics.import_batch = function(event_list, options, callback) {\n        var batch_size = 50, // default: Mixpanel API permits 50 events per request\n            total_events = event_list.length,\n            max_simultaneous_events = total_events,\n            completed_events = 0,\n            event_group_idx = 0,\n            request_errors = [];\n\n        if (typeof(options) === 'function' || !options) {\n            callback = options;\n            options = {};\n        }\n        if (options.max_batch_size) {\n            max_simultaneous_events = options.max_batch_size;\n            if (options.max_batch_size < batch_size) {\n                batch_size = options.max_batch_size;\n            }\n        }\n\n        var send_next_batch = function() {\n            var properties,\n                event_batch = [];\n\n            // prepare batch with required props\n            for (var ei = event_group_idx; ei < total_events && ei < event_group_idx + batch_size; ei++) {\n                properties = event_list[ei].properties;\n                properties.time = parse_time(properties.time);\n                if (!properties.token) {\n                    properties.token = metrics.token;\n                }\n                event_batch.push(event_list[ei]);\n            }\n\n            if (event_batch.length > 0) {\n                metrics.send_request('/import', event_batch, function(e) {\n                    completed_events += event_batch.length;\n                    if (e) {\n                        request_errors.push(e);\n                    }\n                    if (completed_events < total_events) {\n                        send_next_batch();\n                    } else if (callback) {\n                        callback(request_errors);\n                    }\n                });\n                event_group_idx += batch_size;\n            }\n        };\n\n        if (metrics.config.debug) {\n            console.log(\n                \"Sending \" + event_list.length + \" events to Mixpanel in \" +\n                Math.ceil(total_events / batch_size) + \" requests\"\n            );\n        }\n\n        for (var i = 0; i < max_simultaneous_events; i += batch_size) {\n            send_next_batch();\n        }\n    };\n\n    /**\n        alias(distinct_id, alias)\n        ---\n        This function creates an alias for distinct_id\n\n        For more information look at:\n        https://mixpanel.com/docs/integration-libraries/using-mixpanel-alias\n\n        distinct_id:string              the current identifier\n        alias:string                    the future alias\n    */\n    metrics.alias = function(distinct_id, alias, callback) {\n        var properties = {\n            distinct_id: distinct_id,\n            alias: alias\n        };\n\n        metrics.track('$create_alias', properties, callback);\n    };\n\n    metrics.people = {\n        /** people.set_once(distinct_id, prop, to, modifiers, callback)\n            ---\n            The same as people.set but in the words of mixpanel:\n            mixpanel.people.set_once\n\n            \" This method allows you to set a user attribute, only if\n             it is not currently set. It can be called multiple times\n             safely, so is perfect for storing things like the first date\n             you saw a user, or the referrer that brought them to your\n             website for the first time. \"\n\n        */\n        set_once: function(distinct_id, prop, to, modifiers, callback) {\n            var $set = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(to) === 'object') {\n                    callback = modifiers;\n                    modifiers = to;\n                } else {\n                    callback = to;\n                }\n                $set = prop;\n            } else {\n                $set[prop] = to;\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers;\n                }\n            }\n\n            modifiers = modifiers || {};\n            modifiers.set_once = true;\n\n            this._set(distinct_id, $set, callback, modifiers);\n        },\n\n        /**\n            people.set(distinct_id, prop, to, modifiers, callback)\n            ---\n            set properties on an user record in engage\n\n            usage:\n\n                mixpanel.people.set('bob', 'gender', 'm');\n\n                mixpanel.people.set('joe', {\n                    'company': 'acme',\n                    'plan': 'premium'\n                });\n        */\n        set: function(distinct_id, prop, to, modifiers, callback) {\n            var $set = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(to) === 'object') {\n                    callback = modifiers;\n                    modifiers = to;\n                } else {\n                    callback = to;\n                }\n                $set = prop;\n            } else {\n                $set[prop] = to;\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers;\n                }\n            }\n\n            this._set(distinct_id, $set, callback, modifiers);\n        },\n\n        // used internally by set and set_once\n        _set: function(distinct_id, $set, callback, options) {\n            options = options || {};\n            var set_key = (options && options.set_once) ? \"$set_once\" : \"$set\";\n\n            var data = {\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n            data[set_key] = $set;\n\n            if ('ip' in $set) {\n                data.$ip = $set.ip;\n                delete $set.ip;\n            }\n\n            if ($set.$ignore_time) {\n                data.$ignore_time = $set.$ignore_time;\n                delete $set.$ignore_time;\n            }\n\n            data = merge_modifiers(data, options);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.increment(distinct_id, prop, by, modifiers, callback)\n            ---\n            increment/decrement properties on an user record in engage\n\n            usage:\n\n                mixpanel.people.increment('bob', 'page_views', 1);\n\n                // or, for convenience, if you're just incrementing a counter by 1, you can\n                // simply do\n                mixpanel.people.increment('bob', 'page_views');\n\n                // to decrement a counter, pass a negative number\n                mixpanel.people.increment('bob', 'credits_left', -1);\n\n                // like mixpanel.people.set(), you can increment multiple properties at once:\n                mixpanel.people.increment('bob', {\n                    counter1: 1,\n                    counter2: 3,\n                    counter3: -2\n                });\n        */\n        increment: function(distinct_id, prop, by, modifiers, callback) {\n            var $add = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(by) === 'object') {\n                    callback = modifiers;\n                    modifiers = by;\n                } else {\n                    callback = by;\n                }\n                Object.keys(prop).forEach(function(key) {\n                    var val = prop[key];\n\n                    if (isNaN(parseFloat(val))) {\n                        if (metrics.config.debug) {\n                            console.error(\"Invalid increment value passed to mixpanel.people.increment - must be a number\");\n                            console.error(\"Passed \" + key + \":\" + val);\n                        }\n                        return;\n                    } else {\n                        $add[key] = val;\n                    }\n                });\n            } else {\n                if (typeof(by) === 'number' || !by) {\n                    by = by || 1;\n                    $add[prop] = by;\n                    if (typeof(modifiers) === 'function') {\n                        callback = modifiers;\n                    }\n                } else if (typeof(by) === 'function') {\n                    callback = by;\n                    $add[prop] = 1;\n                } else {\n                    callback = modifiers;\n                    modifiers = (typeof(by) === 'object') ? by : {};\n                    $add[prop] = 1;\n                }\n            }\n\n            var data = {\n                '$add': $add,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.append(distinct_id, prop, value, modifiers, callback)\n            ---\n            Append a value to a list-valued people analytics property.\n\n            usage:\n\n                // append a value to a list, creating it if needed\n                mixpanel.people.append('pages_visited', 'homepage');\n\n                // like mixpanel.people.set(), you can append multiple properties at once:\n                mixpanel.people.append({\n                    list1: 'bob',\n                    list2: 123\n                });\n        */\n        append: function(distinct_id, prop, value, modifiers, callback) {\n            var $append = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(value) === 'object') {\n                    callback = modifiers;\n                    modifiers = value;\n                } else {\n                    callback = value;\n                }\n                Object.keys(prop).forEach(function(key) {\n                    $append[key] = prop[key];\n                });\n            } else {\n                $append[prop] = value;\n                if (typeof(modifiers) === 'function') {\n                    callback = modifiers;\n                }\n            }\n\n            var data = {\n                '$append': $append,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.track_charge(distinct_id, amount, properties, modifiers, callback)\n            ---\n            Record that you have charged the current user a certain\n            amount of money.\n\n            usage:\n\n                // charge a user $29.99\n                mixpanel.people.track_charge('bob', 29.99);\n\n                // charge a user $19 on the 1st of february\n                mixpanel.people.track_charge('bob', 19, { '$time': new Date('feb 1 2012') });\n        */\n        track_charge: function(distinct_id, amount, properties, modifiers, callback) {\n            if (typeof(properties) === 'function' || !properties) {\n                callback = properties || function() {};\n                properties = {};\n            } else {\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers || function() {};\n                    if (properties.$ignore_time || properties.hasOwnProperty(\"$ip\")) {\n                        modifiers = {};\n                        Object.keys(properties).forEach(function(key) {\n                            modifiers[key] = properties[key];\n                            delete properties[key];\n                        });\n                    }\n                }\n            }\n\n            if (typeof(amount) !== 'number') {\n                amount = parseFloat(amount);\n                if (isNaN(amount)) {\n                    console.error(\"Invalid value passed to mixpanel.people.track_charge - must be a number\");\n                    return;\n                }\n            }\n\n            properties.$amount = amount;\n\n            if (properties.hasOwnProperty('$time')) {\n                var time = properties.$time;\n                if (Object.prototype.toString.call(time) === '[object Date]') {\n                    properties.$time = time.toISOString();\n                }\n            }\n\n            var data = {\n                '$append': { '$transactions': properties },\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.clear_charges(distinct_id, modifiers, callback)\n            ---\n            Clear all the current user's transactions.\n\n            usage:\n\n                mixpanel.people.clear_charges('bob');\n        */\n        clear_charges: function(distinct_id, modifiers, callback) {\n            var data = {\n                '$set': { '$transactions': [] },\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Clearing this user's charges:\", distinct_id);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.delete_user(distinct_id, modifiers, callback)\n            ---\n            delete an user record in engage\n\n            usage:\n\n                mixpanel.people.delete_user('bob');\n        */\n        delete_user: function(distinct_id, modifiers, callback) {\n            var data = {\n                '$delete': '',\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Deleting the user from engage:\", distinct_id);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n         people.union(distinct_id, data, modifiers, callback)\n         ---\n         merge value(s) into a list-valued people analytics property.\n\n         usage:\n\n            mixpanel.people.union('bob', {'browsers': 'firefox'});\n\n            mixpanel.people.union('bob', {'browsers', ['chrome'], os: ['linux']});\n         */\n        union: function(distinct_id, data, modifiers, callback) {\n            var $union = {};\n\n            if (typeof(data) !== 'object' || util.isArray(data)) {\n                if (metrics.config.debug) {\n                    console.error(\"Invalid value passed to mixpanel.people.union - data must be an object with array values\");\n                }\n                return;\n            }\n\n            Object.keys(data).forEach(function(key) {\n                var val = data[key];\n                if (util.isArray(val)) {\n                    var merge_values = val.filter(function(v) {\n                        return typeof(v) === 'string' || typeof(v) === 'number';\n                    });\n                    if (merge_values.length > 0) {\n                        $union[key] = merge_values;\n                    }\n                } else if (typeof(val) === 'string' || typeof(val) === 'number') {\n                    $union[key] = [val];\n                } else {\n                    if (metrics.config.debug) {\n                        console.error(\"Invalid argument passed to mixpanel.people.union - values must be a scalar value or array\");\n                        console.error(\"Passed \" + key + ':', val);\n                    }\n                    return;\n                }\n            });\n\n            if (Object.keys($union).length === 0) {\n                return;\n            }\n\n            data = {\n                '$union': $union,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') {\n                callback = modifiers;\n            }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n         people.unset(distinct_id, prop, modifiers, callback)\n         ---\n         delete a property on an user record in engage\n\n         usage:\n\n            mixpanel.people.unset('bob', 'page_views');\n\n            mixpanel.people.unset('bob', ['page_views', 'last_login']);\n         */\n        unset: function(distinct_id, prop, modifiers, callback) {\n            var $unset = [];\n\n            if (util.isArray(prop)) {\n                $unset = prop;\n            } else if (typeof(prop) === 'string') {\n                $unset = [prop];\n            } else {\n                if (metrics.config.debug) {\n                    console.error(\"Invalid argument passed to mixpanel.people.unset - must be a string or array\");\n                    console.error(\"Passed: \" + prop);\n                }\n                return;\n            }\n\n            var data = {\n                '$unset': $unset,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') {\n                callback = modifiers;\n            }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        }\n    };\n\n    var merge_modifiers = function(data, modifiers) {\n        if (modifiers) {\n            if (modifiers.$ignore_alias) {\n                data.$ignore_alias = modifiers.$ignore_alias;\n            }\n            if (modifiers.$ignore_time) {\n                data.$ignore_time = modifiers.$ignore_time;\n            }\n            if (modifiers.hasOwnProperty(\"$ip\")) {\n                data.$ip = modifiers.$ip;\n            }\n            if (modifiers.hasOwnProperty(\"$time\")) {\n                data.$time = parse_time(modifiers.$time);\n            }\n        }\n        return data;\n    };\n\n    /**\n        set_config(config)\n        ---\n        Modifies the mixpanel config\n\n        config:object       an object with properties to override in the\n                            mixpanel client config\n    */\n    metrics.set_config = function(config) {\n        for (var c in config) {\n            if (config.hasOwnProperty(c)) {\n                if (c == \"host\") { // Split host, into host and port.\n                    metrics.config.host = config[c].split(':')[0];\n                    var port = config[c].split(':')[1];\n                    if (port) {\n                        metrics.config.port = Number(port);\n                    }\n                } else {\n                    metrics.config[c] = config[c];\n                }\n            }\n        }\n    };\n\n    if (config) {\n        metrics.set_config(config);\n    }\n\n    return metrics;\n};\n\n// module exporting\nmodule.exports = {\n    Client: function(token) {\n        console.warn(\"The function `Client(token)` is deprecated.  It is now called `init(token)`.\");\n        return create_client(token);\n    },\n    init: create_client\n};\n","'use strict';\nconst {promisify} = require('util');\nconst path = require('path');\nconst childProcess = require('child_process');\nconst fs = require('fs');\nconst isWsl = require('is-wsl');\nconst isDocker = require('is-docker');\n\nconst pAccess = promisify(fs.access);\nconst pExecFile = promisify(childProcess.execFile);\n\n// Path to included `xdg-open`.\nconst localXdgOpenPath = path.join(__dirname, 'xdg-open');\n\n// Convert a path from WSL format to Windows format:\n// `/mnt/c/Program Files/Example/MyApp.exe` → `C:\\Program Files\\Example\\MyApp.exe`\nconst wslToWindowsPath = async path => {\n\tconst {stdout} = await pExecFile('wslpath', ['-w', path]);\n\treturn stdout.trim();\n};\n\n// Convert a path from Windows format to WSL format\nconst windowsToWslPath = async path => {\n\tconst {stdout} = await pExecFile('wslpath', [path]);\n\treturn stdout.trim();\n};\n\n// Get an environment variable from Windows\nconst wslGetWindowsEnvVar = async envVar => {\n\tconst {stdout} = await pExecFile('wslvar', [envVar]);\n\treturn stdout.trim();\n};\n\nmodule.exports = async (target, options) => {\n\tif (typeof target !== 'string') {\n\t\tthrow new TypeError('Expected a `target`');\n\t}\n\n\toptions = {\n\t\twait: false,\n\t\tbackground: false,\n\t\tallowNonzeroExitCode: false,\n\t\t...options\n\t};\n\n\tlet command;\n\tlet {app} = options;\n\tlet appArguments = [];\n\tconst cliArguments = [];\n\tconst childProcessOptions = {};\n\n\tif (Array.isArray(app)) {\n\t\tappArguments = app.slice(1);\n\t\tapp = app[0];\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\tcommand = 'open';\n\n\t\tif (options.wait) {\n\t\t\tcliArguments.push('--wait-apps');\n\t\t}\n\n\t\tif (options.background) {\n\t\t\tcliArguments.push('--background');\n\t\t}\n\n\t\tif (app) {\n\t\t\tcliArguments.push('-a', app);\n\t\t}\n\t} else if (process.platform === 'win32' || (isWsl && !isDocker())) {\n\t\tconst windowsRoot = isWsl ? await wslGetWindowsEnvVar('systemroot') : process.env.SYSTEMROOT;\n\t\tcommand = String.raw`${windowsRoot}\\System32\\WindowsPowerShell\\v1.0\\powershell${isWsl ? '.exe' : ''}`;\n\t\tcliArguments.push(\n\t\t\t'-NoProfile',\n\t\t\t'-NonInteractive',\n\t\t\t'–ExecutionPolicy',\n\t\t\t'Bypass',\n\t\t\t'-EncodedCommand'\n\t\t);\n\n\t\tif (isWsl) {\n\t\t\tcommand = await windowsToWslPath(command);\n\t\t} else {\n\t\t\tchildProcessOptions.windowsVerbatimArguments = true;\n\t\t}\n\n\t\tconst encodedArguments = ['Start'];\n\n\t\tif (options.wait) {\n\t\t\tencodedArguments.push('-Wait');\n\t\t}\n\n\t\tif (app) {\n\t\t\tif (isWsl && app.startsWith('/')) {\n\t\t\t\tconst windowsPath = await wslToWindowsPath(app);\n\t\t\t\tapp = windowsPath;\n\t\t\t}\n\n\t\t\t// Double quote with double quotes to ensure the inner quotes are passed through.\n\t\t\t// Inner quotes are delimited for PowerShell interpretation with backticks.\n\t\t\tencodedArguments.push(`\"\\`\"${app}\\`\"\"`, '-ArgumentList');\n\t\t\tappArguments.unshift(target);\n\t\t} else {\n\t\t\tencodedArguments.push(`\"\\`\"${target}\\`\"\"`);\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tappArguments = appArguments.map(arg => `\"\\`\"${arg}\\`\"\"`);\n\t\t\tencodedArguments.push(appArguments.join(','));\n\t\t}\n\n\t\t// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\n\t\ttarget = Buffer.from(encodedArguments.join(' '), 'utf16le').toString('base64');\n\t} else {\n\t\tif (app) {\n\t\t\tcommand = app;\n\t\t} else {\n\t\t\t// When bundled by Webpack, there's no actual package file path and no local `xdg-open`.\n\t\t\tconst isBundled = !__dirname || __dirname === '/';\n\n\t\t\t// Check if local `xdg-open` exists and is executable.\n\t\t\tlet exeLocalXdgOpen = false;\n\t\t\ttry {\n\t\t\t\tawait pAccess(localXdgOpenPath, fs.constants.X_OK);\n\t\t\t\texeLocalXdgOpen = true;\n\t\t\t} catch (_) {}\n\n\t\t\tconst useSystemXdgOpen = process.versions.electron ||\n\t\t\t\tprocess.platform === 'android' || isBundled || !exeLocalXdgOpen;\n\t\t\tcommand = useSystemXdgOpen ? 'xdg-open' : localXdgOpenPath;\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tcliArguments.push(...appArguments);\n\t\t}\n\n\t\tif (!options.wait) {\n\t\t\t// `xdg-open` will block the process unless stdio is ignored\n\t\t\t// and it's detached from the parent even if it's unref'd.\n\t\t\tchildProcessOptions.stdio = 'ignore';\n\t\t\tchildProcessOptions.detached = true;\n\t\t}\n\t}\n\n\tcliArguments.push(target);\n\n\tif (process.platform === 'darwin' && appArguments.length > 0) {\n\t\tcliArguments.push('--args', ...appArguments);\n\t}\n\n\tconst subprocess = childProcess.spawn(command, cliArguments, childProcessOptions);\n\n\tif (options.wait) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsubprocess.once('error', reject);\n\n\t\t\tsubprocess.once('close', exitCode => {\n\t\t\t\tif (options.allowNonzeroExitCode && exitCode > 0) {\n\t\t\t\t\treject(new Error(`Exited with code ${exitCode}`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresolve(subprocess);\n\t\t\t});\n\t\t});\n\t}\n\n\tsubprocess.unref();\n\n\treturn subprocess;\n};\n","const is = require('is_js');\n\n/**\n * Parse x-forwarded-for headers.\n *\n * @param {string} value - The value to be parsed.\n * @return {string|null} First known IP address, if any.\n */\nfunction getClientIpFromXForwardedFor(value) {\n    if (!is.existy(value)) {\n        return null;\n    }\n\n    if (is.not.string(value)) {\n        throw new TypeError(`Expected a string, got \"${typeof value}\"`);\n    }\n\n    // x-forwarded-for may return multiple IP addresses in the format:\n    // \"client IP, proxy 1 IP, proxy 2 IP\"\n    // Therefore, the right-most IP address is the IP address of the most recent proxy\n    // and the left-most IP address is the IP address of the originating client.\n    // source: http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html\n    // Azure Web App's also adds a port for some reason, so we'll only use the first part (the IP)\n    const forwardedIps = value.split(',').map((e) => {\n        const ip = e.trim();\n        if (ip.includes(':')) {\n            const splitted = ip.split(':');\n            // make sure we only use this if it's ipv4 (ip:port)\n            if (splitted.length === 2) {\n                return splitted[0];\n            }\n        }\n        return ip;\n    });\n\n    // Sometimes IP addresses in this header can be 'unknown' (http://stackoverflow.com/a/11285650).\n    // Therefore taking the left-most IP address that is not unknown\n    // A Squid configuration directive can also set the value to \"unknown\" (http://www.squid-cache.org/Doc/config/forwarded_for/)\n    return forwardedIps.find(is.ip);\n}\n\n/**\n * Determine client IP address.\n *\n * @param req\n * @returns {string} ip - The IP address if known, defaulting to empty string if unknown.\n */\nfunction getClientIp(req) {\n    // Server is probably behind a proxy.\n    if (req.headers) {\n        // Standard headers used by Amazon EC2, Heroku, and others.\n        if (is.ip(req.headers['x-client-ip'])) {\n            return req.headers['x-client-ip'];\n        }\n\n        // Load-balancers (AWS ELB) or proxies.\n        const xForwardedFor = getClientIpFromXForwardedFor(req.headers['x-forwarded-for']);\n        if (is.ip(xForwardedFor)) {\n            return xForwardedFor;\n        }\n\n        // Cloudflare.\n        // @see https://support.cloudflare.com/hc/en-us/articles/200170986-How-does-Cloudflare-handle-HTTP-Request-headers-\n        // CF-Connecting-IP - applied to every request to the origin.\n        if (is.ip(req.headers['cf-connecting-ip'])) {\n            return req.headers['cf-connecting-ip'];\n        }\n\n        // Akamai and Cloudflare: True-Client-IP.\n        if (is.ip(req.headers['true-client-ip'])) {\n            return req.headers['true-client-ip'];\n        }\n\n        // Default nginx proxy/fcgi; alternative to x-forwarded-for, used by some proxies.\n        if (is.ip(req.headers['x-real-ip'])) {\n            return req.headers['x-real-ip'];\n        }\n\n        // (Rackspace LB and Riverbed's Stingray)\n        // http://www.rackspace.com/knowledge_center/article/controlling-access-to-linux-cloud-sites-based-on-the-client-ip-address\n        // https://splash.riverbed.com/docs/DOC-1926\n        if (is.ip(req.headers['x-cluster-client-ip'])) {\n            return req.headers['x-cluster-client-ip'];\n        }\n\n        if (is.ip(req.headers['x-forwarded'])) {\n            return req.headers['x-forwarded'];\n        }\n\n        if (is.ip(req.headers['forwarded-for'])) {\n            return req.headers['forwarded-for'];\n        }\n\n        if (is.ip(req.headers.forwarded)) {\n            return req.headers.forwarded;\n        }\n    }\n\n    // Remote address checks.\n    if (is.existy(req.connection)) {\n        if (is.ip(req.connection.remoteAddress)) {\n            return req.connection.remoteAddress;\n        }\n        if (is.existy(req.connection.socket) && is.ip(req.connection.socket.remoteAddress)) {\n            return req.connection.socket.remoteAddress;\n        }\n    }\n\n    if (is.existy(req.socket) && is.ip(req.socket.remoteAddress)) {\n        return req.socket.remoteAddress;\n    }\n\n    if (is.existy(req.info) && is.ip(req.info.remoteAddress)) {\n        return req.info.remoteAddress;\n    }\n\n    return null;\n}\n\n/**\n * Expose request IP as a middleware.\n *\n * @param {object} [options] - Configuration.\n * @param {string} [options.attributeName] - Name of attribute to augment request object with.\n * @return {*}\n */\nfunction mw(options) {\n    // Defaults.\n    const configuration = is.not.existy(options) ? {} : options;\n\n    // Validation.\n    if (is.not.object(configuration)) {\n        throw new TypeError('Options must be an object!');\n    }\n\n    const attributeName = configuration.attributeName || 'clientIp';\n    return (req, res, next) => {\n        req[attributeName] = getClientIp(req); // eslint-disable-line no-param-reassign\n        next();\n    };\n}\n\nmodule.exports = {\n    getClientIpFromXForwardedFor,\n    getClientIp,\n    mw,\n};\n","var _ = require('./utility');\nvar helpers = require('./apiUtility');\n\nvar defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443\n};\n\n/**\n * Api is an object that encapsulates methods of communicating with\n * the Rollbar API.  It is a standard interface with some parts implemented\n * differently for server or browser contexts.  It is an object that should\n * be instantiated when used so it can contain non-global options that may\n * be different for another instance of RollbarApi.\n *\n * @param options {\n *    accessToken: the accessToken to use for posting items to rollbar\n *    endpoint: an alternative endpoint to send errors to\n *        must be a valid, fully qualified URL.\n *        The default is: https://api.rollbar.com/api/1/item\n *    proxy: if you wish to proxy requests provide an object\n *        with the following keys:\n *          host or hostname (required): foo.example.com\n *          port (optional): 123\n *          protocol (optional): https\n * }\n */\nfunction Api(options, transport, urllib, truncation, jsonBackup) {\n  this.options = options;\n  this.transport = transport;\n  this.url = urllib;\n  this.truncation = truncation;\n  this.jsonBackup = jsonBackup;\n  this.accessToken = options.accessToken;\n  this.transportOptions = _getTransport(options, urllib);\n}\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.postItem = function(data, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n  this.transport.post(this.accessToken, transportOptions, payload, callback);\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.buildJsonPayload = function(data, callback) {\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n\n  var stringifyResult;\n  if (this.truncation) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload)\n  }\n\n  if (stringifyResult.error) {\n    if (callback) {\n      callback(stringifyResult.error);\n    }\n    return null;\n  }\n\n  return stringifyResult.value;\n};\n\n/**\n *\n * @param jsonPayload\n * @param callback\n */\nApi.prototype.postJsonPayload = function(jsonPayload, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  this.transport.postJsonPayload(this.accessToken, transportOptions, jsonPayload, callback);\n};\n\nApi.prototype.configure = function(options) {\n  var oldOptions = this.oldOptions;\n  this.options = _.merge(oldOptions, options);\n  this.transportOptions = _getTransport(this.options, this.url);\n  if (this.options.accessToken !== undefined) {\n    this.accessToken = this.options.accessToken;\n  }\n  return this;\n};\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nmodule.exports = Api;\n","var _ = require('./utility');\n\nfunction buildPayload(accessToken, data, jsonBackup) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context, jsonBackup);\n    if (contextResult.error) {\n      data.context = 'Error: could not serialize \\'context\\'';\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    access_token: accessToken,\n    data: data\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy\n  };\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port = transport.port || (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nmodule.exports = {\n  buildPayload: buildPayload,\n  getTransportFromOptions: getTransportFromOptions,\n  transportOptions: transportOptions,\n  appendPathToPath: appendPathToPath\n};\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nfunction merge() {\n  var i, src, copy, clone, name,\n      result = {},\n     current = null,\n      length = arguments.length;\n\n  for (i=0; i < length; i++) {\n    current = arguments[i];\n    if (current == null) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nmodule.exports = merge;\n","var _ = require('./utility');\n\n/*\n * Notifier - the internal object responsible for delegating between the client exposed API, the\n * chain of transforms necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n *\n * @param queue - an object that conforms to the interface: addItem(item, callback)\n * @param options - an object representing the options to be set for this notifier, this should have\n * any defaults already set by the caller\n */\nfunction Notifier(queue, options) {\n  this.queue = queue;\n  this.options = options;\n  this.transforms = [];\n  this.diagnostic = {};\n}\n\n/*\n * configure - updates the options for this notifier with the passed in object\n *\n * @param options - an object which gets merged with the current options set on this notifier\n * @returns this\n */\nNotifier.prototype.configure = function(options) {\n  this.queue && this.queue.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addTransform - adds a transform onto the end of the queue of transforms for this notifier\n *\n * @param transform - a function which takes three arguments:\n *    * item: An Object representing the data to eventually be sent to Rollbar\n *    * options: The current value of the options for this notifier\n *    * callback: function(err: (Null|Error), item: (Null|Object)) the transform must call this\n *    callback with a null value for error if it wants the processing chain to continue, otherwise\n *    with an error to terminate the processing. The item should be the updated item after this\n *    transform is finished modifying it.\n */\nNotifier.prototype.addTransform = function(transform) {\n  if (_.isFunction(transform)) {\n    this.transforms.push(transform);\n  }\n  return this;\n};\n\n/*\n * log - the internal log function which applies the configured transforms and then pushes onto the\n * queue to be sent to the backend.\n *\n * @param item - An object with the following structure:\n *    message [String] - An optional string to be sent to rollbar\n *    error [Error] - An optional error\n *\n * @param callback - A function of type function(err, resp) which will be called with exactly one\n * null argument and one non-null argument. The callback will be called once, either during the\n * transform stage if an error occurs inside a transform, or in response to the communication with\n * the backend. The second argument will be the response from the backend in case of success.\n */\nNotifier.prototype.log = function(item, callback) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n\n  if (!this.options.enabled) {\n    return callback(new Error('Rollbar is not enabled'));\n  }\n\n  this.queue.addPendingItem(item);\n  var originalError = item.err;\n  this._applyTransforms(item, function(err, i) {\n    if (err) {\n      this.queue.removePendingItem(item);\n      return callback(err, null);\n    }\n    this.queue.addItem(i, callback, originalError, item);\n  }.bind(this));\n};\n\n/* Internal */\n\n/*\n * _applyTransforms - Applies the transforms that have been added to this notifier sequentially. See\n * `addTransform` for more information.\n *\n * @param item - An item to be transformed\n * @param callback - A function of type function(err, item) which will be called with a non-null\n * error and a null item in the case of a transform failure, or a null error and non-null item after\n * all transforms have been applied.\n */\nNotifier.prototype._applyTransforms = function(item, callback) {\n  var transformIndex = -1;\n  var transformsLength = this.transforms.length;\n  var transforms = this.transforms;\n  var options = this.options;\n\n  var cb = function(err, i) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    transformIndex++;\n\n    if (transformIndex === transformsLength) {\n      callback(null, i);\n      return;\n    }\n\n    transforms[transformIndex](i, options, cb);\n  };\n\n  cb(null, item);\n};\n\nmodule.exports = Notifier;\n","var _ = require('./utility');\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function(item, settings) {\n    var isUncaught = !!item._isUncaught;\n    delete item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (_.isFunction(settings.checkIgnore) && settings.checkIgnore(isUncaught, args, item)) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  }\n}\n\nfunction urlIsNotBlacklisted(logger) {\n  return function(item, settings) {\n    return !urlIsOnAList(item, settings, 'blacklist', logger);\n  }\n}\n\nfunction urlIsWhitelisted(logger) {\n  return function(item, settings) {\n    return urlIsOnAList(item, settings, 'whitelist', logger);\n  }\n}\n\nfunction matchFrames(trace, list, black) {\n  if (!trace) { return !black }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) { return !black; }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) { return !black; }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, whiteOrBlack, logger) {\n  // whitelist is the default\n  var black = false;\n  if (whiteOrBlack === 'blacklist') {\n    black = true;\n  }\n\n  var list, traces;\n  try {\n    list = black ? settings.hostBlackList : settings.hostWhiteList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !black;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !black;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if(matchFrames(traces[i], list, black)) {\n        return true;\n      }\n    }\n  } catch (e)\n  /* istanbul ignore next */\n  {\n    if (black) {\n      settings.hostBlackList = null;\n    } else {\n      settings.hostWhiteList = null;\n    }\n    var listName = black ? 'hostBlackList' : 'hostWhiteList';\n    logger.error('Error while reading your configuration\\'s ' + listName + ' option. Removing custom ' + listName + '.', e);\n    return !black;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function(item, settings) {\n    var exceptionMessage, i, ignoredMessages,\n        len, messageIsIgnored, rIgnoredMessage,\n        body, traceMessage, bodyMessage;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      body = item.body;\n      traceMessage = _.get(body, 'trace.exception.message');\n      bodyMessage = _.get(body, 'message.body');\n\n      exceptionMessage = traceMessage || bodyMessage;\n\n      if (!exceptionMessage){\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n        messageIsIgnored = rIgnoredMessage.test(exceptionMessage);\n\n        if (messageIsIgnored) {\n          break;\n        }\n      }\n    } catch(e)\n    /* istanbul ignore next */\n    {\n      settings.ignoredMessages = null;\n      logger.error('Error while reading your configuration\\'s ignoredMessages option. Removing custom ignoredMessages.');\n    }\n\n    return !messageIsIgnored;\n  }\n}\n\nmodule.exports = {\n  checkLevel: checkLevel,\n  userCheckIgnore: userCheckIgnore,\n  urlIsNotBlacklisted: urlIsNotBlacklisted,\n  urlIsWhitelisted: urlIsWhitelisted,\n  messageIsIgnored: messageIsIgnored\n};\n","var _ = require('./utility');\n\n/*\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n *\n * @param rateLimiter - An object which conforms to the interface\n *    rateLimiter.shouldSend(item) -> bool\n * @param api - An object which conforms to the interface\n *    api.postItem(payload, function(err, response))\n * @param logger - An object used to log verbose messages if desired\n * @param options - see Queue.prototype.configure\n */\nfunction Queue(rateLimiter, api, logger, options) {\n  this.rateLimiter = rateLimiter;\n  this.api = api;\n  this.logger = logger;\n  this.options = options;\n  this.predicates = [];\n  this.pendingItems = [];\n  this.pendingRequests = [];\n  this.retryQueue = [];\n  this.retryHandle = null;\n  this.waitCallback = null;\n  this.waitIntervalID = null;\n}\n\n/*\n * configure - updates the options this queue uses\n *\n * @param options\n */\nQueue.prototype.configure = function(options) {\n  this.api && this.api.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addPredicate - adds a predicate to the end of the list of predicates for this queue\n *\n * @param predicate - function(item, options) -> (bool|{err: Error})\n *  Returning true means that this predicate passes and the item is okay to go on the queue\n *  Returning false means do not add the item to the queue, but it is not an error\n *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n *  Returning {err: undefined} is equivalent to returning true but don't do that\n */\nQueue.prototype.addPredicate = function(predicate) {\n  if (_.isFunction(predicate)) {\n    this.predicates.push(predicate);\n  }\n  return this;\n};\n\nQueue.prototype.addPendingItem = function(item) {\n  this.pendingItems.push(item);\n};\n\nQueue.prototype.removePendingItem = function(item) {\n  var idx = this.pendingItems.indexOf(item);\n  if (idx !== -1) {\n    this.pendingItems.splice(idx, 1);\n  }\n};\n\n/*\n * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n *\n * @param item - The payload to send to the backend\n * @param callback - function(error, repsonse) which will be called with the response from the API\n *  in the case of a success, otherwise response will be null and error will have a value. If both\n *  error and response are null then the item was stopped by a predicate which did not consider this\n *  to be an error condition, but nonetheless did not send the item to the API.\n *  @param originalError - The original error before any transformations that is to be logged if any\n */\nQueue.prototype.addItem = function(item, callback, originalError, originalItem) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() { return; };\n  }\n  var predicateResult = this._applyPredicates(item);\n  if (predicateResult.stop) {\n    this.removePendingItem(originalItem);\n    callback(predicateResult.err);\n    return;\n  }\n  this._maybeLog(item, originalError);\n  this.removePendingItem(originalItem);\n  if (!this.options.transmit) {\n    callback(new Error('Transmit disabled'));\n    return;\n  }\n  this.pendingRequests.push(item);\n  try {\n    this._makeApiRequest(item, function(err, resp) {\n      this._dequeuePendingRequest(item);\n      callback(err, resp);\n    }.bind(this));\n  } catch (e) {\n    this._dequeuePendingRequest(item);\n    callback(e);\n  }\n};\n\n/*\n * wait - Stop any further errors from being added to the queue, and get called back when all items\n *   currently processing have finished sending to the backend.\n *\n * @param callback - function() called when all pending items have been sent\n */\nQueue.prototype.wait = function(callback) {\n  if (!_.isFunction(callback)) {\n    return;\n  }\n  this.waitCallback = callback;\n  if (this._maybeCallWait()) {\n    return;\n  }\n  if (this.waitIntervalID) {\n    this.waitIntervalID = clearInterval(this.waitIntervalID);\n  }\n  this.waitIntervalID = setInterval(function() {\n    this._maybeCallWait();\n  }.bind(this), 500);\n};\n\n/* _applyPredicates - Sequentially applies the predicates that have been added to the queue to the\n *   given item with the currently configured options.\n *\n * @param item - An item in the queue\n * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n *   the error value should be passed up to a callbak if we are stopping.\n */\nQueue.prototype._applyPredicates = function(item) {\n  var p = null;\n  for (var i = 0, len = this.predicates.length; i < len; i++) {\n    p = this.predicates[i](item, this.options);\n    if (!p || p.err !== undefined) {\n      return {stop: true, err: p.err};\n    }\n  }\n  return {stop: false, err: null};\n};\n\n/*\n * _makeApiRequest - Send an item to Rollbar, callback when done, if there is an error make an\n *   effort to retry if we are configured to do so.\n *\n * @param item - an item ready to send to the backend\n * @param callback - function(err, response)\n */\nQueue.prototype._makeApiRequest = function(item, callback) {\n  var rateLimitResponse = this.rateLimiter.shouldSend(item);\n  if (rateLimitResponse.shouldSend) {\n    this.api.postItem(item, function(err, resp) {\n      if (err) {\n        this._maybeRetry(err, item, callback);\n      } else {\n        callback(err, resp);\n      }\n    }.bind(this));\n  } else if (rateLimitResponse.error) {\n    callback(rateLimitResponse.error);\n  } else {\n    this.api.postItem(rateLimitResponse.payload, callback);\n  }\n};\n\n// These are errors basically mean there is no internet connection\nvar RETRIABLE_ERRORS = ['ECONNRESET', 'ENOTFOUND', 'ESOCKETTIMEDOUT', 'ETIMEDOUT', 'ECONNREFUSED', 'EHOSTUNREACH', 'EPIPE', 'EAI_AGAIN'];\n\n/*\n * _maybeRetry - Given the error returned by the API, decide if we should retry or just callback\n *   with the error.\n *\n * @param err - an error returned by the API transport\n * @param item - the item that was trying to be sent when this error occured\n * @param callback - function(err, response)\n */\nQueue.prototype._maybeRetry = function(err, item, callback) {\n  var shouldRetry = false;\n  if (this.options.retryInterval) {\n    for (var i = 0, len = RETRIABLE_ERRORS.length; i < len; i++) {\n      if (err.code === RETRIABLE_ERRORS[i]) {\n        shouldRetry = true;\n        break;\n      }\n    }\n  }\n  if (shouldRetry) {\n    this._retryApiRequest(item, callback);\n  } else {\n    callback(err);\n  }\n};\n\n/*\n * _retryApiRequest - Add an item and a callback to a queue and possibly start a timer to process\n *   that queue based on the retryInterval in the options for this queue.\n *\n * @param item - an item that failed to send due to an error we deem retriable\n * @param callback - function(err, response)\n */\nQueue.prototype._retryApiRequest = function(item, callback) {\n  this.retryQueue.push({item: item, callback: callback});\n\n  if (!this.retryHandle) {\n    this.retryHandle = setInterval(function() {\n      while (this.retryQueue.length) {\n        var retryObject = this.retryQueue.shift();\n        this._makeApiRequest(retryObject.item, retryObject.callback);\n      }\n    }.bind(this), this.options.retryInterval);\n  }\n};\n\n/*\n * _dequeuePendingRequest - Removes the item from the pending request queue, this queue is used to\n *   enable to functionality of providing a callback that clients can pass to `wait` to be notified\n *   when the pending request queue has been emptied. This must be called when the API finishes\n *   processing this item. If a `wait` callback is configured, it is called by this function.\n *\n * @param item - the item previously added to the pending request queue\n */\nQueue.prototype._dequeuePendingRequest = function(item) {\n  var idx = this.pendingRequests.indexOf(item);\n  if (idx !== -1) {\n    this.pendingRequests.splice(idx, 1);\n    this._maybeCallWait();\n  }\n};\n\nQueue.prototype._maybeLog = function(data, originalError) {\n  if (this.logger && this.options.verbose) {\n    var message = originalError;\n    message = message || _.get(data, 'body.trace.exception.message');\n    message = message || _.get(data, 'body.trace_chain.0.exception.message');\n    if (message) {\n      this.logger.error(message);\n      return;\n    }\n    message = _.get(data, 'body.message.body');\n    if (message) {\n      this.logger.log(message);\n    }\n  }\n};\n\nQueue.prototype._maybeCallWait = function() {\n  if (_.isFunction(this.waitCallback) && this.pendingItems.length === 0 && this.pendingRequests.length === 0) {\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitCallback();\n    return true;\n  }\n  return false;\n};\n\nmodule.exports = Queue;\n","var _ = require('./utility');\n\n/*\n * RateLimiter - an object that encapsulates the logic for counting items sent to Rollbar\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nfunction RateLimiter(options) {\n  this.startTime = _.now();\n  this.counter = 0;\n  this.perMinCounter = 0;\n  this.platform = null;\n  this.platformOptions = {};\n  this.configureGlobal(options);\n}\n\nRateLimiter.globalSettings = {\n  startTime: _.now(),\n  maxItems: undefined,\n  itemsPerMinute: undefined\n};\n\n/*\n * configureGlobal - set the global rate limiter options\n *\n * @param options - Only the following values are recognized:\n *    startTime: a timestamp of the form returned by (new Date()).getTime()\n *    maxItems: the maximum items\n *    itemsPerMinute: the max number of items to send in a given minute\n */\nRateLimiter.prototype.configureGlobal = function(options) {\n  if (options.startTime !== undefined) {\n    RateLimiter.globalSettings.startTime = options.startTime;\n  }\n  if (options.maxItems !== undefined) {\n    RateLimiter.globalSettings.maxItems = options.maxItems;\n  }\n  if (options.itemsPerMinute !== undefined) {\n    RateLimiter.globalSettings.itemsPerMinute = options.itemsPerMinute;\n  }\n};\n\n/*\n * shouldSend - determine if we should send a given item based on rate limit settings\n *\n * @param item - the item we are about to send\n * @returns An object with the following structure:\n *  error: (Error|null)\n *  shouldSend: bool\n *  payload: (Object|null)\n *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n *  describe the situation, but it means that we were already over a rate limit (either globally or\n *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n *  place of the passed in item.\n */\nRateLimiter.prototype.shouldSend = function(item, now) {\n  now = now || _.now();\n  var elapsedTime = now - this.startTime;\n  if (elapsedTime < 0 || elapsedTime >= 60000) {\n    this.startTime = now;\n    this.perMinCounter = 0;\n  }\n\n  var globalRateLimit = RateLimiter.globalSettings.maxItems;\n  var globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n  if (checkRate(item, globalRateLimit, this.counter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimit + ' max items reached', false);\n  } else if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimitPerMin + ' items per minute reached', false);\n  }\n  this.counter++;\n  this.perMinCounter++;\n\n  var shouldSend = !checkRate(item, globalRateLimit, this.counter);\n  var perMinute = shouldSend;\n  shouldSend = shouldSend && !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n  return shouldSendValue(this.platform, this.platformOptions, null, shouldSend, globalRateLimit, globalRateLimitPerMin, perMinute);\n};\n\nRateLimiter.prototype.setPlatformOptions = function(platform, options) {\n  this.platform = platform;\n  this.platformOptions = options;\n};\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(platform, options, error, shouldSend, globalRateLimit, limitPerMin, perMinute) {\n  var payload = null;\n  if (error) {\n    error = new Error(error);\n  }\n  if (!error && !shouldSend) {\n    payload = rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute);\n  }\n  return {error: error, shouldSend: shouldSend, payload: payload};\n}\n\nfunction rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute) {\n  var environment = options.environment || (options.payload && options.payload.environment);\n  var msg;\n  if (perMinute) {\n    msg = 'item per minute limit reached, ignoring errors until timeout';\n  } else {\n    msg = 'maxItems has been hit, ignoring errors until reset.';\n  }\n  var item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin\n        }\n      }\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version: (options.notifier && options.notifier.version) || options.version\n    }\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nmodule.exports = RateLimiter;\n","var RateLimiter = require('./rateLimiter');\nvar Queue = require('./queue');\nvar Notifier = require('./notifier');\nvar _ = require('./utility');\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, telemeter, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(Rollbar.rateLimiter, api, logger, this.options);\n\n  // This must happen before the Notifier is created\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = telemeter;\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function (options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n\n  this.options = _.merge(oldOptions, options, payload);\n\n  // This must happen before the Notifier is configured\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n\n  if (validateTracer(options.tracer)) {\n    this.tracer = options.tracer\n  }\n\n  return this;\n};\n\nRollbar.prototype.log = function (item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function (item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function (item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function (item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function (item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function (type, metadata, level) {\n  return this.telemeter && this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function (ts) {\n  return this.telemeter && this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function (ts) {\n  return this.telemeter && this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function (defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    this._addTracingInfo(item);\n    item.level = item.level || defaultLevel;\n    this.telemeter && this.telemeter._captureRollbarItem(item);\n    item.telemetryEvents = (this.telemeter && this.telemeter.copyEvents()) || [];\n    this.notifier.log(item, callback);\n  } catch (e) {\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._defaultLogLevel = function () {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function (item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nRollbar.prototype._addTracingInfo = function (item) {\n  // Tracer validation occurs in the constructor\n  // or in the Rollbar.prototype.configure methods\n  if (this.tracer) {\n    // add rollbar occurrence uuid to span\n    var span = this.tracer.scope().active();\n\n    if (validateSpan(span)) {\n      span.setTag('rollbar.error_uuid', item.uuid);\n      span.setTag('rollbar.has_error', true);\n      span.setTag('error', true);\n\n      // add span ID & trace ID to occurrence\n      var opentracingSpanId = span.context().toSpanId();\n      var opentracingTraceId = span.context().toTraceId();\n\n      if (item.custom) {\n        item.custom.opentracing_span_id = opentracingSpanId;\n        item.custom.opentracing_trace_id = opentracingTraceId;\n      } else {\n        item.custom = {\n          opentracing_span_id: opentracingSpanId,\n          opentracing_trace_id: opentracingTraceId\n        };\n      }\n    }\n  }\n}\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\n/**\n * Validate the Tracer object provided to the Client\n * is valid for our Opentracing use case.\n * @param {opentracer.Tracer} tracer\n */\nfunction validateTracer(tracer) {\n  if (!tracer) {\n    return false;\n  }\n\n  if (!tracer.scope || typeof tracer.scope !== 'function') {\n    return false;\n  }\n\n  var scope = tracer.scope();\n\n  if (!scope || !scope.active || typeof scope.active !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate the Span object provided\n * @param {opentracer.Span} span\n */\nfunction validateSpan(span) {\n  if (!span || !span.context || typeof span.context !== 'function') {\n    return false;\n  }\n\n  var spanContext = span.context();\n\n  if (!spanContext\n    || !spanContext.toSpanId\n    || !spanContext.toTraceId\n    || typeof spanContext.toSpanId !== 'function'\n    || typeof spanContext.toTraceId !== 'function') {\n    return false\n  }\n\n  return true;\n}\n\nmodule.exports = Rollbar;\n","var _ = require('./utility');\nvar traverse = require('./utility/traverse');\n\nfunction scrub(data, scrubFields, scrubPaths) {\n  scrubFields = scrubFields || [];\n\n  if (scrubPaths) {\n    for (var i = 0; i < scrubPaths.length; ++i) {\n      scrubPath(data, scrubPaths[i]);\n    }\n  }\n\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + _.redact();\n  }\n\n  function paramScrubber(v) {\n    var i;\n    if (_.isType(v, 'string')) {\n      for (i = 0; i < queryRes.length; ++i) {\n        v = v.replace(queryRes[i], redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    var i;\n    for (i = 0; i < paramRes.length; ++i) {\n      if (paramRes[i].test(k)) {\n        v = _.redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (_.isType(v, 'object') || _.isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber, []);\n}\n\nfunction scrubPath(obj, path) {\n  var keys = path.split('.');\n  var last = keys.length - 1;\n  try {\n    for (var i = 0; i <= last; ++i) {\n      if (i < last) {\n        obj = obj[keys[i]];\n      } else {\n        obj[keys[i]] = _.redact();\n      }\n    }\n  } catch (e) {\n    // Missing key is OK;\n  }\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '^\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nmodule.exports = scrub;\n","'use strict';\n\nvar verbose = true;\n\nvar logger = {\n  /* eslint-disable no-console */\n  log: function() {\n    if (verbose) {\n      console.log.apply(console, arguments);\n    }\n  },\n  error: function() {\n    if (verbose) {\n      console.error.apply(console, arguments);\n    }\n  },\n  /* eslint-enable no-console */\n  setVerbose: function(val) {\n    verbose = val;\n  }\n};\n\nmodule.exports = logger;\n","'use strict';\n\nvar logger = require('./logger');\nvar async = require('async');\nvar fs = require('fs');\nvar lru = require('lru-cache');\nvar util = require('util');\nvar stackTrace = require('./sourceMap/stackTrace');\n\nvar linesOfContext = 3;\nvar tracePattern =\n  /^\\s*at (?:([^(]+(?: \\[\\w\\s+\\])?(?:.*\\)*)) )?\\(?(.+?)(?::(\\d+):(\\d+)(?:, <js>:(\\d+):(\\d+))?)?\\)?$/;\n\nvar jadeTracePattern = /^\\s*at .+ \\(.+ (at[^)]+\\))\\)$/;\nvar jadeFramePattern = /^\\s*(>?) [0-9]+\\|(\\s*.+)$/m;\n\n\nvar cache = new lru({max: 100});\nvar pendingReads = {};\n\nexports.cache = cache;\nexports.pendingReads = pendingReads;\n\n\n/*\n * Internal\n */\n\n\nfunction getMultipleErrors(errors) {\n  var errArray, key;\n\n  if (errors === null || errors === undefined) {\n    return null;\n  }\n\n  if (typeof errors !== 'object') {\n    return null;\n  }\n\n  if (util.isArray(errors)) {\n    return errors;\n  }\n\n  errArray = [];\n\n  for (key in errors) {\n    if (Object.prototype.hasOwnProperty.call(errors, key)) {\n      errArray.push(errors[key]);\n    }\n  }\n  return errArray;\n}\n\n\nfunction parseJadeDebugFrame(body) {\n  var lines, lineNumSep, filename, lineno, numLines, msg, i,\n    contextLine, preContext, postContext, line, jadeMatch;\n\n  // Given a Jade exception body, return a frame object\n  lines = body.split('\\n');\n  lineNumSep = lines[0].indexOf(':');\n  filename = lines[0].slice(0, lineNumSep);\n  lineno = parseInt(lines[0].slice(lineNumSep + 1), 10);\n  numLines = lines.length;\n  msg = lines[numLines - 1];\n\n  lines = lines.slice(1, numLines - 1);\n\n  preContext = [];\n  postContext = [];\n  for (i = 0; i < numLines - 2; ++i) {\n    line = lines[i];\n    jadeMatch = line.match(jadeFramePattern);\n    if (jadeMatch) {\n      if (jadeMatch[1] === '>') {\n        contextLine = jadeMatch[2];\n      } else {\n        if (!contextLine) {\n          if (jadeMatch[2]) {\n            preContext.push(jadeMatch[2]);\n          }\n        } else {\n          if (jadeMatch[2]) {\n            postContext.push(jadeMatch[2]);\n          }\n        }\n      }\n    }\n  }\n\n  preContext = preContext.slice(0, Math.min(preContext.length, linesOfContext));\n  postContext = postContext.slice(0, Math.min(postContext.length, linesOfContext));\n\n  return {\n    frame: {\n      method: '<jade>',\n      filename: filename,\n      lineno: lineno,\n      code: contextLine,\n      context: {\n        pre: preContext,\n        post: postContext\n      }\n    },\n    message: msg\n  };\n}\n\n\nfunction extractContextLines(frame, fileLines) {\n  frame.code = fileLines[frame.lineno - 1];\n  frame.context = {\n    pre: fileLines.slice(Math.max(0, frame.lineno - (linesOfContext + 1)), frame.lineno - 1),\n    post: fileLines.slice(frame.lineno, frame.lineno + linesOfContext)\n  };\n}\n\nfunction mapPosition(position, diagnostic) {\n  return stackTrace.mapSourcePosition({\n      source: position.source,\n      line: position.line,\n      column: position.column\n    },\n    diagnostic\n  );\n}\n\nfunction parseFrameLine(line, callback) {\n  var matched, curLine, data, frame;\n\n  curLine = line;\n  matched = curLine.match(jadeTracePattern);\n  if (matched) {\n    curLine = matched[1];\n  }\n\n  matched = curLine.match(tracePattern);\n  if (!matched) {\n    return callback(null, null);\n  }\n\n  data = matched.slice(1);\n  var position = {\n    source: data[1],\n    line: Math.floor(data[2]),\n    column: Math.floor(data[3]) - 1\n  };\n  if (this.useSourceMaps) {\n    position = mapPosition(position, this.diagnostic);\n  }\n\n  frame = {\n    method: data[0] || '<unknown>',\n    filename: position.source,\n    lineno: position.line,\n    colno: position.column\n  };\n\n  // For coffeescript, lineno and colno refer to the .coffee positions\n  // The .js lineno and colno will be stored in compiled_*\n  if (data[4]) {\n    frame.compiled_lineno = Math.floor(data[4]);\n  }\n\n  if (data[5]) {\n    frame.compiled_colno = Math.floor(data[5]);\n  }\n\n  callback(null, frame);\n}\n\n\nfunction shouldReadFrameFile(frameFilename, callback) {\n  var isValidFilename, isCached, isPending;\n\n  isValidFilename = frameFilename[0] === '/' || frameFilename[0] === '.';\n  isCached = !!cache.get(frameFilename);\n  isPending = !!pendingReads[frameFilename];\n\n  callback(isValidFilename && !isCached && !isPending);\n}\n\n\nfunction readFileLines(filename, callback) {\n  try {\n    fs.readFile(filename, function (err, fileData) {\n      var fileLines;\n      if (err) {\n        return callback(err);\n      }\n\n      fileLines = fileData.toString('utf8').split('\\n');\n      return callback(null, fileLines);\n    });\n  } catch (e) {\n    logger.log(e);\n  }\n}\n\n\n/* Older versions of node do not have fs.exists so we implement our own */\nfunction checkFileExists(filename, callback) {\n  if (fs.exists !== undefined) {\n    fs.exists(filename, callback);\n  } else {\n    fs.stat(filename, function (err) {\n      callback(!err);\n    });\n  }\n}\n\n\nfunction gatherContexts(frames, callback) {\n  var frameFilenames = [];\n\n  frames.forEach(function (frame) {\n    if (frameFilenames.indexOf(frame.filename) === -1) {\n      frameFilenames.push(frame.filename);\n    }\n  });\n\n  async.filter(frameFilenames, shouldReadFrameFile, function (results) {\n    var tempFileCache;\n\n    tempFileCache = {};\n\n    function gatherFileData(filename, callback) {\n      readFileLines(filename, function (err, lines) {\n        if (err) {\n          return callback(err);\n        }\n\n        // Cache this in a temp cache as well as the LRU cache so that\n        // we know we will have all of the necessary file contents for\n        // each filename in tempFileCache.\n        tempFileCache[filename] = lines;\n        cache.set(filename, lines);\n\n        return callback(null);\n      });\n    }\n\n    function gatherContextLines(frame, callback) {\n      var lines = tempFileCache[frame.filename] || cache.get(frame.filename);\n\n      if (lines) {\n        extractContextLines(frame, lines);\n      }\n      callback(null);\n    }\n\n    async.filter(results, checkFileExists, function (filenames) {\n      async.each(filenames, gatherFileData, function (err) {\n        if (err) {\n          return callback(err);\n        }\n        async.eachSeries(frames, gatherContextLines, function (err) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, frames);\n        });\n      });\n    });\n\n  });\n}\n\n/*\n * Public API\n */\n\n\nexports.parseException = function (exc, options, item, callback) {\n  var multipleErrs = getMultipleErrors(exc.errors);\n\n  return exports.parseStack(exc.stack, options, item, function (err, stack) {\n    var message, clss, ret, firstErr, jadeMatch, jadeData;\n\n    if (err) {\n      logger.error('could not parse exception, err: ' + err);\n      return callback(err);\n    }\n    message = String(exc.message || '<no message>') ;\n    clss = String(exc.name || '<unknown>');\n\n    ret = {\n      class: clss,\n      message: message,\n      frames: stack\n    };\n\n    if (multipleErrs && multipleErrs.length) {\n      firstErr = multipleErrs[0];\n      ret = {\n        class: clss,\n        message: String(firstErr.message || '<no message>'),\n        frames: stack\n      };\n    }\n\n    jadeMatch = message.match(jadeFramePattern);\n    if (jadeMatch) {\n      jadeData = parseJadeDebugFrame(message);\n      ret.message = jadeData.message;\n      ret.frames.push(jadeData.frame);\n    }\n    return callback(null, ret);\n  });\n};\n\n\nexports.parseStack = function (stack, options, item, callback) {\n  var lines, _stack = stack;\n\n  // Some JS frameworks (e.g. Meteor) might bury the stack property\n  while (typeof _stack === 'object') {\n    _stack = _stack && _stack.stack;\n  }\n\n  // grab all lines except the first\n  lines = (_stack || '').split('\\n').slice(1);\n\n  if (options.nodeSourceMaps) {\n    item.diagnostic.node_source_maps = {};\n    item.diagnostic.node_source_maps.source_mapping_urls = {};\n  }\n\n  // Parse out all of the frame and filename info\n  async.map(lines, parseFrameLine.bind({ useSourceMaps: options.nodeSourceMaps, diagnostic: item.diagnostic }), function (err, frames) {\n    if (err) {\n      return callback(err);\n    }\n    frames.reverse();\n    async.filter(frames, function (frame, callback) { callback(!!frame); }, function (results) {\n      gatherContexts(results, callback);\n    });\n  });\n};\n","var util = require('util');\nvar os = require('os');\n\nvar packageJson = require('../../package.json');\nvar Client = require('../rollbar');\nvar _ = require('../utility');\nvar API = require('../api');\nvar logger = require('./logger');\n\nvar Transport = require('./transport');\nvar urllib = require('url');\nvar jsonBackup = require('json-stringify-safe');\n\nvar Telemeter = require('../telemetry');\nvar transforms = require('./transforms');\nvar sharedTransforms = require('../transforms');\nvar sharedPredicates = require('../predicates');\nvar truncation = require('../truncation');\nvar polyfillJSON = require('../../vendor/JSON-js/json3');\n\nfunction Rollbar(options, client) {\n  if (_.isType(options, 'string')) {\n    var accessToken = options;\n    options = {};\n    options.accessToken = accessToken;\n  }\n  if (options.minimumLevel !== undefined) {\n    options.reportLevel = options.minimumLevel;\n    delete options.minimumLevel;\n  }\n  this.options = _.handleOptions(Rollbar.defaultOptions, options);\n  this.options._configuredOptions = options;\n  // On the server we want to ignore any maxItems setting\n  delete this.options.maxItems;\n  this.options.environment = this.options.environment || 'unspecified';\n  logger.setVerbose(this.options.verbose);\n  this.lambdaContext = null;\n  this.lambdaTimeoutHandle = null;\n  var transport = new Transport();\n  var api = new API(this.options, transport, urllib, truncation, jsonBackup);\n  var telemeter = new Telemeter(this.options)\n  this.client = client || new Client(this.options, api, logger, telemeter, 'server');\n  addTransformsToNotifier(this.client.notifier);\n  addPredicatesToQueue(this.client.queue);\n  this.setupUnhandledCapture();\n  _.setupJSON(polyfillJSON);\n}\n\nvar _instance = null;\nRollbar.init = function (options, client) {\n  if (_instance) {\n    return _instance.global(options).configure(options);\n  }\n  _instance = new Rollbar(options, client);\n  return _instance;\n};\n\nfunction handleUninitialized(maybeCallback) {\n  var message = 'Rollbar is not initialized';\n  logger.error(message);\n  if (maybeCallback) {\n    maybeCallback(new Error(message));\n  }\n}\n\nRollbar.prototype.global = function (options) {\n  options = _.handleOptions(options);\n  // On the server we want to ignore any maxItems setting\n  delete options.maxItems;\n  this.client.global(options);\n  return this;\n};\nRollbar.global = function (options) {\n  if (_instance) {\n    return _instance.global(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n  this.options = _.handleOptions(oldOptions, options, payload);\n  this.options._configuredOptions = _.handleOptions(oldOptions._configuredOptions, options, payload);\n  // On the server we want to ignore any maxItems setting\n  delete this.options.maxItems;\n  logger.setVerbose(this.options.verbose);\n  this.client.configure(options, payloadData);\n  this.setupUnhandledCapture();\n  return this;\n};\nRollbar.configure = function (options, payloadData) {\n  if (_instance) {\n    return _instance.configure(options, payloadData);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.lastError = function () {\n  return this.client.lastError;\n};\nRollbar.lastError = function () {\n  if (_instance) {\n    return _instance.lastError();\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.log = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.log(item);\n  return { uuid: uuid };\n};\nRollbar.log = function () {\n  if (_instance) {\n    return _instance.log.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.debug = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.debug(item);\n  return { uuid: uuid };\n};\nRollbar.debug = function () {\n  if (_instance) {\n    return _instance.debug.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.info = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.info(item);\n  return { uuid: uuid };\n};\nRollbar.info = function () {\n  if (_instance) {\n    return _instance.info.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.warn = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warn(item);\n  return { uuid: uuid };\n};\nRollbar.warn = function () {\n  if (_instance) {\n    return _instance.warn.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\n\nRollbar.prototype.warning = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warning(item);\n  return { uuid: uuid };\n};\nRollbar.warning = function () {\n  if (_instance) {\n    return _instance.warning.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\n\nRollbar.prototype.error = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.error(item);\n  return { uuid: uuid };\n};\nRollbar.error = function () {\n  if (_instance) {\n    return _instance.error.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\nRollbar.prototype._uncaughtError = function () {\n  var item = this._createItem(arguments);\n  item._isUncaught = true;\n  var uuid = item.uuid;\n  this.client.error(item);\n  return { uuid: uuid };\n};\n\nRollbar.prototype.critical = function () {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.critical(item);\n  return { uuid: uuid };\n};\nRollbar.critical = function () {\n  if (_instance) {\n    return _instance.critical.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.client.buildJsonPayload(item);\n};\nRollbar.buildJsonPayload = function () {\n  if (_instance) {\n    return _instance.buildJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  return this.client.sendJsonPayload(jsonPayload);\n};\nRollbar.sendJsonPayload = function () {\n  if (_instance) {\n    return _instance.sendJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.client.wait(callback);\n};\nRollbar.wait = function (callback) {\n  if (_instance) {\n    return _instance.wait(callback)\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.errorHandler = function () {\n  return function (err, request, response, next) {\n    var cb = function (rollbarError) {\n      if (rollbarError) {\n        logger.error('Error reporting to rollbar, ignoring: ' + rollbarError);\n      }\n      return next(err, request, response);\n    };\n    if (!err) {\n      return next(err, request, response);\n    }\n\n    if (err instanceof Error) {\n      return this.error(err, request, cb);\n    }\n    return this.error('Error: ' + err, request, cb);\n  }.bind(this);\n};\nRollbar.errorHandler = function () {\n  if (_instance) {\n    return _instance.errorHandler()\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.lambdaHandler = function (handler, timeoutHandler) {\n  if (handler.length <= 2) {\n    return this.asyncLambdaHandler(handler, timeoutHandler);\n  }\n  return this.syncLambdaHandler(handler, timeoutHandler);\n};\n\nRollbar.prototype.asyncLambdaHandler = function (handler, timeoutHandler) {\n  var self = this;\n  var _timeoutHandler = function (event, context) {\n    var message = 'Function timed out';\n    var custom = {\n      originalEvent: event,\n      originalRequestId: context.awsRequestId,\n    };\n    self.error(message, custom);\n  };\n  var shouldReportTimeouts = self.options.captureLambdaTimeouts;\n  return function (event, context) {\n    return new Promise(function (resolve, reject) {\n      self.lambdaContext = context;\n      if (shouldReportTimeouts) {\n        var timeoutCb = (timeoutHandler || _timeoutHandler).bind(null, event, context);\n        self.lambdaTimeoutHandle = setTimeout(timeoutCb, context.getRemainingTimeInMillis() - 1000);\n      }\n      handler(event, context)\n        .then(function (resp) {\n          clearTimeout(self.lambdaTimeoutHandle);\n          resolve(resp);\n        })\n        .catch(function (err) {\n          self.error(err);\n          self.wait(function () {\n            clearTimeout(self.lambdaTimeoutHandle);\n            reject(err);\n          });\n        });\n    });\n  };\n};\nRollbar.prototype.syncLambdaHandler = function (handler, timeoutHandler) {\n  var self = this;\n  var _timeoutHandler = function (event, context, _cb) {\n    var message = 'Function timed out';\n    var custom = {\n      originalEvent: event,\n      originalRequestId: context.awsRequestId,\n    };\n    self.error(message, custom);\n  };\n  var shouldReportTimeouts = self.options.captureLambdaTimeouts;\n  return function (event, context, callback) {\n    self.lambdaContext = context;\n    if (shouldReportTimeouts) {\n      var timeoutCb = (timeoutHandler || _timeoutHandler).bind(null, event, context, callback);\n      self.lambdaTimeoutHandle = setTimeout(timeoutCb, context.getRemainingTimeInMillis() - 1000);\n    }\n    try {\n      handler(event, context, function (err, resp) {\n        if (err) {\n          self.error(err);\n        }\n        self.wait(function () {\n          clearTimeout(self.lambdaTimeoutHandle);\n          callback(err, resp);\n        });\n      });\n    } catch (err) {\n      self.error(err);\n      self.wait(function () {\n        clearTimeout(self.lambdaTimeoutHandle);\n        throw err;\n      });\n    }\n  };\n};\nRollbar.lambdaHandler = function (handler) {\n  if (_instance) {\n    return _instance.lambdaHandler(handler);\n  } else {\n    handleUninitialized();\n  }\n};\n\nfunction wrapCallback(r, f) {\n  return function () {\n    var err = arguments[0];\n    if (err) {\n      r.error(err);\n    }\n    return f.apply(this, arguments);\n  };\n}\n\nRollbar.prototype.wrapCallback = function (f) {\n  return wrapCallback(this, f);\n};\nRollbar.wrapCallback = function (f) {\n  if (_instance) {\n    return _instance.wrapCallback(f);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.captureEvent = function () {\n  var event = _.createTelemetryEvent(arguments);\n  return this.client.captureEvent(event.type, event.metadata, event.level);\n};\nRollbar.captureEvent = function () {\n  if (_instance) {\n    return _instance.captureEvent.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\n/** DEPRECATED **/\n\nRollbar.prototype.reportMessage = function (message, level, request, callback) {\n  logger.log('reportMessage is deprecated');\n  if (_.isFunction(this[level])) {\n    return this[level](message, request, callback);\n  } else {\n    return this.error(message, request, callback);\n  }\n};\nRollbar.reportMessage = function (message, level, request, callback) {\n  if (_instance) {\n    return _instance.reportMessage(message, level, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\nRollbar.prototype.reportMessageWithPayloadData = function (message, payloadData, request, callback) {\n  logger.log('reportMessageWithPayloadData is deprecated');\n  return this.error(message, request, payloadData, callback);\n};\nRollbar.reportMessageWithPayloadData = function (message, payloadData, request, callback) {\n  if (_instance) {\n    return _instance.reportMessageWithPayloadData(message, payloadData, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\n\nRollbar.prototype.handleError = function (err, request, callback) {\n  logger.log('handleError is deprecated');\n  return this.error(err, request, callback);\n};\nRollbar.handleError = function (err, request, callback) {\n  if (_instance) {\n    return _instance.handleError(err, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\n\nRollbar.prototype.handleErrorWithPayloadData = function (err, payloadData, request, callback) {\n  logger.log('handleErrorWithPayloadData is deprecated');\n  return this.error(err, request, payloadData, callback);\n};\nRollbar.handleErrorWithPayloadData = function (err, payloadData, request, callback) {\n  if (_instance) {\n    return _instance.handleErrorWithPayloadData(err, payloadData, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\nRollbar.handleUncaughtExceptions = function (accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.handleUnhandledRejections = function (accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.handleUncaughtExceptionsAndRejections = function (accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\n/** Internal **/\n\nfunction addTransformsToNotifier(notifier) {\n  notifier\n    .addTransform(transforms.baseData)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(transforms.addRequestData)\n    .addTransform(transforms.addLambdaData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.scrubPayload)\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlacklisted(logger))\n    .addPredicate(sharedPredicates.urlIsWhitelisted(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nRollbar.prototype._createItem = function (args) {\n  var requestKeys = ['headers', 'protocol', 'url', 'method', 'body', 'route'];\n  return _.createItem(args, logger, this, requestKeys, this.lambdaContext);\n};\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nRollbar.prototype.setupUnhandledCapture = function () {\n  if (this.options.captureUncaught || this.options.handleUncaughtExceptions) {\n    this.handleUncaughtExceptions();\n  }\n  if (this.options.captureUnhandledRejections || this.options.handleUnhandledRejections) {\n    this.handleUnhandledRejections();\n  }\n};\n\nRollbar.prototype.handleUncaughtExceptions = function () {\n  var exitOnUncaught = !!this.options.exitOnUncaughtException;\n  delete this.options.exitOnUncaughtException;\n\n  addOrReplaceRollbarHandler('uncaughtException', function (err) {\n    if (!this.options.captureUncaught && !this.options.handleUncaughtExceptions) {\n      return;\n    }\n\n    this._uncaughtError(err, function (err) {\n      if (err) {\n        logger.error('Encountered error while handling an uncaught exception.');\n        logger.error(err);\n      }\n    });\n    if (exitOnUncaught) {\n      setImmediate(function () {\n        this.wait(function () {\n          process.exit(1);\n        });\n      }.bind(this));\n    }\n  }.bind(this));\n};\n\nRollbar.prototype.handleUnhandledRejections = function () {\n  addOrReplaceRollbarHandler('unhandledRejection', function (reason) {\n    if (!this.options.captureUnhandledRejections && !this.options.handleUnhandledRejections) {\n      return;\n    }\n\n    this._uncaughtError(reason, function (err) {\n      if (err) {\n        logger.error('Encountered error while handling an uncaught exception.');\n        logger.error(err);\n      }\n    });\n  }.bind(this));\n};\n\nfunction addOrReplaceRollbarHandler(event, action) {\n  // We only support up to two arguments which is enough for how this is used\n  // rather than dealing with `arguments` and `apply`\n  var fn = function (a, b) {\n    action(a, b);\n  };\n  fn._rollbarHandler = true;\n\n  var listeners = process.listeners(event);\n  var len = listeners.length;\n  for (var i = 0; i < len; ++i) {\n    if (listeners[i]._rollbarHandler) {\n      process.removeListener(event, listeners[i]);\n    }\n  }\n  process.on(event, fn);\n}\n\nfunction RollbarError(message, nested) {\n  Error.call(this);\n  Error.captureStackTrace(this, this.constructor);\n\n  this.message = message;\n  this.nested = nested;\n  this.name = this.constructor.name;\n}\nutil.inherits(RollbarError, Error);\nRollbar.Error = RollbarError;\n\nRollbar.defaultOptions = {\n  host: os.hostname(),\n  environment: process.env.NODE_ENV || 'development',\n  framework: 'node-js',\n  showReportedMessageTraces: false,\n  notifier: {\n    name: 'node_rollbar',\n    version: packageJson.version\n  },\n  scrubHeaders: packageJson.defaults.server.scrubHeaders,\n  scrubFields: packageJson.defaults.server.scrubFields,\n  addRequestData: null,\n  reportLevel: packageJson.defaults.reportLevel,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: false,\n  captureEmail: false,\n  captureUsername: false,\n  captureIp: true,\n  captureLambdaTimeouts: true,\n  ignoreDuplicateErrors: true,\n  scrubRequestBody: true\n};\n\nmodule.exports = Rollbar;\n","var SourceMapConsumer = require('source-map').SourceMapConsumer;\nvar path = require('path');\nvar fs = require('fs');\n\n/**\n * Uses Node source-map to map transpiled JS stack locations to original\n * source file locations.\n *\n * The default behavior uses source map comments in the transpiled files\n * to identify the path of source maps. A later enhancement can allow\n * source map paths to be passed in by the caller.\n *\n * These functions are based on https://github.com/evanw/node-source-map-support/blob/master/source-map-support.js\n * simplified to target Node only, and optimized for Rollbar configuration scenarios.\n */\n\n// Maps a file path to a string containing the file contents\nvar fileContentsCache = {};\n\n// Maps a file path to a source map for that file\nvar sourceMapCache = {};\n\n// Regex for detecting source maps\nvar reSourceMap = /^data:application\\/json[^,]+base64,/;\n\nfunction retrieveFile(path) {\n  // Trim the path to make sure there is no extra whitespace.\n  path = path.trim();\n  if (/^file:/.test(path)) {\n    // existsSync/readFileSync can't handle file protocol, but once stripped, it works\n    path = path.replace(/file:\\/\\/\\/(\\w:)?/, function(_protocol, drive) {\n      return drive ?\n        '' : // file:///C:/dir/file -> C:/dir/file\n        '/'; // file:///root-dir/file -> /root-dir/file\n    });\n  }\n  if (path in fileContentsCache) {\n    return fileContentsCache[path];\n  }\n\n  var contents = '';\n  try {\n    if (fs.existsSync(path)) {\n      contents = fs.readFileSync(path, 'utf8');\n    }\n  } catch (er) {\n    /* ignore any errors */\n  }\n\n  return fileContentsCache[path] = contents;\n}\n\n// Support URLs relative to a directory, but be careful about a protocol prefix\n// in case we are in the browser (i.e. directories may start with \"http://\" or \"file:///\")\nfunction supportRelativeURL(file, url) {\n  if (!file) return url;\n  var dir = path.dirname(file);\n  var match = /^\\w+:\\/\\/[^\\/]*/.exec(dir);\n  var protocol = match ? match[0] : '';\n  var startPath = dir.slice(protocol.length);\n  if (protocol && /^\\/\\w\\:/.test(startPath)) {\n    // handle file:///C:/ paths\n    protocol += '/';\n    return protocol + path.resolve(dir.slice(protocol.length), url).replace(/\\\\/g, '/');\n  }\n  return protocol + path.resolve(dir.slice(protocol.length), url);\n}\n\nfunction retrieveSourceMapURL(source) {\n  var fileData;\n\n  // Get the URL of the source map\n  fileData = retrieveFile(source);\n  var re = /(?:\\/\\/[@#][ \\t]+sourceMappingURL=([^\\s'\"]+?)[ \\t]*$)|(?:\\/\\*[@#][ \\t]+sourceMappingURL=([^\\*]+?)[ \\t]*(?:\\*\\/)[ \\t]*$)/mg;\n  // Keep executing the search to find the *last* sourceMappingURL to avoid\n  // picking up sourceMappingURLs from comments, strings, etc.\n  var lastMatch, match;\n  while ((match = re.exec(fileData))) lastMatch = match;\n  if (!lastMatch) return null;\n  return lastMatch[1];\n}\n\n// Takes a generated source filename; returns a {map, optional url} object, or null if\n// there is no source map.  The map field may be either a string or the parsed\n// JSON object (ie, it must be a valid argument to the SourceMapConsumer\n// constructor).\nfunction retrieveSourceMap(source) {\n  var sourceMappingURL = retrieveSourceMapURL(source);\n  if (!sourceMappingURL) return null;\n\n  // Read the contents of the source map\n  var sourceMapData;\n  if (reSourceMap.test(sourceMappingURL)) {\n    // Support source map URL as a data url\n    var rawData = sourceMappingURL.slice(sourceMappingURL.indexOf(',') + 1);\n    sourceMapData = Buffer.from(rawData, 'base64').toString();\n    sourceMappingURL = source;\n  } else {\n    // Support source map URLs relative to the source URL\n    sourceMappingURL = supportRelativeURL(source, sourceMappingURL);\n    sourceMapData = retrieveFile(sourceMappingURL);\n  }\n\n  if (!sourceMapData) {\n    return null;\n  }\n\n  return {\n    url: sourceMappingURL,\n    map: sourceMapData\n  };\n}\n\nexports.mapSourcePosition = function mapSourcePosition(position, diagnostic) {\n  var sourceMap = sourceMapCache[position.source];\n  if (!sourceMap) {\n    // Call the (overrideable) retrieveSourceMap function to get the source map.\n    var urlAndMap = retrieveSourceMap(position.source);\n    if (urlAndMap) {\n      sourceMap = sourceMapCache[position.source] = {\n        url: urlAndMap.url,\n        map: new SourceMapConsumer(urlAndMap.map)\n      };\n      diagnostic.node_source_maps.source_mapping_urls[position.source] = urlAndMap.url;\n\n      // Load all sources stored inline with the source map into the file cache\n      // to pretend like they are already loaded. They may not exist on disk.\n      if (sourceMap.map.sourcesContent) {\n        sourceMap.map.sources.forEach(function(source, i) {\n          var contents = sourceMap.map.sourcesContent[i];\n          if (contents) {\n            var url = supportRelativeURL(sourceMap.url, source);\n            fileContentsCache[url] = contents;\n          }\n        });\n      }\n    } else {\n      sourceMap = sourceMapCache[position.source] = {\n        url: null,\n        map: null\n      };\n      diagnostic.node_source_maps.source_mapping_urls[position.source] = 'not found';\n    }\n  }\n\n  // Resolve the source URL relative to the URL of the source map\n  if (sourceMap && sourceMap.map && typeof sourceMap.map.originalPositionFor === 'function') {\n    var originalPosition = sourceMap.map.originalPositionFor(position);\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    if (originalPosition.source !== null) {\n      originalPosition.source = supportRelativeURL(\n        sourceMap.url, originalPosition.source);\n      return originalPosition;\n    }\n  }\n\n  return position;\n}\n","var async = require('async');\nvar parser = require('./parser');\nvar requestIp = require('request-ip');\nvar url = require('url');\nvar _ = require('../utility');\nvar scrub = require('../scrub');\n\nfunction baseData(item, options, callback) {\n  var environment = (options.payload && options.payload.environment) || options.environment;\n  var data = {\n    timestamp: Math.round(item.timestamp / 1000),\n    environment: item.environment || environment,\n    level: item.level || 'error',\n    language: 'javascript',\n    framework: item.framework || options.framework,\n    uuid: item.uuid,\n    notifier: JSON.parse(JSON.stringify(options.notifier)),\n    custom: item.custom\n  };\n\n  if (options.codeVersion) {\n    data.code_version = options.codeVersion;\n  } else if (options.code_version) {\n    data.code_version = options.code_version;\n  }\n\n  var props = Object.getOwnPropertyNames(item.custom || {});\n  props.forEach(function (name) {\n    if (!data.hasOwnProperty(name)) {\n      data[name] = item.custom[name];\n    }\n  });\n\n  data.server = {\n    host: options.host,\n    argv: process.argv.concat(),\n    pid: process.pid\n  };\n\n  if (options.branch) {\n    data.server.branch = options.branch;\n  }\n  if (options.root) {\n    data.server.root = options.root;\n  }\n\n  item.data = data;\n  callback(null, item);\n}\n\nfunction addMessageData(item, options, callback) {\n  item.data = item.data || {};\n  item.data.body = item.data.body || {};\n  var message = item.message || 'Item sent with null or missing arguments.';\n  item.data.body.message = {\n    body: message\n  };\n  callback(null, item);\n}\n\nfunction addErrorData(item, options, callback) {\n  if (item.stackInfo) {\n    item.data = item.data || {};\n    item.data.body = item.data.body || {};\n    item.data.body.trace_chain = item.stackInfo;\n  }\n  callback(null, item);\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    addErrorData(item, options, callback);\n  } else {\n    addMessageData(item, options, callback);\n  }\n}\n\nfunction handleItemWithError(item, options, callback) {\n  if (!item.err) {\n    return callback(null, item);\n  }\n\n  var err = item.err;\n  var errors = [];\n  var chain = [];\n  do {\n    errors.push(err);\n    err = err.nested;\n  } while (err !== undefined);\n  item.stackInfo = chain;\n\n  if (options.addErrorContext) {\n    _.addErrorContext(item, errors);\n  }\n\n  var cb = function(e) {\n    if (e) {\n      item.message = item.err.message || item.err.description || item.message || String(item.err);\n      item.diagnostic.buildTraceData = e.message;\n      delete item.stackInfo;\n    }\n    callback(null, item);\n  };\n  async.eachSeries(errors, _buildTraceData(chain, options, item), cb);\n}\n\nfunction addRequestData(item, options, callback) {\n  item.data = item.data || {};\n\n  var req = item.request;\n  if (!req) {\n    callback(null, item);\n    return;\n  }\n\n  var baseUrl = req.baseUrl || '';\n\n  if (options.addRequestData && _.isFunction(options.addRequestData)) {\n    options.addRequestData(item.data, req);\n    callback(null, item);\n    return;\n  }\n\n  var requestData = _buildRequestData(req);\n  _.filterIp(requestData, options.captureIp);\n  item.data.request = requestData;\n\n  var routePath;\n\n  if (req.route) {\n    routePath = req.route.path;\n    item.data.context = baseUrl && baseUrl.length ? baseUrl + routePath : routePath;\n  } else {\n    try {\n      routePath = req.app._router.matchRequest(req).path;\n      item.data.context = baseUrl && baseUrl.length ? baseUrl + routePath : routePath;\n    } catch (ignore) {\n      // Ignored\n    }\n  }\n\n  var captureEmail = options.captureEmail;\n  var captureUsername = options.captureUsername;\n  if (req.rollbar_person) {\n    var person = req.rollbar_person;\n    if (!captureEmail && person.email) {\n      person.email = null;\n    }\n    if (!captureUsername && person.username) {\n      person.username = null;\n    }\n    item.data.person = person;\n  } else if (req.user) {\n    item.data.person = {id: req.user.id};\n    if (req.user.username && captureUsername) {\n      item.data.person.username = req.user.username;\n    }\n    if (req.user.email && captureEmail) {\n      item.data.person.email = req.user.email;\n    }\n  } else if (req.user_id || req.userId) {\n    var userId = req.user_id || req.userId;\n    if (_.isFunction(userId)) {\n      userId = userId();\n    }\n    item.data.person = {id: userId};\n  }\n\n  callback(null, item);\n}\n\nfunction addLambdaData(item, options, callback) {\n  var c = item.lambdaContext;\n  if (!c) {\n    callback(null, item);\n    return;\n  }\n\n  var data = {\n    remainingTimeInMillis: c.getRemainingTimeInMillis(),\n    callbackWaitsForEmptyEventLoop: c.callbackWaitsForEmptyEventLoop,\n    functionName: c.functionName,\n    functionVersion: c.functionVersion,\n    arn: c.invokedFunctionArn,\n    requestId: c.awsRequestId\n  };\n\n  item.data = item.data || {};\n  item.data.custom = item.data.custom || {};\n  item.data.custom.lambda = data;\n\n  callback(null, item);\n}\n\nfunction scrubPayload(item, options, callback) {\n  var scrubHeaders = options.scrubHeaders || [];\n  var scrubFields = options.scrubFields || [];\n  var scrubPaths = options.scrubPaths || [];\n  scrubFields = scrubHeaders.concat(scrubFields);\n\n  parseRequestBody(item.data.request, options);\n  item.data = scrub(item.data, scrubFields, scrubPaths);\n  serializeRequestBody(item.data.request, options);\n\n  callback(null, item);\n}\n\nfunction parseRequestBody(req, options) {\n  if (!req || !options.scrubRequestBody) { return }\n\n  try {\n    if (_.isString(req.body) && _isJsonContentType(req)) {\n      req.body = JSON.parse(req.body);\n    }\n  } catch (e) {\n    req.body = null;\n    req.error = 'request.body parse failed: ' + e.message;\n  }\n}\n\nfunction serializeRequestBody(req, options) {\n  if (!req || !options.scrubRequestBody) { return }\n\n  try {\n    if (_.isObject(req.body) && _isJsonContentType(req)) {\n      req.body = JSON.stringify(req.body);\n    }\n  } catch (e) {\n    req.body = null;\n    req.error = 'request.body serialization failed: ' + e.message;\n  }\n}\n\n/** Helpers **/\n\nfunction _isJsonContentType(req) {\n  return req.headers && req.headers['content-type'] && req.headers['content-type'].includes('json');\n}\n\nfunction _buildTraceData(chain, options, item) {\n  return function(ex, cb) {\n    parser.parseException(ex, options, item, function (err, errData) {\n      if (err) {\n        return cb(err);\n      }\n\n      chain.push({\n        frames: errData.frames,\n        exception: {\n          class: errData['class'],\n          message: errData.message\n        }\n      });\n\n      return cb(null);\n    });\n  };\n}\n\nfunction _extractIp(req) {\n  var ip = req.ip;\n  if (!ip) {\n    ip = requestIp.getClientIp(req);\n  }\n  return ip;\n}\n\nfunction _buildRequestData(req) {\n  var headers = req.headers || {};\n  var host = headers.host || '<no host>';\n  var proto = req.protocol || ((req.socket && req.socket.encrypted) ? 'https' : 'http' );\n  var parsedUrl;\n  var baseUrl = req.baseUrl || '';\n  if (_.isType(req.url, 'string')) {\n    var fullUrl = baseUrl && baseUrl.length ? baseUrl + req.url : req.url\n    parsedUrl = url.parse(fullUrl, true);\n  } else {\n    parsedUrl = req.url || {};\n  }\n  parsedUrl.protocol = parsedUrl.protocol || proto;\n  parsedUrl.host = parsedUrl.host || host;\n  var reqUrl = url.format(parsedUrl);\n  var data = {\n    url: reqUrl,\n    user_ip: _extractIp(req),\n    headers: headers,\n    method: req.method\n  };\n  if (parsedUrl.search && parsedUrl.search.length > 0) {\n    data.GET = parsedUrl.query;\n  }\n\n  var body = req.body || req.payload;\n  if (body) {\n    var bodyParams = {};\n    if (_.isIterable(body)) {\n      for (var k in body) {\n        if (Object.prototype.hasOwnProperty.call(body, k)) {\n          bodyParams[k] = body[k];\n        }\n      }\n      data[req.method] = bodyParams;\n    } else {\n      data.body = body;\n    }\n  }\n  return data;\n}\n\nmodule.exports = {\n  baseData: baseData,\n  handleItemWithError: handleItemWithError,\n  addBody: addBody,\n  addMessageData: addMessageData,\n  addErrorData: addErrorData,\n  addRequestData: addRequestData,\n  addLambdaData: addLambdaData,\n  scrubPayload: scrubPayload\n};\n","var _ = require('../utility');\nvar truncation = require('../truncation');\nvar logger = require('./logger');\n\nvar http = require('http');\nvar https = require('https');\nvar jsonBackup = require('json-stringify-safe');\n\nvar MAX_RATE_LIMIT_INTERVAL = 60;\n\n/*\n * accessToken may be embedded in payload but that should not be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n * }\n *\n * params is an object containing key/value pairs to be\n *    appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport() {\n  this.rateLimitExpires = 0;\n}\n\nTransport.prototype.get = function(accessToken, options, params, callback, transportFactory) {\n  var t;\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n  options = options || {};\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n  options.headers = _headers(accessToken, options);\n  if (transportFactory) {\n    t = transportFactory(options);\n  } else {\n    t = _transport(options);\n  }\n  if (!t) {\n    logger.error('Unknown transport based on given protocol: ' + options.protocol);\n    return callback(new Error('Unknown transport'));\n  }\n  var req = t.request(options, function(resp) {\n    this.handleResponse(resp, callback);\n  }.bind(this));\n  req.on('error', function(err) {\n    callback(err);\n  });\n  req.end();\n}\n\nTransport.prototype.post = function(accessToken, options, payload, callback, transportFactory) {\n  var t;\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n  if (_currentTime() < this.rateLimitExpires) {\n    return callback(new Error('Exceeded rate limit'));\n  }\n  options = options || {};\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n  var stringifyResult = truncation.truncate(payload, jsonBackup);\n  if (stringifyResult.error) {\n    logger.error('Problem stringifying payload. Giving up');\n    return callback(stringifyResult.error);\n  }\n  var writeData = stringifyResult.value;\n  options.headers = _headers(accessToken, options, writeData);\n  if (transportFactory) {\n    t = transportFactory(options);\n  } else {\n    t = _transport(options);\n  }\n  if (!t) {\n    logger.error('Unknown transport based on given protocol: ' + options.protocol);\n    return callback(new Error('Unknown transport'));\n  }\n  var req = t.request(options, function(resp) {\n    this.handleResponse(resp, _wrapPostCallback(callback));\n  }.bind(this));\n  req.on('error', function(err) {\n    callback(err);\n  });\n  if (writeData) {\n    req.write(writeData);\n  }\n  req.end();\n}\n\nTransport.prototype.updateRateLimit = function(resp) {\n  var remaining = parseInt(resp.headers['x-rate-limit-remaining'] || 0);\n  var remainingSeconds = Math.min(MAX_RATE_LIMIT_INTERVAL, resp.headers['x-rate-limit-remaining-seconds'] || 0);\n  var currentTime = _currentTime();\n\n  if ((resp.statusCode === 429) && (remaining === 0)) {\n    this.rateLimitExpires = currentTime + remainingSeconds;\n  } else {\n    this.rateLimitExpires = currentTime;\n  }\n}\n\nTransport.prototype.handleResponse = function(resp, callback) {\n  this.updateRateLimit(resp);\n\n  var respData = [];\n  resp.setEncoding('utf8');\n  resp.on('data', function(chunk) {\n    respData.push(chunk);\n  });\n\n  resp.on('end', function() {\n    respData = respData.join('');\n    _parseApiResponse(respData, callback);\n  });\n}\n\n/** Helpers **/\n\nfunction _headers(accessToken, options, data) {\n  var headers = (options && options.headers) || {};\n  headers['Content-Type'] = 'application/json';\n  if (data) {\n    try {\n      headers['Content-Length'] = Buffer.byteLength(data, 'utf8');\n    } catch (e) {\n      logger.error('Could not get the content length of the data');\n    }\n  }\n  headers['X-Rollbar-Access-Token'] = accessToken;\n  return headers;\n}\n\nfunction _transport(options) {\n  return {'http:': http, 'https:': https}[options.protocol];\n}\n\nfunction _parseApiResponse(data, callback) {\n  var parsedData = _.jsonParse(data);\n  if (parsedData.error) {\n    logger.error('Could not parse api response, err: ' + parsedData.error);\n    return callback(parsedData.error);\n  }\n  data = parsedData.value;\n\n  if (data.err) {\n    logger.error('Received error: ' + data.message);\n    return callback(new Error('Api error: ' + (data.message || 'Unknown error')));\n  }\n\n  callback(null, data);\n}\n\nfunction _wrapPostCallback(callback) {\n  return function(err, data) {\n    if (err) {\n      return callback(err);\n    }\n    if (data.result && data.result.uuid) {\n      logger.log([\n          'Successful api response.',\n          ' Link: https://rollbar.com/occurrence/uuid/?uuid=' + data.result.uuid\n      ].join(''));\n    } else {\n      logger.log('Successful api response');\n    }\n    callback(null, data.result);\n  }\n}\n\nfunction _currentTime() {\n  return Math.floor(Date.now() / 1000);\n}\n\nmodule.exports = Transport;\n","var _ = require('./utility');\n\nvar MAX_EVENTS = 100;\n\nfunction Telemeter(options) {\n  this.queue = [];\n  this.options = _.merge(options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n}\n\nTelemeter.prototype.configure = function(options) {\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n  var deleteCount = 0;\n  if (this.maxQueueSize > newMaxEvents) {\n    deleteCount = this.maxQueueSize - newMaxEvents;\n  }\n  this.maxQueueSize = newMaxEvents;\n  this.queue.splice(0, deleteCount);\n};\n\nTelemeter.prototype.copyEvents = function() {\n  var events = Array.prototype.slice.call(this.queue, 0);\n  if (_.isFunction(this.options.filterTelemetry)) {\n    try {\n      var i = events.length;\n      while (i--) {\n        if (this.options.filterTelemetry(events[i])) {\n          events.splice(i, 1);\n        }\n      }\n    } catch (e) {\n      this.options.filterTelemetry = null;\n    }\n  }\n  return events;\n};\n\nTelemeter.prototype.capture = function(type, metadata, level, rollbarUUID, timestamp) {\n  var e = {\n    level: getLevel(type, level),\n    type: type,\n    timestamp_ms: timestamp || _.now(),\n    body: metadata,\n    source: 'client'\n  };\n  if (rollbarUUID) {\n    e.uuid = rollbarUUID;\n  }\n\n  try {\n    if (_.isFunction(this.options.filterTelemetry) && this.options.filterTelemetry(e)) {\n      return false;\n    }\n  } catch (exc) {\n    this.options.filterTelemetry = null;\n  }\n\n  this.push(e);\n  return e;\n};\n\nTelemeter.prototype.captureEvent = function(type, metadata, level, rollbarUUID) {\n  return this.capture(type, metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.captureError = function(err, level, rollbarUUID, timestamp) {\n  var metadata = {\n    message: err.message || String(err)\n  };\n  if (err.stack) {\n    metadata.stack = err.stack;\n  }\n  return this.capture('error', metadata, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureLog = function(message, level, rollbarUUID, timestamp) {\n  return this.capture('log', {\n    message: message\n  }, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureNetwork = function(metadata, subtype, rollbarUUID, requestData) {\n  subtype = subtype || 'xhr';\n  metadata.subtype = metadata.subtype || subtype;\n  if (requestData) {\n    metadata.request = requestData;\n  }\n  var level = this.levelFromStatus(metadata.status_code);\n  return this.capture('network', metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.levelFromStatus = function(statusCode) {\n  if (statusCode >= 200 && statusCode < 400) {\n    return 'info';\n  }\n  if (statusCode === 0 || statusCode >= 400) {\n    return 'error';\n  }\n  return 'info';\n};\n\nTelemeter.prototype.captureDom = function(subtype, element, value, checked, rollbarUUID) {\n  var metadata = {\n    subtype: subtype,\n    element: element\n  };\n  if (value !== undefined) {\n    metadata.value = value;\n  }\n  if (checked !== undefined) {\n    metadata.checked = checked;\n  }\n  return this.capture('dom', metadata, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureNavigation = function(from, to, rollbarUUID) {\n  return this.capture('navigation', {from: from, to: to}, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureDomContentLoaded = function(ts) {\n  return this.capture('navigation', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  */\n};\nTelemeter.prototype.captureLoad = function(ts) {\n  return this.capture('navigation', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  */\n};\n\nTelemeter.prototype.captureConnectivityChange = function(type, rollbarUUID) {\n  return this.captureNetwork({change: type}, 'connectivity', rollbarUUID);\n};\n\n// Only intended to be used internally by the notifier\nTelemeter.prototype._captureRollbarItem = function(item) {\n  if (!this.options.includeItemsInTelemetry) {\n    return;\n  }\n  if (item.err) {\n    return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n  }\n  if (item.message) {\n    return this.captureLog(item.message, item.level, item.uuid, item.timestamp);\n  }\n  if (item.custom) {\n    return this.capture('log', item.custom, item.level, item.uuid, item.timestamp);\n  }\n};\n\nTelemeter.prototype.push = function(e) {\n  this.queue.push(e);\n  if (this.queue.length > this.maxQueueSize) {\n    this.queue.shift();\n  }\n};\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info'\n  };\n  return defaultLevel[type] || 'info';\n}\n\nmodule.exports = Telemeter;\n","var _ = require('./utility');\n\nfunction itemToPayload(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  var data = _.merge(item.data, payloadOptions);\n  if (item._isUncaught) {\n    data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    data._originalArgs = item._originalArgs;\n  }\n  callback(null, data);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath+'.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath+'.extra') || {};\n    var newExtra =  _.merge(extra, {message: item.message});\n    _.set(item, tracePath+'.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function(item, options, callback) {\n    var newItem = _.merge(item);\n    try {\n      if (_.isFunction(options.transform)) {\n        options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error('Error while calling custom transform() function. Removing custom transform().', e);\n      callback(null, item);\n      return;\n    }\n    callback(null, newItem);\n  }\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if(_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(item.notifier.client.notifier.diagnostic, item.diagnostic);\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(item.data.notifier.diagnostic, diagnostic);\n  callback(null, item);\n}\n\nmodule.exports = {\n  itemToPayload: itemToPayload,\n  addTelemetryData: addTelemetryData,\n  addMessageWithError: addMessageWithError,\n  userTransform: userTransform,\n  addConfigToPayload: addConfigToPayload,\n  addConfiguredOptions: addConfiguredOptions,\n  addDiagnosticKeys: addDiagnosticKeys\n};\n","var _ = require('./utility');\nvar traverse = require('./utility/traverse');\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = (typeof range === 'undefined') ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      frames = chain[i].frames;\n      frames = selectFrames(frames, range);\n      chain[i].frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = traverse(payload, truncator, []);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(255, traceData.exception.message);\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      chain[i] = truncateTraceData(chain[i]);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = (typeof maxSize === 'undefined') ? (512 * 1024) : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = {\n  truncate: truncate,\n\n  /* for testing */\n  raw: raw,\n  truncateFrames: truncateFrames,\n  truncateStrings: truncateStrings,\n  maybeTruncateValue: maybeTruncateValue\n};\n","var merge = require('./merge');\n\nvar RollbarJSON = {};\nfunction setupJSON(polyfillJSON) {\n  if (isFunction(RollbarJSON.stringify) && isFunction(RollbarJSON.parse)) {\n    return;\n  }\n\n  if (isDefined(JSON)) {\n    // If polyfill is provided, prefer it over existing non-native shims.\n    if(polyfillJSON) {\n      if (isNativeFunction(JSON.stringify)) {\n        RollbarJSON.stringify = JSON.stringify;\n      }\n      if (isNativeFunction(JSON.parse)) {\n        RollbarJSON.parse = JSON.parse;\n      }\n    } else { // else accept any interface that is present.\n      if (isFunction(JSON.stringify)) {\n        RollbarJSON.stringify = JSON.stringify;\n      }\n      if (isFunction(JSON.parse)) {\n        RollbarJSON.parse = JSON.parse;\n      }\n    }\n  }\n  if (!isFunction(RollbarJSON.stringify) || !isFunction(RollbarJSON.parse)) {\n    polyfillJSON && polyfillJSON(RollbarJSON);\n  }\n}\n\n/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return ({}).toString.call(x).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString.call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n*/\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n*/\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String\n}\n\n/*\n * isDefined - a convenience function for checking if a value is not equal to undefined\n *\n * @param u - any value\n * @returns true if u is anything other than undefined\n */\nfunction isDefined(u) {\n  return !isType(u, 'undefined');\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return (type === 'object' || type === 'array');\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16);\n  });\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4\n};\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor'\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0,qs) + query + '&' + p.substring(qs+1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0,h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = RollbarJSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return {error: error, value: value};\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) { // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) { // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) { // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = RollbarJSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return {error: error, value: value};\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href = document && document.location && document.location.href;\n  var useragent = window && window.navigator && window.navigator.userAgent;\n  return {\n    'mode': mode,\n    'message': error ? String(error) : (message || backupMessage),\n    'url': href,\n    'stack': [location],\n    'useragent': useragent\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function(err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        message ? extraArgs.push(arg) : message = arg;\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        err ? extraArgs.push(arg) : err = arg;\n        break;\n      case 'object':\n      case 'array':\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        custom ? extraArgs.push(arg) : custom = arg;\n        break;\n      default:\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  if (extraArgs.length > 0) {\n    // if custom is an array this turns it into an object with integer keys\n    custom = merge(custom);\n    custom.extraArgs = extraArgs;\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4()\n  };\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nfunction addErrorContext(item, errors) {\n  var custom = item.data.custom || {};\n  var contextAdded = false;\n\n  try {\n    for (var i = 0; i < errors.length; ++i) {\n      if (errors[i].hasOwnProperty('rollbarContext')) {\n        custom = merge(custom, errors[i].rollbarContext);\n        contextAdded = true;\n      }\n    }\n\n    // Avoid adding an empty object to the data.\n    if (contextAdded) {\n      item.data.custom = custom;\n    }\n  } catch (e) {\n    item.diagnostic.error_context = 'Failed: ' + e.message;\n  }\n}\n\nvar TELEMETRY_TYPES = ['log', 'network', 'dom', 'navigation', 'error', 'manual'];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (var k = 0; k < arr.length; ++k) {\n    if (arr[k] === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level\n  };\n\n  return event;\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len-1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (e) {\n    return;\n  }\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return +Date.now();\n  }\n  return +new Date();\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload) {\n  var result = merge(current, input, payload);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nmodule.exports = {\n  addParamsAndAccessTokenToPath: addParamsAndAccessTokenToPath,\n  createItem: createItem,\n  addErrorContext: addErrorContext,\n  createTelemetryEvent: createTelemetryEvent,\n  filterIp: filterIp,\n  formatArgsAsString: formatArgsAsString,\n  formatUrl: formatUrl,\n  get: get,\n  handleOptions: handleOptions,\n  isError: isError,\n  isFunction: isFunction,\n  isIterable: isIterable,\n  isNativeFunction: isNativeFunction,\n  isType: isType,\n  isObject: isObject,\n  isString: isString,\n  jsonParse: jsonParse,\n  LEVELS: LEVELS,\n  makeUnhandledStackInfo: makeUnhandledStackInfo,\n  merge: merge,\n  now: now,\n  redact: redact,\n  RollbarJSON: RollbarJSON,\n  sanitizeUrl: sanitizeUrl,\n  set: set,\n  setupJSON: setupJSON,\n  stringify: stringify,\n  maxByteSize: maxByteSize,\n  typeName: typeName,\n  uuid4: uuid4\n};\n","var _ = require('../utility');\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = _.isType(obj, 'object');\n  var isArray = _.isType(obj, 'array');\n  var keys = [];\n\n  if (isObj && seen.indexOf(obj) !== -1) {\n    return obj;\n  }\n  seen.push(obj);\n\n  if (isObj) {\n    for (k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  return (keys.length != 0 && !same) ? result : obj;\n}\n\nmodule.exports = traverse;\n","//  json3.js\n//  2017-02-21\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n//          This has been modified to use JSON-js/json_parse_state.js as the\n//          parser instead of the one built around eval found in JSON-js/json2.js\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n  for, this\n  */\n\n/*property\n  JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n  getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n  lastIndex, length, parse, prototype, push, replace, slice, stringify,\n  test, toJSON, toString, valueOf\n  */\n\nvar setupCustomJSON = function(JSON) {\n\n  var rx_one = /^[\\],:{}\\s]*$/;\n  var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n  var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n  var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n  var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n  var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n  function f(n) {\n    // Format integers to have at least two digits.\n    return n < 10\n      ? \"0\" + n\n      : n;\n  }\n\n  function this_value() {\n    return this.valueOf();\n  }\n\n  if (typeof Date.prototype.toJSON !== \"function\") {\n\n    Date.prototype.toJSON = function () {\n\n      return isFinite(this.valueOf())\n        ? this.getUTCFullYear() + \"-\" +\n        f(this.getUTCMonth() + 1) + \"-\" +\n        f(this.getUTCDate()) + \"T\" +\n        f(this.getUTCHours()) + \":\" +\n        f(this.getUTCMinutes()) + \":\" +\n        f(this.getUTCSeconds()) + \"Z\"\n        : null;\n    };\n\n    Boolean.prototype.toJSON = this_value;\n    Number.prototype.toJSON = this_value;\n    String.prototype.toJSON = this_value;\n  }\n\n  var gap;\n  var indent;\n  var meta;\n  var rep;\n\n\n  function quote(string) {\n\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n\n    rx_escapable.lastIndex = 0;\n    return rx_escapable.test(string)\n      ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n        var c = meta[a];\n        return typeof c === \"string\"\n          ? c\n          : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n      }) + \"\\\"\"\n    : \"\\\"\" + string + \"\\\"\";\n  }\n\n\n  function str(key, holder) {\n\n    // Produce a string from holder[key].\n\n    var i;          // The loop counter.\n    var k;          // The member key.\n    var v;          // The member value.\n    var length;\n    var mind = gap;\n    var partial;\n    var value = holder[key];\n\n    // If the value has a toJSON method, call it to obtain a replacement value.\n\n    if (value && typeof value === \"object\" &&\n        typeof value.toJSON === \"function\") {\n      value = value.toJSON(key);\n    }\n\n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n\n    if (typeof rep === \"function\") {\n      value = rep.call(holder, key, value);\n    }\n\n    // What happens next depends on the value's type.\n\n    switch (typeof value) {\n      case \"string\":\n        return quote(value);\n\n      case \"number\":\n\n        // JSON numbers must be finite. Encode non-finite numbers as null.\n\n        return isFinite(value)\n          ? String(value)\n          : \"null\";\n\n      case \"boolean\":\n      case \"null\":\n\n        // If the value is a boolean or null, convert it to a string. Note:\n        // typeof null does not produce \"null\". The case is included here in\n        // the remote chance that this gets fixed someday.\n\n        return String(value);\n\n        // If the type is \"object\", we might be dealing with an object or an array or\n        // null.\n\n      case \"object\":\n\n        // Due to a specification blunder in ECMAScript, typeof null is \"object\",\n        // so watch out for that case.\n\n        if (!value) {\n          return \"null\";\n        }\n\n        // Make an array to hold the partial results of stringifying this object value.\n\n        gap += indent;\n        partial = [];\n\n        // Is the value an array?\n\n        if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n          // The value is an array. Stringify every element. Use null as a placeholder\n          // for non-JSON values.\n\n          length = value.length;\n          for (i = 0; i < length; i += 1) {\n            partial[i] = str(i, value) || \"null\";\n          }\n\n          // Join all of the elements together, separated with commas, and wrap them in\n          // brackets.\n\n          v = partial.length === 0\n            ? \"[]\"\n            : gap\n            ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n            : \"[\" + partial.join(\",\") + \"]\";\n          gap = mind;\n          return v;\n        }\n\n        // If the replacer is an array, use it to select the members to be stringified.\n\n        if (rep && typeof rep === \"object\") {\n          length = rep.length;\n          for (i = 0; i < length; i += 1) {\n            if (typeof rep[i] === \"string\") {\n              k = rep[i];\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        } else {\n\n          // Otherwise, iterate through all of the keys in the object.\n\n          for (k in value) {\n            if (Object.prototype.hasOwnProperty.call(value, k)) {\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        }\n\n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0\n          ? \"{}\"\n          : gap\n          ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n          : \"{\" + partial.join(\",\") + \"}\";\n        gap = mind;\n        return v;\n    }\n  }\n\n  // If the JSON object does not yet have a stringify method, give it one.\n\n  if (typeof JSON.stringify !== \"function\") {\n    meta = {    // table of character substitutions\n      \"\\b\": \"\\\\b\",\n      \"\\t\": \"\\\\t\",\n      \"\\n\": \"\\\\n\",\n      \"\\f\": \"\\\\f\",\n      \"\\r\": \"\\\\r\",\n      \"\\\"\": \"\\\\\\\"\",\n      \"\\\\\": \"\\\\\\\\\"\n    };\n    JSON.stringify = function (value, replacer, space) {\n\n      // The stringify method takes a value and an optional replacer, and an optional\n      // space parameter, and returns a JSON text. The replacer can be a function\n      // that can replace values, or an array of strings that will select the keys.\n      // A default replacer method can be provided. Use of the space parameter can\n      // produce text that is more easily readable.\n\n      var i;\n      gap = \"\";\n      indent = \"\";\n\n      // If the space parameter is a number, make an indent string containing that\n      // many spaces.\n\n      if (typeof space === \"number\") {\n        for (i = 0; i < space; i += 1) {\n          indent += \" \";\n        }\n\n        // If the space parameter is a string, it will be used as the indent string.\n\n      } else if (typeof space === \"string\") {\n        indent = space;\n      }\n\n      // If there is a replacer, it must be a function or an array.\n      // Otherwise, throw an error.\n\n      rep = replacer;\n      if (replacer && typeof replacer !== \"function\" &&\n          (typeof replacer !== \"object\" ||\n           typeof replacer.length !== \"number\")) {\n        throw new Error(\"JSON.stringify\");\n      }\n\n      // Make a fake root object containing our value under the key of \"\".\n      // Return the result of stringifying the value.\n\n      return str(\"\", {\"\": value});\n    };\n  }\n\n\n  // If the JSON object does not yet have a parse method, give it one.\n\n  if (typeof JSON.parse !== \"function\") {\n    JSON.parse = (function () {\n\n      // This function creates a JSON parse function that uses a state machine rather\n      // than the dangerous eval function to parse a JSON text.\n\n      var state;      // The state of the parser, one of\n      // 'go'         The starting state\n      // 'ok'         The final, accepting state\n      // 'firstokey'  Ready for the first key of the object or\n      //              the closing of an empty object\n      // 'okey'       Ready for the next key of the object\n      // 'colon'      Ready for the colon\n      // 'ovalue'     Ready for the value half of a key/value pair\n      // 'ocomma'     Ready for a comma or closing }\n      // 'firstavalue' Ready for the first value of an array or\n      //              an empty array\n      // 'avalue'     Ready for the next value of an array\n      // 'acomma'     Ready for a comma or closing ]\n      var stack;      // The stack, for controlling nesting.\n      var container;  // The current container object or array\n      var key;        // The current key\n      var value;      // The current value\n      var escapes = { // Escapement translation table\n        \"\\\\\": \"\\\\\",\n        \"\\\"\": \"\\\"\",\n        \"/\": \"/\",\n        \"t\": \"\\t\",\n        \"n\": \"\\n\",\n        \"r\": \"\\r\",\n        \"f\": \"\\f\",\n        \"b\": \"\\b\"\n      };\n      var string = {   // The actions for string tokens\n        go: function () {\n          state = \"ok\";\n        },\n        firstokey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        okey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var number = {   // The actions for number tokens\n        go: function () {\n          state = \"ok\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var action = {\n\n        // The action table describes the behavior of the machine. It contains an\n        // object for each token. Each object contains a method that is called when\n        // a token is matched in a state. An object will lack a method for illegal\n        // states.\n\n        \"{\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = {};\n            state = \"firstokey\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          }\n        },\n        \"}\": {\n          firstokey: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          ocomma: function () {\n            var pop = stack.pop();\n            container[key] = value;\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \"[\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = [];\n            state = \"firstavalue\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          }\n        },\n        \"]\": {\n          firstavalue: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          acomma: function () {\n            var pop = stack.pop();\n            container.push(value);\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \":\": {\n          colon: function () {\n            if (Object.hasOwnProperty.call(container, key)) {\n              throw new SyntaxError(\"Duplicate key '\" + key + \"\\\"\");\n            }\n            state = \"ovalue\";\n          }\n        },\n        \",\": {\n          ocomma: function () {\n            container[key] = value;\n            state = \"okey\";\n          },\n          acomma: function () {\n            container.push(value);\n            state = \"avalue\";\n          }\n        },\n        \"true\": {\n          go: function () {\n            value = true;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = true;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = true;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = true;\n            state = \"acomma\";\n          }\n        },\n        \"false\": {\n          go: function () {\n            value = false;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = false;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = false;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = false;\n            state = \"acomma\";\n          }\n        },\n        \"null\": {\n          go: function () {\n            value = null;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = null;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = null;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = null;\n            state = \"acomma\";\n          }\n        }\n      };\n\n      function debackslashify(text) {\n\n        // Remove and replace any backslash escapement.\n\n        return text.replace(/\\\\(?:u(.{4})|([^u]))/g, function (ignore, b, c) {\n          return b\n            ? String.fromCharCode(parseInt(b, 16))\n            : escapes[c];\n        });\n      }\n\n      return function (source, reviver) {\n\n        // A regular expression is used to extract tokens from the JSON text.\n        // The extraction process is cautious.\n\n        var result;\n        var tx = /^[\\u0020\\t\\n\\r]*(?:([,:\\[\\]{}]|true|false|null)|(-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)|\"((?:[^\\r\\n\\t\\\\\\\"]|\\\\(?:[\"\\\\\\/trnfb]|u[0-9a-fA-F]{4}))*)\")/;\n\n        // Set the starting state.\n\n        state = \"go\";\n\n        // The stack records the container, key, and state for each object or array\n        // that contains another object or array while processing nested structures.\n\n        stack = [];\n\n        // If any error occurs, we will catch it and ultimately throw a syntax error.\n\n        try {\n\n          // For each token...\n\n          while (true) {\n            result = tx.exec(source);\n            if (!result) {\n              break;\n            }\n\n            // result is the result array from matching the tokenizing regular expression.\n            //  result[0] contains everything that matched, including any initial whitespace.\n            //  result[1] contains any punctuation that was matched, or true, false, or null.\n            //  result[2] contains a matched number, still in string form.\n            //  result[3] contains a matched string, without quotes but with escapement.\n\n            if (result[1]) {\n\n              // Token: Execute the action for this state and token.\n\n              action[result[1]][state]();\n\n            } else if (result[2]) {\n\n              // Number token: Convert the number string into a number value and execute\n              // the action for this state and number.\n\n              value = +result[2];\n              number[state]();\n            } else {\n\n              // String token: Replace the escapement sequences and execute the action for\n              // this state and string.\n\n              value = debackslashify(result[3]);\n              string[state]();\n            }\n\n            // Remove the token from the string. The loop will continue as long as there\n            // are tokens. This is a slow process, but it allows the use of ^ matching,\n            // which assures that no illegal tokens slip through.\n\n            source = source.slice(result[0].length);\n          }\n\n          // If we find a state/token combination that is illegal, then the action will\n          // cause an error. We handle the error by simply changing the state.\n\n        } catch (e) {\n          state = e;\n        }\n\n        // The parsing is finished. If we are not in the final \"ok\" state, or if the\n        // remaining source contains anything except whitespace, then we did not have\n        //a well-formed JSON text.\n\n        if (state !== \"ok\" || (/[^\\u0020\\t\\n\\r]/.test(source))) {\n          throw (state instanceof SyntaxError)\n            ? state\n            : new SyntaxError(\"JSON\");\n        }\n\n        // If there is a reviver function, we recursively walk the new structure,\n        // passing each name/value pair to the reviver function for possible\n        // transformation, starting with a temporary root object that holds the current\n        // value in an empty key. If there is not a reviver function, we simply return\n        // that value.\n\n        return (typeof reviver === \"function\")\n          ? (function walk(holder, key) {\n            var k;\n            var v;\n            var val = holder[key];\n            if (val && typeof val === \"object\") {\n              for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(val, k)) {\n                  v = walk(val, k);\n                  if (v !== undefined) {\n                    val[k] = v;\n                  } else {\n                    delete val[k];\n                  }\n                }\n              }\n            }\n            return reviver.call(holder, key, val);\n          }({\"\": value}, \"\"))\n        : value;\n      };\n    }());\n  }\n}\n\nmodule.exports = setupCustomJSON;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap)\n    : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      if (source != null && sourceRoot != null) {\n        source = util.join(sourceRoot, source);\n      }\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    if (this.sourceRoot != null) {\n      needle.source = util.relative(this.sourceRoot, needle.source);\n    }\n    if (!this._sources.has(needle.source)) {\n      return [];\n    }\n    needle.source = this._sources.indexOf(needle.source);\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          if (this.sourceRoot != null) {\n            source = util.join(this.sourceRoot, source);\n          }\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    if (this.sourceRoot != null) {\n      aSource = util.relative(this.sourceRoot, aSource);\n    }\n\n    if (this._sources.has(aSource)) {\n      return this.sourcesContent[this._sources.indexOf(aSource)];\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + aSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    if (this.sourceRoot != null) {\n      source = util.relative(this.sourceRoot, source);\n    }\n    if (!this._sources.has(source)) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n    source = this._sources.indexOf(source);\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        if (section.consumer.sourceRoot !== null) {\n          source = util.join(section.consumer.sourceRoot, source);\n        }\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = section.consumer._names.at(mapping.name);\n        this._names.add(name);\n        name = this._names.indexOf(name);\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex];\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex];\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","import * as path from 'path';\nimport * as process from 'process';\nimport {\n  DecorationOptions,\n  DecorationRangeBehavior,\n  Event,\n  extensions,\n  MarkdownString,\n  Position,\n  Range,\n  TextEditor,\n  TextEditorDecorationType,\n  TextEditorSelectionChangeEvent,\n  TextEditorSelectionChangeKind,\n  ThemeColor,\n  window,\n  workspace\n} from 'vscode';\n\nimport * as KiteAPI from \"kite-api\";\n\nexport const relatedCodeLineDecoration: TextEditorDecorationType = window.createTextEditorDecorationType({\n  rangeBehavior: DecorationRangeBehavior.ClosedOpen,\n});\n\ninterface decorationStatusResponse {\n  inlineMessage: string,\n  hoverMessage: string,\n  projectReady: boolean,\n}\n\ninterface IOnDidChangeTextEditorSelection {\n  onDidChangeTextEditorSelection: Event<TextEditorSelectionChangeEvent>\n}\n\nexport default class KiteRelatedCodeDecorationsProvider {\n  private lineInfo: decorationStatusResponse | undefined\n  private activeEditor: TextEditor | undefined\n  private editTimeout: ReturnType<typeof setTimeout> | undefined\n\n  constructor(win: IOnDidChangeTextEditorSelection = window) {\n    this.lineInfo = undefined;\n    this.activeEditor = undefined;\n    this.editTimeout = undefined;\n    win.onDidChangeTextEditorSelection(this.onDidChangeTextEditorSelection.bind(this));\n  }\n\n  public dispose(): void {\n    // Clears all decorations of this type\n    relatedCodeLineDecoration.dispose();\n  }\n\n  // For testing and easy stubbing\n  public enabled(): boolean {\n    return workspace.getConfiguration('kite').codefinder.enableLineDecoration;\n  }\n\n  // Public for testing\n  public async onDidChangeTextEditorSelection(event: TextEditorSelectionChangeEvent): Promise<void> {\n    if (!this.enabled()) {\n      this.clearDecorations(event.textEditor)\n      return;\n    }\n\n    if (typeof(this.editTimeout) === 'undefined' && (event.kind === TextEditorSelectionChangeKind.Command || event.kind === TextEditorSelectionChangeKind.Mouse)) {\n      // If timeout is not set (i.e. the decoration is already showing), and the cursor is moved by\n      // a non-edit event, then show the decoration immediately.\n      await this.decorate(event);\n\n    } else {\n      // Otherwise, show the decoration after 1 second of inactivity.\n      this.clearDecorations(event.textEditor);\n\n      if (typeof(this.editTimeout) !== 'undefined') {\n        clearTimeout(this.editTimeout);\n        this.editTimeout = undefined;\n      }\n\n      this.editTimeout = setTimeout(() => {\n        this.decorate(event);\n      }, 1000);\n    }\n  }\n\n  private async decorate(event: TextEditorSelectionChangeEvent): Promise<void> {\n    const editor = event.textEditor;\n    const applicable = this.lineInfo && this.lineInfo.projectReady !== undefined;\n    const ready = this.lineInfo && this.lineInfo.projectReady;\n    if (!this.lineInfo || editor !== this.activeEditor || (applicable && !ready)) {\n      await this.reset(editor);\n    } else if (event.selections.length != 1) {\n      await this.reset(editor);\n      return;\n    }\n\n    if (this.lineInfo && this.lineInfo.projectReady) {\n      const cursor: Position = event.selections[0].active;\n      const opts: DecorationOptions = {\n        hoverMessage: this.hoverMessage(this.lineInfo.hoverMessage),\n        range: this.lineEnd(cursor),\n        renderOptions: {\n          after: {\n            contentText: `${this.lineInfo.inlineMessage}`,\n            margin: '0 0 0 4em',\n            color: new ThemeColor('textSeparator.foreground'),\n            fontWeight: 'normal',\n            fontStyle: 'normal',\n          }\n        }\n      };\n      editor.setDecorations(relatedCodeLineDecoration, [opts]);\n    }\n\n    this.editTimeout = undefined;\n  }\n\n  private hoverMessage(hover: string): MarkdownString {\n    let logo = path.join(extensions.getExtension(\"kiteco.kite\").extensionPath, \"dist\", \"assets\", \"images\", \"logo-light-blue.svg\");\n    if (process.platform === 'win32') {\n      logo = `file:\\\\\\\\${logo}`;\n      // Replace all \\ in Windows path with \\\\\n      // otherwise c:\\Users\\Foo\\.vscode turns into c:\\Users\\Foo.vscode\n      logo = logo.replace(/\\\\/g,'\\\\\\\\');\n    }\n    const md = new MarkdownString(`![KiteIcon](${logo}|height=12)&nbsp;&nbsp;[${hover}](command:kite.related-code-from-line)`);\n    // Must mark as trusted to run commands in MarkdownStrings\n    md.isTrusted = true;\n    return md;\n  }\n\n  private lineEnd(pos: Position): Range {\n    const ending = pos.with(pos.line, 9999);\n    return new Range(ending, ending);\n  }\n\n  private async reset(editor: TextEditor): Promise<void> {\n    this.clearDecorations(editor);\n    const info = await this.fetchDecoration(editor.document.fileName);\n    if (!info) {\n      return;\n    }\n    this.lineInfo = info;\n  }\n\n  private clearDecorations(editor: TextEditor) {\n    editor.setDecorations(relatedCodeLineDecoration, []);\n    this.activeEditor = editor;\n    this.lineInfo = undefined;\n  }\n\n  private async fetchDecoration(filename: string): Promise<decorationStatusResponse | null> {\n    try {\n      const resp = await KiteAPI.getLineDecoration(filename);\n      if (resp && !resp.err) {\n        return {\n          inlineMessage: resp.inline_message,\n          hoverMessage: resp.hover_message,\n          projectReady: resp.project_ready,\n        } as decorationStatusResponse;\n      }\n    } catch (e) {\n      // pass\n    }\n    return null;\n  }\n}\n","'use strict';\n\nimport {\n  Disposable,\n  Hover,\n  MarkdownString,\n  Position,\n  TextDocument,\n  commands,\n  window,\n} from 'vscode';\nimport * as KiteAPI from \"kite-api\";\n\nimport NotificationsManager from \"./notifications\";\n\nimport { ICommandRegistrant } from './interfaces'\nimport metrics from \"./metrics\";\nimport { hoverPath } from './urls';\nimport {\n  compact,\n  escapeCommandArguments,\n  kiteOpen,\n  promisifiedKiteAPIRequest,\n} from './utils';\nimport { symbolName, symbolKindMarkdown } from './data-utils';\n\nenum Sources {\n  Command = \"Command\",\n  Hover = \"Hover\",\n}\n\nexport class DocsCommands implements ICommandRegistrant {\n  register(): Disposable[] {\n    const ret = [];\n    ret.push(commands.registerCommand(\"kite.docs-at-cursor\", DocsCommands.docsAtCursor));\n    ret.push(commands.registerCommand(\"kite.copilot-docs-from-position\", DocsCommands.copilotDocsFromPos));\n    return ret;\n  }\n\n  static async docsAtCursor() {\n    const editor = window.activeTextEditor;\n    if (editor) {\n      const pos = editor.selection.active;\n      const path = hoverPath(editor.document, pos);\n\n      try {\n        const resp = await KiteAPI.request({ path });\n        if (resp.statusCode === 200) {\n          commands.executeCommand(\"kite.copilot-docs-from-position\", {\n            position: pos,\n            source: Sources.Command\n          });\n        }\n      } catch(e) {\n        NotificationsManager.notifyFromError(e);\n      }\n    }\n  }\n\n  static async copilotDocsFromPos(args: { position: Position, source: Sources }): Promise<void> {\n    metrics.track(`${args.source} See info clicked`);\n    const doc = window.activeTextEditor.document;\n    const path = hoverPath(doc, args.position);\n    try {\n      const jdata = await promisifiedKiteAPIRequest({ path });\n      const data = JSON.parse(jdata);\n      kiteOpen(`kite://docs/${data.symbol[0].id}`);\n    } catch(e) {\n      NotificationsManager.notifyFromError(e);\n    }\n  }\n}\n\nexport class KiteHoverProvider {\n  async provideHover(doc: TextDocument, position: Position): Promise<Hover | void> {\n    const path = hoverPath(doc, position);\n\n    try {\n      const jdata = await promisifiedKiteAPIRequest({ path });\n      const data = JSON.parse(jdata);\n      if (data && data.symbol && data.symbol.length) {\n        const [symbol] = data.symbol;\n\n        const docsLink = `[Docs](command:kite.copilot-docs-from-position?${escapeCommandArguments({\n          position,\n          source: Sources.Hover,\n        })})`;\n\n        let defLink: string;\n        if (data && data.report && data.report.definition && data.report.definition.filename !== '') {\n          const defData = escapeCommandArguments({\n            file: data.report.definition.filename,\n            line: data.report.definition.line,\n            source: Sources.Hover,\n          });\n          defLink = `[Def](command:kite.def?${defData})`;\n        }\n\n        const content = new MarkdownString(`⟠&nbsp;&nbsp;__${symbolName(symbol).replace('_', '\\\\_')}__:&nbsp;${symbolKindMarkdown(symbol)}&nbsp;&nbsp;&nbsp;&nbsp;${docsLink}${defLink ? '&nbsp;&nbsp;' + defLink : ''}`);\n        content.isTrusted = true;\n\n        return new Hover(compact([content]));\n      }\n    } catch(err) {\n      // Endpoint can 503 for paywall locked or 404 for not found symbol. Ignore those.\n      const expected = err.data && (err.data.responseStatus === 503 || err.data.responseStatus === 404)\n      if (!expected) {\n        console.log(err, err.data)\n      }\n    }\n  }\n}\n","'use strict';\n\nimport { compact, flatten, head, last, uniq, detailGet, detailLang, detailNotEmpty, getFunctionDetails } from './utils';\n\nconst idIsEmpty = (id) =>\n  !id || id === '' ||\n  (id.indexOf(';') !== -1 && id.split(';')[1] === '');\n\nconst isFunctionKind = kind => ['function', 'type'].includes(kind);\n\nconst parameterName = (p, prefix = '', w) =>\n  p\n    ? (\n      w\n        ? `<${w}>${prefix}<span class=\"parameter-name\">${p.name}</span></${head(w.split(/\\s/g))}>`\n        : `${prefix}<span class=\"parameter-name\">${p.name}</span>`\n    )\n    : undefined;\n\nconst parameterDefault = (p) => {\n  if (!p) { return ''; }\n\n  const lang = detailLang(p);\n\n  switch (lang) {\n    case 'python':\n    case 'javascript':\n      return detailNotEmpty(p, 'default_value')\n        ? `=${head(detailGet(p, 'default_value')).repr}`\n        : '';\n    default:\n      return '';\n  }\n};\n\nconst parameterType = (p, prefix = '') =>\n  p.inferred_value && p.inferred_value\n    ? `${prefix}${uniq(compact(p.inferred_value).map(v =>\n      `<a href='command:kite.navigate?\"value/${v.type_id}\"' class=\"parameter-type\">${v.type}</a>`)).join('<i>|</i>')}`\n    : '';\n\nconst parameterTypeLink = parameterType;\n\nconst parameterValue = p =>\n  `${parameterName(p)}${parameterType(p, ':')}${parameterDefault(p)}`;\n\nconst parameters = (d, withType = true) =>\n  d.parameters\n    ? (withType\n      ? d.parameters.map(parameterValue)\n      : d.parameters.map(p => `${parameterName(p)}${parameterDefault(p)}`))\n    : [];\n\nconst gatherParameters = (detail, withType) => {\n  const lang = detailLang(detail);\n  switch (lang) {\n    case 'python':\n      return [\n        parameters(detail, withType),\n        parameterName(detailGet(detail, 'vararg'), '*'),\n        parameterName(detailGet(detail, 'kwarg'), '**'),\n      ];\n    case 'javascript':\n      return [\n        parameters(detail, withType),\n        parameterName(detailGet(detail, 'rest'), '…'),\n      ];\n    default:\n      return [\n        parameters(detail, withType),\n      ];\n  }\n};\n\nconst signature = (data, withType = true, current = -1) => {\n  const detail = getFunctionDetails(data);\n  return detail\n    ? `(<span class=\"signature\">${\n      compact(flatten(gatherParameters(detail, withType)))\n        .map((p, i, a) => {\n          const s = i === a.length - 1 ? '' : ', ';\n          return i === current\n            ? `<span class=\"parameter parameter-highlight\">${p}${s}</span>`\n            : `<span class=\"parameter\">${p}${s}</span>`;\n        })\n        .join('')\n    }</span>)`\n    : '(<span class=\"signature\"></span>)';\n};\n\nconst callParameterName = (parameter) => parameter.name;\n\nconst callKwargParameter = (parameter) => {\n  const example = head(parameter.types.filter(t => t.examples));\n  return example\n    ? compact([\n      callParameterName(parameter),\n      head(example.examples).replace(/\"'/g, \"'\").replace(/'\"/g, \"'\"),\n    ]).join('=')\n    : callParameterName(parameter);\n};\n\nconst callKwargParameters = (signature) =>\n  detailNotEmpty(signature, 'kwargs')\n    ? detailGet(signature, 'kwargs').map(p => callKwargParameter(p)).join(', ')\n    : null;\n\nconst callSignature = (data) =>\n  compact(flatten([\n    (data.args || []).map(callParameterName),\n    callKwargParameters(data),\n  ]))\n    .join(', ');\n\nconst valueName = value =>\n  last(last(value.repr.replace(/\\(|\\)/g, '').split('|').map(s => s.trim().split(':'))));\n\nconst valueNameFromId = value => last(value.id.split(/[;.]/g));\n\nconst valueLabel = (value, current) => {\n  if (isFunctionKind(value.kind)) {\n    return valueName(value) + signature(value, true, current);\n  } else {\n    return (value.kind === 'instance'\n      ? valueNameFromId(value)\n      : valueName(value));\n  }\n};\n\nconst symbolName = s => {\n  const value = head(s.value);\n  return value.kind === 'instance'\n    ? s.name\n    : valueName(value);\n};\n\nconst symbolLabel = (s, current) => {\n  const value = head(s.value);\n  return isFunctionKind(value.kind)\n    ? symbolName(s) + signature(value, true, current)\n    : symbolName(s);\n};\n\nconst memberLabel = (s) => {\n  const value = s.value ? head(s.value) : {};\n  const name = `<span class=\"repr\">${s.name}</span>`;\n  return isFunctionKind(value.kind) ? name + '()' : name;\n};\n\nconst wrapType = (o) => {\n  const { name, id } = o || {};\n  return name\n    ? (!idIsEmpty(id)\n      ? `<a href='command:kite.navigate?\"value/${id}\"' class=\"type-value\">${name}</a>`\n      : `<span class=\"type-value\">${name}</span>`\n    )\n    : null;\n};\n\nconst unionType = (vs, map) =>\n  uniq(flatten(compact(vs.map(map))).map(wrapType)).join(' | ');\n\nconst returnType = (v) =>\n  v && v.length ? `-> <span class=\"return-type\">${v}</span>` : '';\n\nconst symbolValue = s => head(s.value);\n\nconst symbolKindMarkdown = s => {\n  const value = symbolValue(s);\n  if (value.kind !== 'instance') {\n    return `[ _${value.kind}_ ]`;\n  }\n  let types = uniq(s.value.filter(v => v.kind === 'instance').map(v => `_${v.type.replace('_', '\\\\_')}_`));\n  return `[ ${types.join(' | ')} ]`;\n};\n\nconst reportFromHover = hover => {\n  const symbol = head(hover.symbol);\n  const data = {\n    symbol,\n    report: hover.report,\n  };\n  if (data.value && data.value.id === '') { data.value.id = symbol.name; }\n  return data;\n};\n\nconst extractInstanceType = v => ({ name: v.type, id: v.type_id });\nconst extractFunctionType = v => {\n  const detail = getFunctionDetails(v);\n  return detail && detail.return_value\n    ? detail.return_value.map(v => ({ name: v.type, id: v.type_id }))\n    : [];\n};\n\nconst symbolType = s => unionType(s.value, extractInstanceType);\n\nconst symbolReturnType = s => unionType(s.value, extractFunctionType);\n\nconst valueType = value =>\n  isFunctionKind(value.kind)\n    ? returnType(unionType([value], extractFunctionType))\n    : unionType([value], extractInstanceType);\n\nconst symbolId = (symbol) =>\n  symbol.id !== ''\n    ? symbol.id\n    : head(symbol.value).id;\n\nexport {\n  callSignature,\n  memberLabel,\n  parameterName,\n  parameterType,\n  parameterDefault,\n  parameterValue,\n  parameterTypeLink,\n  reportFromHover,\n  returnType,\n  signature,\n  symbolId,\n  symbolKindMarkdown,\n  symbolLabel,\n  symbolName,\n  symbolType,\n  symbolValue,\n  unionType,\n  valueLabel,\n  valueName,\n  valueNameFromId,\n  valueType,\n  idIsEmpty,\n  isFunctionKind,\n  symbolReturnType,\n};\n","import vscode from 'vscode';\nimport path from 'path';\n\n// Cache of type: []string\nlet ENABLED_AND_SUPPORTED = null;\n// Cache of type: bool\nlet PYTHON_ENABLED = null;\n\nfunction EnabledAndSupported() {\n  if (ENABLED_AND_SUPPORTED === null) {\n    const disabled = vscode.workspace.getConfiguration('kite').completions.disabledFileExtensions;\n    const enabled = SupportedExtensions().filter(ext => !disabled.includes(ext));\n    ENABLED_AND_SUPPORTED = enabled;\n  }\n  return ENABLED_AND_SUPPORTED;\n}\n\nfunction PythonEnabled() {\n  if (PYTHON_ENABLED === null) {\n    const disabled = vscode.workspace.getConfiguration('kite').completions.disabledFileExtensions;\n    PYTHON_ENABLED = !disabled.includes('.py');\n  }\n  return PYTHON_ENABLED;\n}\n\nfunction IsEnabledAndSupported(fileName) {\n  const fileExt = path.extname(fileName);\n  return EnabledAndSupported().includes(fileExt);\n}\n\nfunction CompletionsSupport() {\n  // Python has \"FullCompletionsSupport\" so filter from regular.\n  const enabled = EnabledAndSupported()\n                  .filter(ext => ext != \".py\" && ext != \".pyw\")\n                  .join(',');\n  if (enabled === \"\") {\n    return [];\n  }\n  return [\n    { pattern: `**/*{${enabled}}`, scheme: \"file\" },\n    { pattern: `**/*{${enabled}}`, scheme: \"untitled\" }\n  ];\n}\n\nfunction requirePythonEnabled(fn) {\n  return (...args) => {\n    if (!PythonEnabled()) {\n      return [];\n    }\n    return fn(...args);\n  };\n}\n\nfunction FullCompletionsSupport() {\n  return [\n    { pattern: \"**/*.{py,pyw}\", scheme: \"file\" },\n    { pattern: \"**/*.{py,pyw}\", scheme: \"untitled\" }\n  ];\n}\n\nfunction DefinitionsSupport() {\n  return [\n    { pattern: \"**/*.{py,pyw}\", scheme: \"file\" },\n    { pattern: \"**/*.{py,pyw}\", scheme: \"untitled\" }\n  ];\n}\n\nfunction HoverSupport() {\n  return [\n    { pattern: \"**/*.{py,pyw}\", scheme: \"file\" },\n    { pattern: \"**/*.{py,pyw}\", scheme: \"untitled\" }\n  ];\n}\n\nfunction SignaturesSupport() {\n  return [\n    { pattern: \"**/*.{py,pyw}\", scheme: \"file\" },\n    { pattern: \"**/*.{py,pyw}\", scheme: \"untitled\" }\n  ];\n}\n\nfunction SupportedExtensions() {\n  return [\n    \".c\",\n    \".cc\",\n    \".cpp\",\n    \".cs\",\n    \".css\",\n    \".go\",\n    \".h\",\n    \".hpp\",\n    \".html\",\n    \".java\",\n    \".js\",\n    \".jsx\",\n    \".kt\",\n    \".less\",\n    \".m\",\n    \".php\",\n    \".py\",\n    \".pyw\",\n    \".rb\",\n    \".scala\",\n    \".sh\",\n    \".ts\",\n    \".tsx\",\n    \".vue\"\n  ];\n}\n\nfunction IsSupportedFile(fileName) {\n  const fileExt = path.extname(fileName);\n  return SupportedExtensions().includes(fileExt);\n}\n\nconst CONNECT_ERROR_LOCKOUT = 15 * 60;\n\nconst ATTEMPTS = 30;\n\nconst INTERVAL = 2500;\n\nconst ERROR_COLOR = () => {\n  // For the High Contrast Theme, editorWarning.foreground renders the text invisible.\n  return vscode.workspace\n    .getConfiguration(\"workbench\")\n    .colorTheme.includes(\"High Contrast\")\n    ? \"#ff0000\"\n    : vscode.ThemeColor(\"editorWarning.foreground\");\n};\n\nconst WARNING_COLOR = \"#929497\";\n\nconst KITE_BRANDING = \" 𝕜𝕚𝕥𝕖 \";\n\nconst OFFSET_ENCODING = \"utf-16\";\n\nexport {\n  ATTEMPTS,\n  INTERVAL,\n  IsEnabledAndSupported,\n  CompletionsSupport,\n  SupportedExtensions,\n  IsSupportedFile,\n  CONNECT_ERROR_LOCKOUT,\n  ERROR_COLOR,\n  WARNING_COLOR,\n  KITE_BRANDING,\n  OFFSET_ENCODING\n};\n\nexport const PythonFullCompletionsSupport = requirePythonEnabled(FullCompletionsSupport);\nexport const PythonDefinitionsSupport = requirePythonEnabled(DefinitionsSupport);\nexport const PythonHoverSupport = requirePythonEnabled(HoverSupport);\nexport const PythonSignaturesSupport = requirePythonEnabled(SignaturesSupport);\n","\"use strict\";\nimport {\n  CompletionItem,\n  CompletionItemKind,\n  CompletionList,\n  MarkdownString,\n  Range,\n  SnippetString,\n  window,\n  workspace\n} from 'vscode';\nimport Logger from \"kite-connector/lib/logger\";\nimport {\n  KITE_BRANDING,\n  OFFSET_ENCODING\n} from \"./constants\";\nimport {\n  parseJSON,\n  getSupportedLanguage\n} from \"./utils\";\nimport {\n  completionsPath,\n  normalizeDriveLetter\n} from \"./urls\";\n\n\nconst fill = (s, l, f = \" \") => {\n  while (s.length < l) {\n    s = `${f}${s}`;\n  }\n  return s;\n};\n\nconst kindForHint = hint => {\n  switch (hint) {\n    case \"call\":\n    case \"function\":\n      return CompletionItemKind.Function;\n    case \"module\":\n      return CompletionItemKind.Module;\n    case \"type\":\n      return CompletionItemKind.Class;\n    case \"keyword\":\n      return CompletionItemKind.Keyword;\n    case \"string\":\n      return CompletionItemKind.Value;\n    default:\n      return CompletionItemKind.Value;\n  }\n};\n\nconst buildMarkdown = (id, hint, documentation_text) => {\n  return new MarkdownString(`[𝕜𝕚𝕥𝕖]&nbsp;&nbsp;__${id}__&nbsp;&nbsp;&nbsp;&nbsp;_${hint}_\n\n${documentation_text}\n\n            `);\n};\n\nconst buildFilterText = (document, position) => {\n  const selection =\n    window.activeTextEditor && window.activeTextEditor.selection;\n  const wordRange =\n    document.getWordRangeAtPosition(position) ||\n    (selection && new Range(selection.start, selection.end)); // Snippet placeholder selection range\n  if (!wordRange) {\n    return null;\n  }\n  return document.getText(wordRange);\n};\n\n// Transforms Kite completion into a CompletionItem\nconst processCompletion = (\n  document,\n  c,\n  displayPrefix,\n  numDigits,\n  i\n) => {\n  const item = new CompletionItem(displayPrefix + c.display);\n  item.insertText = c.snippet.text;\n\n  const start = document.positionAt(c.replace.begin);\n  const end = document.positionAt(c.replace.end);\n  const replaceRange = new Range(start, end);\n  item.filterText = document.getText(replaceRange);\n  item.keepWhitespace = true;\n\n  if (i === 0) {\n    item.preselect = true;\n  }\n  item.sortText = fill(String(i), numDigits, \"\\0\");\n  item.range = replaceRange;\n  if (c.documentation.text !== \"\") {\n    item.documentation = buildMarkdown(c.web_id, c.hint, c.documentation.text);\n  }\n  // Note: The space following the Kite icon is the unicode space U+2003 instead\n  // of the normal space U+0020 because VS Code strips the detail.\n  item.detail = c.hint + KITE_BRANDING;\n  item.kind = kindForHint(c.hint);\n\n  if (c.snippet.placeholders.length > 0) {\n    var offset = 0;\n    let i = 0;\n    for (i = 0; i < c.snippet.placeholders.length; i++) {\n      let placeholder = c.snippet.placeholders[i];\n      placeholder.begin += offset;\n      placeholder.end += offset;\n      item.insertText =\n        item.insertText.slice(0, placeholder.begin) +\n        \"${\" +\n        (i + 1).toString() +\n        \":\" +\n        item.insertText.slice(placeholder.begin, placeholder.end) +\n        \"}\" +\n        item.insertText.slice(placeholder.end);\n      offset += 5;\n    }\n    // Add closing tab stop\n    item.insertText += \"$0\";\n    item.insertText = new SnippetString(item.insertText);\n  }\n\n  item.command = {\n    command: \"kite.insert-completion\",\n    arguments: [{ lang: getSupportedLanguage(document), completion: { snippet: { text: c.snippet.text }}}]\n  };\n\n  return item;\n};\n\nexport default class KiteCompletionProvider {\n  constructor(Kite, triggers, optionalTriggers, win = window) {\n    this.Kite = Kite;\n    this.triggers = triggers;\n    this.optionalTriggers = optionalTriggers || [];\n    this.window = win;\n  }\n\n  provideCompletionItems(document, position, token, context) {\n    const text = document.getText();\n\n    if (text.length > this.Kite.maxFileSize) {\n      Logger.warn(\"buffer contents too large, not attempting completions\");\n      return Promise.resolve([]);\n    }\n\n    const filename = normalizeDriveLetter(document.fileName);\n    const filterText = buildFilterText(document, position);\n    return this.getCompletions(document, text, filename, filterText, context);\n  }\n\n  getCompletions(document, text, filename, filterText, context) {\n    const selection = this.window.activeTextEditor.selection;\n    const begin = document.offsetAt(selection.start);\n    const end = document.offsetAt(selection.end);\n    const enableSnippets = workspace.getConfiguration(\"kite\").enableSnippets;\n\n    const isOptionalTrigger = this.optionalTriggers.indexOf(context.triggerCharacter) !== -1;\n    const shouldShowOptionalTrigger = workspace.getConfiguration('kite').enableOptionalCompletionsTriggers;\n\n    const payload = {\n      text,\n      editor: \"vscode\",\n      filename,\n      position: {\n        begin,\n        end\n      },\n      no_snippets: !enableSnippets,\n      offset_encoding: OFFSET_ENCODING,\n    };\n\n    return this.Kite.request(\n      {\n        path: completionsPath(),\n        method: \"POST\"\n      },\n      JSON.stringify(payload)\n    )\n      .then(data => {\n        if (isOptionalTrigger && !shouldShowOptionalTrigger) {\n          // Don't return anything because if we're wrong, it'll block all other\n          // VS Code completions that come after the space.\n          return [];\n        }\n\n        data = parseJSON(data, {});\n        const completions = data.completions || [];\n        // # of completion items + its children\n        const totalCompletions = completions.reduce((total, completion) => {\n          let toReturn = total + 1;\n          if (completion.children) {\n            toReturn += completion.children.length;\n          }\n          return toReturn;\n        }, 0);\n        // # of digits needed to represent totalCompletions. Used for sortText.\n        const numDigits = String(totalCompletions).length;\n        const completionItems = [];\n        // Used to track order in suggestion list\n        let idx = 0;\n        completions.forEach(c => {\n          completionItems.push(\n            processCompletion(\n              document,\n              c,\n              \"\",\n              numDigits,\n              idx\n            )\n          );\n          const children = c.children || [];\n          let offset = 1;\n          children.forEach(child => {\n            completionItems.push(\n              processCompletion(\n                document,\n                child,\n                \"  \",\n                numDigits,\n                idx + offset\n              )\n            );\n            offset += 1;\n          });\n          idx += offset;\n        });\n        return new CompletionList(completionItems, true);\n      })\n      .catch(() => []);\n  }\n}\n","\"use strict\";\nimport {\n  SignatureHelp,\n  SignatureInformation,\n  ParameterInformation\n} from 'vscode';\n\nimport Logger from \"kite-connector/lib/logger\";\nimport { parseJSON, stripTags, getFunctionDetails } from \"./utils\";\nimport { signaturePath, normalizeDriveLetter } from \"./urls\";\nimport { valueLabel, parameterType } from \"./data-utils\";\n\nexport default class KiteSignatureProvider {\n  constructor(Kite, isTest) {\n    this.Kite = Kite;\n    this.isTest = isTest;\n  }\n\n  provideSignatureHelp(document, position) {\n    const text = document.getText();\n\n    if (text.length > this.Kite.maxFileSize) {\n      Logger.warn(\"buffer contents too large, not attempting signature\");\n      return null;\n    }\n\n    const cursorPosition = document.offsetAt(position);\n    const payload = {\n      text,\n      editor: \"vscode\",\n      filename: normalizeDriveLetter(document.fileName),\n      cursor_runes: cursorPosition,\n      offset_encoding: \"utf-16\"\n    };\n    Logger.debug(payload);\n\n    return this.Kite.request(\n      {\n        path: signaturePath(),\n        method: \"POST\"\n      },\n      JSON.stringify(payload),\n      document\n    )\n      .then(data => {\n        data = parseJSON(data, {});\n\n        const [call] = data.calls;\n\n        const { callee } = call;\n\n        const help = new SignatureHelp();\n        help.activeParameter = call.arg_index;\n        help.activeSignature = 0;\n\n        const label = \"⟠ \" + stripTags(valueLabel(callee));\n        const sig = new SignatureInformation(label);\n        const detail = getFunctionDetails(callee);\n        sig.parameters = (detail.parameters || []).map(p => {\n          const label = p.inferred_value\n            ? `${p.name}:${stripTags(parameterType(p))}`\n            : p.name;\n          const param = new ParameterInformation(label);\n          return param;\n        });\n\n        if (\n          Array.isArray(detail.return_value) &&\n          detail.return_value.length &&\n          detail.return_value[0].type\n        ) {\n          sig.documentation = `Returns → ${detail.return_value[0].type}`;\n        }\n\n        help.signatures = [sig];\n\n        return help;\n      })\n      .catch(() => null);\n  }\n}\n","'use strict';\n\nimport vscode, { Location, Position } from 'vscode';\n\nimport { parseJSON } from './utils';\nimport { hoverPath } from './urls';\n\nexport default class KiteDefinitionProvider {\n  constructor(Kite, isTest) {\n    this.Kite = Kite;\n    this.isTest = isTest;\n  }\n\n  provideDefinition(document, position) {\n    // No-op if Microsoft Python ext is installed.\n    // Putting it here instead of kite.js since the ext can be installed and activated\n    // without a restart.\n    const msPythonExt = vscode.extensions.getExtension(\"ms-python.python\");\n    if (msPythonExt) {\n      return;\n    }\n    const path = hoverPath(document, position);\n    return this.Kite.request({ path }, null, document)\n      .then(data => parseJSON(data))\n      .then(data => {\n        if (data && data.report && data.report.definition && data.report.definition.filename !== '') {\n          return new Location(\n            vscode.Uri.file(data.report.definition.filename),\n            new Position(data.report.definition.line - 1, 0));\n        }\n      })\n      .catch(() => null);\n  }\n}\n","'use strict';\n\nexport default class KiteEditor {\n  constructor(Kite, editor) {\n    this.Kite = Kite;\n    this.editor = editor;\n    this.document = editor.document;\n  }\n\n  dispose() {\n    delete this.Kite;\n    delete this.editor;\n    delete this.document;\n  }\n}\n","'use strict';\n\nimport { version as editor_version } from 'vscode';\n\nimport kitePkg from '../package.json'\nconst plugin_version = kitePkg.version\n\nimport { normalizeDriveLetter } from './urls';\n\nexport default class EditorEvents {\n  constructor(Kite, editor) {\n    this.Kite = Kite;\n    this.editor = editor;\n    this.reset();\n  }\n\n  dispose() {\n    delete this.Kite;\n    delete this.editor;\n  }\n\n  focus() {\n    return this.send('focus');\n  }\n\n  edit() {\n    return this.send('edit');\n  }\n\n  selectionChanged() {\n    return this.send('selection');\n  }\n\n  send(action) {\n    if (!this.pendingPromise) {\n      this.pendingPromise = new Promise((resolve, reject) => {\n        this.pendingPromiseResolve = resolve;\n        this.pendingPromiseReject = reject;\n      });\n    }\n    this.pendingEvents.push(action);\n    clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => this.mergeEvents(), 0);\n    // was resulting in unhandled Promise rejection from `this.pendingPromiseReject(err)`\n    // below... so we catch it\n    return this.pendingPromise.catch(() => { });\n  }\n\n  reset() {\n    clearTimeout(this.timeout);\n    this.pendingEvents = [];\n  }\n\n  mergeEvents() {\n    if (!this.editor || !this.editor.document) {\n      return;\n    }\n\n    const editor = this.editor;\n    const doc = editor.document;\n    const focus = this.pendingEvents.filter(e => e === 'focus')[0];\n    const action = this.pendingEvents.some(e => e === 'edit') ? 'edit' : this.pendingEvents.pop();\n\n    this.reset();\n\n    const payload = JSON.stringify(this.buildEvent(action, doc, editor.selection));\n\n    let promise = Promise.resolve();\n\n    if (focus && action !== focus) {\n      promise = promise.then(() => this.Kite.request({\n        path: '/clientapi/editor/event',\n        method: 'POST',\n      }, JSON.stringify(this.buildEvent(focus, doc, editor.selection)), doc));\n    }\n\n    return promise\n      .then(() => this.Kite.request({\n        path: '/clientapi/editor/event',\n        method: 'POST',\n      }, payload, doc))\n      .then((res) => {\n        this.pendingPromiseResolve && this.pendingPromiseResolve(res);\n      })\n      .catch((err) => {\n        this.pendingPromiseReject && this.pendingPromiseReject(err);\n      })\n      .then(() => {\n        delete this.pendingPromise;\n        delete this.pendingPromiseResolve;\n        delete this.pendingPromiseReject;\n      });\n  }\n\n  buildEvent(action, document, selection) {\n    const content = document.getText();\n    return content.length > this.Kite.maxFileSize\n      ? {\n        source: 'vscode',\n        action: 'skip',\n        text: '',\n        filename: normalizeDriveLetter(document.fileName),\n        selections: [{ start: 0, end: 0, encoding: 'utf-16' }],\n        editor_version,\n        plugin_version\n      }\n      : this.makeEvent(action, document, content, selection);\n  }\n\n  makeEvent(action, document, text, selection) {\n    const event = {\n      source: 'vscode',\n      text,\n      action,\n      filename: normalizeDriveLetter(document.fileName),\n      editor_version,\n      plugin_version\n    };\n\n    if (selection && selection.start != null && selection.end != null) {\n      event.selections = [{\n        start: document.offsetAt(selection.start),\n        end: document.offsetAt(selection.end),\n        encoding: 'utf-16',\n      }];\n    }\n\n    return event;\n  }\n}\n","\"use strict\";\n\nimport vscode from 'vscode';\nimport os from 'os';\nimport open from 'open';\n\nimport KiteAPI from \"kite-api\";\nimport Logger from \"kite-connector/lib/logger\";\nimport {\n  ERROR_COLOR,\n  IsEnabledAndSupported,\n  CompletionsSupport,\n  PythonFullCompletionsSupport,\n  PythonDefinitionsSupport,\n  PythonHoverSupport,\n  PythonSignaturesSupport,\n  IsSupportedFile,\n} from \"./constants\";\nimport { KiteHoverProvider, DocsCommands } from \"./docs\";\nimport KiteCompletionProvider from \"./completion\";\nimport KiteSignatureProvider from \"./signature\";\nimport KiteDefinitionProvider from \"./definition\";\nimport KiteEditor from \"./kite-editor\";\nimport EditorEvents from \"./events\";\nimport NotificationsManager from \"./notifications\";\nimport localconfig from \"./localconfig\";\nimport metrics from \"./metrics\";\nimport { statusPath } from \"./urls\";\nimport Rollbar from \"rollbar\";\nimport {\n  editorsForDocument,\n  promisifyReadResponse,\n  kiteOpen\n} from \"./utils\";\nimport { version } from \"../package.json\";\nimport { DEFAULT_MAX_FILE_SIZE } from \"kite-api\";\nimport KiteRelatedCodeDecorationsProvider from './codenav-decoration';\n\nconst RUN_KITE_ATTEMPTS = 30;\nconst RUN_KITE_INTERVAL = 2500;\n\nexport const Kite = {\n  maxFileSize: DEFAULT_MAX_FILE_SIZE,\n\n  activate(ctx) {\n    this.globalState = ctx.globalState;\n    if (process.env.NODE_ENV !== \"test\") {\n      this._activate();\n      ctx.subscriptions.push(this);\n    }\n  },\n\n  _activate() {\n    if (this.globalState.setKeysForSync) {\n      this.globalState.setKeysForSync([\"kite.showWelcomeNotificationOnStartup\"]);\n    }\n\n    metrics.featureRequested(\"starting\");\n\n    this.reset();\n\n    const rollbar = new Rollbar({\n      accessToken: \"4ca1bfd4721544e487c76583478a436a\",\n      payload: {\n        environment: process.env.NODE_ENV,\n        editor: \"vscode\",\n        kite_plugin_version: version,\n        os: os.type() + \" \" + os.release()\n      }\n    });\n\n    const tracker = err => {\n      if (err.stack.indexOf(\"kite\") > -1) {\n        rollbar.error(err);\n      }\n    };\n    process.on(\"uncaughtException\", tracker);\n    this.disposables.push({\n      dispose() {\n        process.removeListener(\"uncaughtException\", tracker);\n      }\n    });\n\n    Logger.LEVEL =\n      Logger.LEVELS[\n        vscode.workspace.getConfiguration(\"kite\").loggingLevel.toUpperCase()\n      ];\n\n    this.setMaxFileSize();\n\n    this.disposables.push(\n      vscode.languages.registerHoverProvider(\n        PythonHoverSupport(),\n        new KiteHoverProvider()\n      )\n    );\n    this.disposables.push(\n      vscode.languages.registerDefinitionProvider(\n        PythonDefinitionsSupport(),\n        new KiteDefinitionProvider(Kite)\n      )\n    );\n\n    var completionsTriggers = ['.', '\"', '\\'', '`', '('];\n    var optionalCompletionsTriggers = [' ', '['];\n\n    this.disposables.push(\n      vscode.languages.registerCompletionItemProvider(\n        CompletionsSupport(),\n        new KiteCompletionProvider(Kite, completionsTriggers, optionalCompletionsTriggers), ...completionsTriggers.concat(optionalCompletionsTriggers))\n    );\n\n    // More triggers for Python because we have semantic completions.\n    // We leave out open quotes because we can't suggest string constants.\n    var pythonCompletionsTriggers = ['.', ',', ' ', '(', '[', '{', '='];\n\n    this.disposables.push(\n      vscode.languages.registerCompletionItemProvider(\n        PythonFullCompletionsSupport(),\n        new KiteCompletionProvider(Kite, pythonCompletionsTriggers), ...pythonCompletionsTriggers)\n    );\n\n    this.disposables.push(\n      vscode.languages.registerSignatureHelpProvider(\n        PythonSignaturesSupport(),\n        new KiteSignatureProvider(Kite),\n        \"(\",\n        \",\"\n      )\n    );\n\n    this.disposables.push(\n      vscode.workspace.onDidChangeConfiguration(() => {\n        Logger.LEVEL =\n          Logger.LEVELS[\n            vscode.workspace.getConfiguration(\"kite\").loggingLevel.toUpperCase()\n          ];\n      })\n    );\n\n    this.disposables.push(\n      vscode.window.onDidChangeActiveTextEditor(e => {\n        this.setMaxFileSize();\n        this.checkState('onDidChangeActiveTextEditor');\n        if (e) {\n          if (/Code[/\\\\]User[/\\\\]settings.json$/.test(e.document.fileName)) {\n            metrics.featureRequested(\"settings\");\n            metrics.featureFulfilled(\"settings\");\n          }\n          if (this.isGrammarSupported(e)) {\n            this.registerEvents(e);\n            this.registerEditor(e);\n          }\n\n          const evt = this.eventsByEditor.get(e.document.fileName);\n          evt && evt.focus();\n        }\n      })\n    );\n\n    this.disposables.push(\n      vscode.window.onDidChangeTextEditorSelection(e => {\n        const evt = this.eventsByEditor.get(e.textEditor.document.fileName);\n        evt && evt.selectionChanged();\n      })\n    );\n\n    this.disposables.push(\n      vscode.workspace.onDidChangeTextDocument(e => {\n        e.document &&\n          editorsForDocument(e.document).forEach(e => {\n            const evt = this.eventsByEditor.get(e.document.fileName);\n            evt && evt.edit();\n          });\n      })\n    );\n\n    this.disposables.push(\n      vscode.window.onDidChangeVisibleTextEditors(editors => {\n        editors.forEach(e => {\n          if (IsSupportedFile(e.document.fileName)) {\n            this.registerDocumentEvents(e.document);\n            this.registerDocument(e.document);\n          }\n        });\n      })\n    );\n\n    this.statusBarItem = vscode.window.createStatusBarItem(\n      vscode.StatusBarAlignment.Right\n    );\n\n    this.disposables.push(this.statusBarItem);\n\n    // ICommandRegistrant[] (target TS refactor for commands below)\n    const commandRegistrants = [new DocsCommands()];\n    commandRegistrants.forEach(cmdreg => this.disposables.push(...cmdreg.register()));\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.insert-completion\", ({ lang, completion }) => {\n        metrics.increment(`vscode_kite_${lang}_completions_inserted`);\n        metrics.increment(`kite_${lang}_completions_inserted`);\n        metrics.sendCompletionSelected(lang, completion).catch(e => { console.error(e); });\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.login\", () => {\n        kiteOpen(\"kite://home\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.open-settings\", () => {\n        kiteOpen(\"kite://settings\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerTextEditorCommand(\"kite.related-code-from-file\", (textEditor) => {\n        KiteAPI\n          .requestRelatedCode(\"vscode\", vscode.env.appRoot, textEditor.document.fileName)\n          .catch(err => NotificationsManager.notifyFromError(err, \"Oops! Something went wrong with Code Finder. Please try again later.\"));\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerTextEditorCommand(\"kite.related-code-from-line\", (textEditor) => {\n        const zeroBasedLineNo = textEditor.selection.active.line;\n        const oneBasedLineNo = zeroBasedLineNo+1;\n        KiteAPI\n          .requestRelatedCode(\"vscode\", vscode.env.appRoot, textEditor.document.fileName, oneBasedLineNo)\n          .catch(err => NotificationsManager.notifyFromError(err, \"Oops! Something went wrong with Code Finder. Please try again later.\"));\n      })\n    );\n\n    this.disposables.push(new KiteRelatedCodeDecorationsProvider());\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.open-copilot\", () => {\n        kiteOpen(\"kite://home\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.web-url\", url => {\n        open(url.replace(/;/g, \"%3B\"));\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\n        \"kite.def\",\n        ({ file, line, character, source }) => {\n          metrics.track(`${source} Go to definition clicked`);\n          metrics.featureRequested(\"definition\");\n          vscode.workspace\n            .openTextDocument(vscode.Uri.file(file))\n            .then(doc => {\n              return vscode.window.showTextDocument(doc);\n            })\n            .then(e => {\n              metrics.featureFulfilled(\"definition\");\n              const newPosition = new vscode.Position(\n                line - 1,\n                character ? character - 1 : 0\n              );\n              e.revealRange(\n                new vscode.Range(\n                  newPosition,\n                  new vscode.Position(line - 1, 100)\n                )\n              );\n\n              const newSelection = new vscode.Selection(\n                newPosition,\n                newPosition\n              );\n              e.selection = newSelection;\n            });\n        }\n      )\n    );\n\n    const openKiteTutorial = async language => {\n      try {\n        const path = await KiteAPI.getOnboardingFilePath(\"vscode\", language);\n        const tutorial = await vscode.workspace.openTextDocument(path);\n        vscode.window.showTextDocument(tutorial);\n        KiteAPI.setKiteSetting(\"has_done_onboarding\", true);\n      } catch (e) {\n        this.notifications.showErrorMessage(\n          \"We were unable to open the tutorial. Try again later or email us at feedback@kite.com\",\n        );\n      }\n    };\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.python-tutorial\", () => {\n        openKiteTutorial(\"python\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.javascript-tutorial\", () => {\n        openKiteTutorial(\"javascript\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.go-tutorial\", () => {\n        openKiteTutorial(\"go\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\"kite.help\", () => {\n        open(\"https://help.kite.com/category/46-vs-code-integration\");\n      })\n    );\n\n    this.disposables.push(\n      vscode.commands.registerCommand(\n        \"kite.usage\",\n        ({ file, line, source }) => {\n          metrics.track(`${source} Go to usage clicked`);\n          metrics.featureRequested(\"usage\");\n          vscode.workspace.openTextDocument(file).then(doc => {\n            metrics.featureFulfilled(\"usage\");\n            editorsForDocument(doc).some(e => {\n              e.revealRange(\n                new vscode.Range(\n                  new vscode.Position(line - 1, 0),\n                  new vscode.Position(line - 1, 100)\n                )\n              );\n            });\n          });\n        }\n      )\n    );\n\n    const config = vscode.workspace.getConfiguration(\"kite\");\n    if (config.showWelcomeNotificationOnStartup) {\n      NotificationsManager.showWelcomeNotification(config, openKiteTutorial);\n    }\n\n    setTimeout(() => {\n      vscode.window.visibleTextEditors.forEach(e => {\n        if (IsSupportedFile(e.document.fileName)) {\n          this.registerEvents(e);\n          this.registerEditor(e);\n\n          if (e === vscode.window.activeTextEditor) {\n            const evt = this.eventsByEditor.get(e.document.fileName);\n            evt && evt.focus();\n          }\n        }\n      });\n\n      this.checkState(\"activationCheck\");\n    }, 100);\n\n    this.pollingInterval = setInterval(() => {\n      this.checkState(\"pollingInterval\");\n    }, config.get(\"pollingInterval\") || 5000);\n\n    metrics.featureFulfilled(\"starting\");\n\n    return this;\n  },\n\n  reset() {\n    this.disposables &&\n      this.disposables.forEach(disposable => {\n        disposable.dispose();\n      });\n    this.kiteEditorByEditor = new Map();\n    this.eventsByEditor = new Map();\n    this.shown = {};\n    this.disposables = [];\n    this.attemptedToStartKite = false;\n    this.installing = false;\n    this.notifications = new NotificationsManager();\n    delete this.lastState;\n    delete this.lastStatus;\n    delete this.lastPolledState;\n    delete this.pollingInterval;\n  },\n\n  deactivate() {\n    for (const [, ke] of this.kiteEditorByEditor) {\n      ke && ke.dispose();\n    }\n    for (const [, evt] of this.eventsByEditor) {\n      evt && evt.dispose();\n    }\n    metrics.featureRequested(\"stopping\");\n    metrics.featureFulfilled(\"stopping\");\n    this.dispose();\n    this.reset();\n  },\n\n  dispose() {\n    this.disposables && this.disposables.forEach(d => d.dispose());\n    delete this.disposables;\n  },\n\n  registerDocument(document) {\n    editorsForDocument(document).forEach(e => this.registerEditor(e));\n  },\n\n  registerDocumentEvents(document) {\n    editorsForDocument(document).forEach(e => this.registerEvents(e));\n  },\n\n  registerEvents(e) {\n    if (e && e.document) {\n      let evt = this.eventsByEditor.get(e.document.fileName);\n      if (evt && evt.editor) {\n        evt.editor = e;\n      } else {\n        evt = new EditorEvents(this, e);\n        this.eventsByEditor.set(e.document.fileName, evt);\n      }\n    }\n  },\n\n  registerEditor(e) {\n    if (this.kiteEditorByEditor.has(e.document.fileName)) {\n      const ke = this.kiteEditorByEditor.get(e.document.fileName);\n      ke.editor = e;\n    } else {\n      Logger.debug(\n        \"register kite editor for\",\n        e.document.fileName,\n        e.document.languageId\n      );\n      const ke = new KiteEditor(Kite, e);\n      this.kiteEditorByEditor.set(e.document.fileName, ke);\n    }\n  },\n\n  checkState(src) {\n    return KiteAPI\n      .checkHealth()\n      .then(state => {\n        switch (state) {\n          case KiteAPI.STATES.UNSUPPORTED:\n            if (this.shown[state]) {\n              return state;\n            }\n            this.shown[state] = true;\n            if (!KiteAPI.isOSSupported()) {\n              metrics.track(\"OS unsupported\");\n            } else if (!KiteAPI.isOSVersionSupported()) {\n              metrics.track(\"OS version unsupported\");\n            }\n            this.notifications.showErrorMessage(\n              \"Sorry, the Kite engine is currently not supported on your platform\"\n            );\n            break;\n          case KiteAPI.STATES.UNINSTALLED:\n            if (this.shown[state]) {\n              return state;\n            }\n            this.shown[state] = true;\n            NotificationsManager.showKiteInstallNotification(() => {\n              NotificationsManager.showKiteDownloadingNotification();\n              this.installing = true;\n              KiteAPI.downloadKiteRelease({\n                install: true,\n                launchCopilot: true,\n                channel: 'vscode',\n                onRemove: () => { this.installing = false; },\n              })\n              .catch(e => {\n                NotificationsManager.showKiteInstallErrorNotification(e);\n              });\n            });\n            break;\n          case KiteAPI.STATES.INSTALLED:\n            if (!this.attemptedToStartKite && vscode.workspace.getConfiguration(\"kite\").startKiteEngineOnStartup) {\n              if (this.installing) {\n                // Guard against running Kite before installation fully completes.\n                break;\n              }\n              KiteAPI.runKiteAndWait(RUN_KITE_ATTEMPTS, RUN_KITE_INTERVAL).then(() => this.checkState(src));\n              this.attemptedToStartKite = true;\n            }\n            break;\n          case KiteAPI.STATES.RUNNING:\n            if (this.shown[state]) {\n              return state;\n            }\n            break;\n          default:\n            if (this.isGrammarSupported(vscode.window.activeTextEditor)) {\n              this.registerEditor(vscode.window.activeTextEditor);\n            }\n            if (src && (src === \"pollingInterval\" || src === \"activationCheck\"))\n              this.lastPolledState = state;\n            return state;\n        }\n        //state caching for capturihg false positives in kited restart race condition\n        //we do this only for checkState invocations coming from the polling or initial activation\n        //script to eliminate the possible case where multiple editor events were generated quickly\n        //while kited was restarting\n        if (src && (src === \"pollingInterval\" || src === \"activationCheck\"))\n          this.lastPolledState = state;\n        return state;\n      })\n      .then(state => {\n        this.setStatus(state,\n          vscode.window.activeTextEditor ? vscode.window.activeTextEditor.document : undefined);\n      })\n      .catch(err => console.error(err));\n  },\n\n  setMaxFileSize() {\n    KiteAPI.getMaxFileSizeBytes().then(max => {\n      this.maxFileSize = max;\n    });\n  },\n\n  setStatusBarLabel() {\n    const state = this.lastState;\n    const status = this.lastStatus;\n\n    const supported = this.isGrammarSupported(vscode.window.activeTextEditor);\n    const enabledFiletype = this.isEnabledAndSupported(vscode.window.activeTextEditor);\n\n    this.statusBarItem.show();\n    switch (state) {\n      case KiteAPI.STATES.UNSUPPORTED:\n        this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not supported\";\n        this.statusBarItem.tooltip =\n          \"Kite engine is currently not supported on your platform\";\n        this.statusBarItem.color = ERROR_COLOR();\n        break;\n      case KiteAPI.STATES.UNINSTALLED:\n        if (this.installing) {\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: installing components\";\n          this.statusBarItem.tooltip = \"Installing components. Kite will launch automatically when ready.\";\n        } else {\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not installed\";\n          this.statusBarItem.tooltip = \"Kite engine is not installed\";\n        }\n        this.statusBarItem.color = ERROR_COLOR();\n        break;\n      case KiteAPI.STATES.INSTALLED:\n        this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not running\";\n        this.statusBarItem.tooltip = \"Kite engine is not running\";\n        this.statusBarItem.color = ERROR_COLOR();\n        break;\n      case KiteAPI.STATES.RUNNING:\n        this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not reachable\";\n        this.statusBarItem.tooltip = \"Kite engine is not reachable\";\n        this.statusBarItem.color = ERROR_COLOR();\n        break;\n      default:\n        if (supported && !enabledFiletype) {\n          this.statusBarItem.color = undefined;\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: disabled\";\n          this.statusBarItem.tooltip = \"Enable this file type in VS Code settings\";\n        } else if (status) {\n          this.statusBarItem.color = undefined;\n          this.statusBarItem.text = status.short ? (\"𝕜𝕚𝕥𝕖: \" + status.short) : \"𝕜𝕚𝕥𝕖\";\n          this.statusBarItem.tooltip = status.long ? status.long : \"\";\n        } else {\n          this._clearStatusBarItem();\n        }\n    }\n  },\n\n  _clearStatusBarItem() {\n    this.statusBarItem.text = \"\";\n    this.statusBarItem.color = undefined;\n    this.statusBarItem.tooltip = \"\";\n    this.statusBarItem.hide();\n  },\n\n  setStatus(state = this.lastState, document) {\n    this.lastState = state;\n    this.getStatus(document).then(status => {\n      this.lastStatus = status;\n      this.setStatusBarLabel();\n    });\n  },\n\n  isGrammarSupported(e) {\n    // Whether Kite supports this file extension, regardless of user settings\n    return e && e.document && IsSupportedFile(e.document.fileName);\n  },\n\n  isEnabledAndSupported(e) {\n    // Takes into account whether the user has chosen to disable this file extension\n    return e && e.document && IsEnabledAndSupported(e.document.fileName);\n  },\n\n  getStatus(document) {\n    if (!document) {\n      return Promise.resolve(undefined);\n    }\n\n    const path = statusPath(document.fileName);\n\n    return KiteAPI.request({ path })\n      .then(resp => {\n        if (resp.statusCode === 200) {\n          return promisifyReadResponse(resp).then(json => JSON.parse(json));\n        }\n      })\n      .catch(e => console.error(e));\n  },\n\n  request(req, data) {\n    return KiteAPI.request(req, data).then(resp => promisifyReadResponse(resp));\n  },\n};\n\n\nexport function activate(ctx) {\n  return Kite.activate(ctx);\n}\nexport function deactivate() {\n  Kite.deactivate();\n}\nexport function request(...args) {\n  return Kite.request(...args);\n}\n","\"use strict\";\n\nimport fs from 'fs';\nimport os from 'os';\nimport path from 'path';\n\nimport Logger from \"kite-connector/lib/logger\";\nconst legacyConfigDir = path.join(os.homedir(), \".kite\");\nconst legacyConfigPath = path.join(legacyConfigDir, \"kite-config.json\");\n\nconst configDir =\n  os.platform() === \"win32\"\n    ? path.join(process.env.LOCALAPPDATA, \"Kite\")\n    : path.join(os.homedir(), \".kite\");\n\nconst configPath = path.join(configDir, \"kite-vscode-config.json\");\n\nlet config = null;\n\ntry {\n  if (fs.existsSync(legacyConfigPath)) {\n    Logger.verbose(\n      `initializing localconfig from legacy path ${legacyConfigPath}.`\n    );\n    config = JSON.parse(\n      fs.readFileSync(legacyConfigPath, { encoding: \"utf8\" })\n    );\n    fs.unlinkSync(legacyConfigPath);\n    if (fs.readdirSync(legacyConfigDir).length === 0) {\n      fs.rmdirSync(legacyConfigDir);\n    }\n  } else {\n    Logger.verbose(`initializing localconfig from ${configPath}.`);\n    config = JSON.parse(fs.readFileSync(configPath, { encoding: \"utf8\" }));\n  }\n} catch (err) {\n  config = {};\n}\n\nfunction persist() {\n  const str = JSON.stringify(config, null, 2); // serialize with whitespace for human readability\n  if (!fs.existsSync(configDir)) {\n    fs.mkdirSync(configDir);\n  }\n  fs.writeFile(configPath, str, \"utf8\", err => {\n    if (err) {\n      Logger.error(`failed to persist localconfig to ${configPath}`, err);\n    }\n  });\n}\n\n// get gets a value from storage\nfunction get(key, fallback) {\n  return key in config ? config[key] : fallback;\n}\n\n// set assigns a value to storage and asynchronously persists it to disk\nfunction set(key, value) {\n  config[key] = value;\n  persist(); // will write to disk asynchronously\n}\n\nexport default {\n  get,\n  set,\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");;","\"use strict\";\n\nimport os from 'os';\nimport vscode from 'vscode';\nimport crypto from 'crypto';\nimport mixpanel from 'mixpanel';\n\nimport Logger from \"kite-connector/lib/logger\";\nimport localconfig from \"./localconfig.js\";\nimport { metricsCounterPath, metricsCompletionSelectedPath } from \"./urls\";\nimport { promisifiedKiteAPIRequest } from './utils'\n\nconst OS_VERSION = os.type() + \" \" + os.release();\n\nconst EDITOR_UUID = vscode.env.machineId;\n\nconst MIXPANEL_TOKEN = \"fb6b9b336122a8b29c60f4c28dab6d03\";\n\nconst mpClient = mixpanel.init(MIXPANEL_TOKEN, {\n  protocol: \"https\",\n});\n\n// Generate a unique ID for this user and save it for future use.\nfunction distinctID() {\n  var id = localconfig.get(\"distinctID\");\n  if (id === undefined) {\n    // use the atom UUID\n    id = EDITOR_UUID || crypto.randomBytes(32).toString(\"hex\");\n    localconfig.set(\"distinctID\", id);\n  }\n  return id;\n}\n\nfunction sendCompletionSelected(lang, completion) {\n  if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n\n  const path = metricsCompletionSelectedPath();\n\n  return promisifiedKiteAPIRequest(\n    {\n      path,\n      method: \"POST\"\n    },\n    JSON.stringify({\n      editor: 'vscode',\n      language: lang,\n      completion: completion\n    })\n  );\n}\n\nfunction sendFeatureMetric(name) {\n  if (process.env.NODE_ENV === \"test\") {\n    return;\n  }\n\n  const path = metricsCounterPath();\n\n  Logger.debug(\"feature metric:\", name);\n\n  return promisifiedKiteAPIRequest(\n    {\n      path,\n      method: \"POST\"\n    },\n    JSON.stringify({\n      name,\n      value: 1\n    })\n  );\n}\n\nfunction featureRequested(name) {\n  sendFeatureMetric(`vscode_${name}_requested`);\n}\n\nfunction featureFulfilled(name) {\n  sendFeatureMetric(`vscode_${name}_fulfilled`);\n}\n\nfunction getOsName() {\n  switch (os.platform()) {\n    case \"darwin\":\n      return \"macos\";\n    case \"win32\":\n      return \"windows\";\n    case \"linux\":\n      return \"linux\";\n    default:\n      return \"\";\n  }\n}\n\nexport default {\n  distinctID,\n  EDITOR_UUID,\n  OS_VERSION,\n  featureRequested,\n  featureFulfilled,\n  increment: name => sendFeatureMetric(name),\n  getOsName,\n  sendCompletionSelected,\n  track: (event, props) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      props = props || \"\";\n      console.log(`tracking ${event}`, props);\n      return;\n    }\n\n    const eventData = {\n      distinct_id: distinctID(),\n      editor_uuid: EDITOR_UUID,\n      os_name: os.type(),\n      os_release: os.release(),\n    };\n\n    for(var key in props) {\n      eventData[key] = props[key];\n    }\n\n    mpClient.track(event, eventData);\n  },\n};\n","import vscode from \"vscode\";\nimport open from \"open\";\n\nimport metrics from \"./metrics\";\n\nimport KiteAPI from \"kite-api\";\n\nexport default class NotificationsManager {\n  constructor() {\n    this.shownNotifications = {};\n  }\n\n  showErrorMessage(message, ...actions) {\n    if (!this.shownNotifications[message]) {\n      this.shownNotifications[message] = true;\n      return vscode.window.showErrorMessage(message, ...actions).then(item => {\n        delete this.shownNotifications[message];\n        return item;\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  // notifyFromError takes an error from a request and parses it\n  // If it matches the expected presentational API, it will notify\n  // using the message. Otherwise it notifies using the defaultMessage\n  // if it's passed one.\n  static async notifyFromError(err, defaultMessage) {\n    function tryNotifyDefault() {\n      if (defaultMessage) {\n        vscode.window.showWarningMessage(defaultMessage)\n      }\n    }\n    if (!err.data) {\n      tryNotifyDefault()\n      return\n    }\n\n    const { state, responseData } = err.data;\n    if (!responseData) {\n      tryNotifyDefault()\n      return\n    }\n\n    if (state && state <= KiteAPI.STATES.UNREACHABLE) {\n      vscode.window.showWarningMessage(\"Kite could not be reached. Please check that Kite engine is running.\");\n      return;\n    }\n\n    try {\n      const { notification: notif, message } = JSON.parse(responseData);\n      if (notif) {\n        // Since warning messages don't have a title, join it with body\n        let title = notif.title;\n        if (title !== \"\" && !title.endsWith('.')) {\n          title += \".\";\n        }\n        const buttonsText = notif.buttons.map(button => button.text)\n        vscode.window\n          .showWarningMessage([title, notif.body].join(\" \"), ...buttonsText)\n          .then(selectedText => {\n            const selectedButton = notif.buttons.find(button => button.text == selectedText);\n            switch(selectedButton.action) {\n              case \"open\":\n                open(selectedButton.link)\n              case \"dismiss\":\n                // no-op closes\n            }\n          })\n      } else if (message) {\n        vscode.window.showWarningMessage(message);\n      } else {\n        tryNotifyDefault();\n      }\n    } catch {\n      tryNotifyDefault();\n    }\n  }\n\n  static showWelcomeNotification(config, openKiteTutorial) {\n    vscode.window\n      .showInformationMessage(\n        \"Welcome to Kite for VS Code\",\n        \"Learn how to use Kite\",\n        \"Don't show this again\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Learn how to use Kite\":\n            open(\"http://help.kite.com/category/46-vs-code-integration\");\n            break;\n          case \"Don't show this again\":\n            config.update(\"showWelcomeNotificationOnStartup\", false, true);\n            break;\n        }\n      });\n    KiteAPI.getKiteSetting(\"has_done_onboarding\")\n      .then(hasDone => !hasDone && openKiteTutorial('python'));\n  }\n\n  static showKiteInstallNotification(install) {\n    metrics.track(\"vscode_kite_installer_notification_shown\");\n    vscode.window\n      .showInformationMessage(\n        \"Kite requires the Kite Copilot desktop application to provide completions and documentation. Please install it to use Kite.\",\n        \"Install\",\n        \"Learn More\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Install\":\n            if (!install) {\n              open(\"https://www.kite.com/install/?utm_medium=editor&utm_source=vscode\");\n              metrics.track(\"vscode_kite_installer_github_link_clicked\")\n            } else {\n              install();\n            }\n            break;\n          case \"Learn More\":\n            open(\"https://www.kite.com/copilot/\");\n            break;\n        }\n      });\n  }\n\n  static showKiteDownloadingNotification() {\n    metrics.track(\"vscode_kite_downloading_notification_shown\");\n    vscode.window\n      .showInformationMessage(\n        \"Kite ships with a standalone application called the Copilot that can show you documentation while you code. The Copilot will launch automatically after Kite is finished installing.\",\n        \"OK\",\n        \"Learn More\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"OK\":\n            break;\n          case \"Learn More\":\n            open(\"https://www.kite.com/copilot/\");\n            break;\n        }\n      });\n  }\n\n  static showKiteInstallErrorNotification(error) {\n    metrics.track(\"vscode_kite_downloading_failed_notification_shown\", { error });\n    vscode.window\n      .showErrorMessage(\n        \"There was an error installing the Kite Copilot, which is required for Kite to provide completions and documentation. Please install it to use Kite.\",\n        \"Install\"\n      )\n      .then(item => {\n        switch (item) {\n          case \"Install\":\n            open(\"https://www.kite.com/install/?utm_medium=editor&utm_source=vscode\");\n            metrics.track(\"vscode_kite_installer_github_link_clicked\");\n            break;\n        }\n      });\n  }\n}\n","'use strict';\nimport vscode from 'vscode';\nimport md5 from 'md5';\n\nimport { head } from './utils';\n\nfunction metricsCounterPath() {\n  return '/clientapi/metrics/counters';\n}\n\nfunction metricsCompletionSelectedPath() {\n  return '/clientapi/metrics/completions/selected';\n}\n\nfunction languagesPath() {\n  return '/clientapi/languages';\n}\n\nfunction accountPath() {\n  return '/api/account/user';\n}\n\nfunction statusPath(path) {\n  return [\n    '/clientapi/status',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction signaturePath() {\n  return '/clientapi/editor/signatures';\n}\n\nfunction searchPath(query, offset = 0, limit = 10) {\n  return [\n    '/api/editor/search',\n    [\n      `q=${encodeURI(query)}`,\n      `offset=${offset}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction projectDirPath(path) {\n  return [\n    '/clientapi/projectdir',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction shouldNotifyPath(path) {\n  return [\n    '/clientapi/permissions/notify',\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\n  ].join('?');\n}\n\nfunction settingsPath(key) {\n  return '/clientapi/settings/' + key;\n}\n\nfunction completionsPath() {\n  return '/clientapi/editor/complete';\n}\n\nfunction reportPath(data) {\n  const symbol = head(data.symbol);\n\n  return valueReportPath(symbol.id);\n}\n\nfunction valueReportPath(id) {\n  return `/api/editor/value/${id}`;\n}\n\nfunction symbolReportPath(id) {\n  return `/api/editor/symbol/${id}`;\n}\n\nfunction membersPath(id, page = 0, limit = 999) {\n  return [\n    `/api/editor/value/${id}/members`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagesPath(id, page = 0, limit = 999) {\n  return [\n    `/api/editor/value/${id}/usages`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagePath(id) {\n  return `/api/editor/usages/${id}`;\n}\n\nfunction examplePath(id) {\n  return `/api/python/curation/${id}`;\n}\n\nfunction openDocumentationInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}`;\n  return url;\n}\n\nfunction openSignatureInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}%23signature`;\n  return url;\n}\n\nfunction openExampleInWebURL(id) {\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/examples/python/${escapeId(id)}`;\n  return url;\n}\n\nfunction hoverPath(document, position) {\n  position = new vscode.Position(position.line, position.character);\n  const state = md5(document.getText());\n  const filename = document.fileName;\n  const buffer = cleanPath(filename);\n  const pos = document.offsetAt(position);\n  const encoding = 'utf-16';\n  return [\n    `/api/buffer/vscode/${buffer}/${state}/hover`,\n    [\n      `cursor_runes=${pos}`,\n      `offset_encoding=${encoding}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction escapeId(id) {\n  return encodeURI(String(id)).replace(/;/g, '%3B');\n}\n\nfunction cleanPath(p) {\n  return encodeURI(normalizeDriveLetter(p))\n    .replace(/^([a-zA-Z]):/, (m, d) => `/windows/${d}`)\n    .replace(/\\/|\\\\|%5C/g, ':');\n}\n\nfunction serializeRangeForPath(range) {\n  return `${range.start.row}:${range.start.column}/${range.end.row}:${range.end.column}`;\n}\n\nfunction normalizeDriveLetter(str) {\n  return str.replace(/^[a-z]:/, m => m.toUpperCase());\n}\n\nexport {\n  accountPath,\n  completionsPath,\n  examplePath,\n  hoverPath,\n  languagesPath,\n  membersPath,\n  metricsCounterPath,\n  metricsCompletionSelectedPath,\n  normalizeDriveLetter,\n  openDocumentationInWebURL,\n  openExampleInWebURL,\n  openSignatureInWebURL,\n  projectDirPath,\n  reportPath,\n  searchPath,\n  serializeRangeForPath,\n  shouldNotifyPath,\n  settingsPath,\n  signaturePath,\n  statusPath,\n  symbolReportPath,\n  usagePath,\n  usagesPath,\n  valueReportPath,\n};\n","'use strict';\n\nimport vscode from 'vscode';\nimport cp from 'child_process';\nimport os from 'os';\n\nimport KiteAPI from \"kite-api\";\n\nfunction promisifiedKiteAPIRequest(req, data) {\n  return KiteAPI.request(req, data).then(resp => promisifyReadResponse(resp));\n};\n\nconst compact = a => a.filter(v => v && v !== '');\n\nconst uniq = a => a.reduce((m, v) => m.indexOf(v) === -1 ? m.concat(v) : m, []);\n\nconst flatten = a =>\n  a.reduce((m, o) => m.concat(Array.isArray(o) ? flatten(o) : o), []);\n\nconst head = a => a[0];\nconst last = a => a[a.length - 1];\nconst log = v => (console.log(v), v);\n\nconst evalPath = (o, ...path) =>\n  path.reduce((m, k) => {\n    if (k === '*' && m) { k = head(Object.keys(m)); }\n    return m && typeof m[k] !== 'undefined' ? m[k] : undefined;\n  }, o);\n\nconst detailLang = o =>\n  o && o.language_details\n    ? head(Object.keys(o.language_details)).toLowerCase()\n    : 'python';\n\nconst detailGet = (o, ...k) => evalPath(o, 'language_details', '*', ...k);\n\nconst detailExist = (o, ...k) => detailGet(o, ...k) != null;\n\nconst detailNotEmpty = (o, ...k) => {\n  const v = detailGet(o, ...k);\n  return v != null && v.length > 0;\n};\n\nconst getDetails = (o, ...details) =>\n  o.detail || (o.details && details.reduce((m, k) => {\n    return m || o.details[k];\n  }, null));\n\nconst getFunctionDetails = (o) => {\n  const type = head(Object.keys(o.details).filter(k => o.details[k]));\n  if (type === 'function') {\n    return o.details.function;\n  } else if (type === 'type') {\n    return detailGet(o.details.type, 'constructor');\n  }\n\n  return null;\n};\n\nconst merge = (a, b) => {\n  const c = {};\n  for (const k in a) { c[k] = a[k]; }\n  for (const k in b) { c[k] = b[k]; }\n  return c;\n};\n\nconst stripTags = s => s.replace(/<[^>]+>/g, '');\n\nconst truncate = (s, l = 200) =>\n  s && s.length > l\n    ? s.slice(0, l) + '…'\n    : s;\n\nfunction parseJSON(data, fallback) {\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return fallback;\n  }\n}\n\n// get time in seconds since the date\nfunction secondsSince(when) {\n  var now = new Date();\n  return (now.getTime() - when.getTime()) / 1000.0;\n}\n\nfunction promisifyRequest(request) {\n  return request.then\n    ? request\n    : new Promise((resolve, reject) => {\n      request.on('response', resp => resolve(resp));\n      request.on('error', err => reject(err));\n    });\n}\n\nfunction promisifyReadResponse(response) {\n  return new Promise((resolve, reject) => {\n    let data = '';\n    response.on('data', chunk => data += chunk);\n    response.on('end', () => resolve(data));\n    response.on('error', err => reject(err));\n  });\n}\n\nfunction delayPromise(factory, timeout) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      factory().then(resolve, reject);\n    }, timeout);\n  });\n}\n\nconst stopPropagationAndDefault = f => function(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  return f && f.call(this, e);\n};\n\nconst editorsForDocument = document =>\n  vscode.window.visibleTextEditors.filter(e => e.document === document);\n\nfunction params (url) {\n  return url.query.split('&').reduce((m, p) => {\n    const [k,v] = p.split('=');\n    m[k] = v;\n    return m;\n  }, {});\n}\n\nconst escapeCommandArguments = (o) => {\n  if(vscode.version < \"1.30.0\") {\n    return JSON.stringify(o).replace(/\"/g, '&quot;');\n  }\n  if (os.platform() == 'win32') {\n    return JSON.stringify(o).replace(/\\\\\\\\/g, \"/\");\n  }\n  return JSON.stringify(o);\n};\n\nconst kiteOpen = (url) => {\n  const env = Object.assign({}, process.env);\n  delete env[\"ELECTRON_RUN_AS_NODE\"];\n  switch(os.platform()) {\n    case 'darwin':\n      cp.spawnSync(\"open\", [url], { env: env });\n      break;\n    case 'win32':\n      cp.spawnSync(\"cmd\", [\"/b\", \"/c\", \"start\",\"\", url], { env: env });\n      break;\n    case 'linux':\n      cp.spawnSync(\"xdg-open\", [url], { env: env });\n  }\n};\n\nconst extToLangMap = new Map([\n  [\"c\", \"c\"],\n  [\"cc\",\"cpp\"],\n  [\"cpp\",\"cpp\"],\n  [\"cs\",\"csharp\"],\n  [\"css\",\"css\"],\n  [\"go\",\"go\"],\n  [\"h\",\"c\"],\n  [\"hpp\",\"cpp\"],\n  [\"html\",\"html\"],\n  [\"java\", \"java\"],\n  [\"js\", \"javascript\"],\n  [\"jsx\",\"jsx\"],\n  [\"kt\",\"kotlin\"],\n  [\"less\",\"less\"],\n  [\"m\",\"objectivec\"],\n  [\"php\", \"php\"],\n  [\"py\", \"python\"],\n  [\"pyw\", \"python\"],\n  [\"rb\",\"ruby\"],\n  [\"scala\",\"scala\"],\n  [\"sh\",\"bash\"],\n  [\"ts\",\"typescript\"],\n  [\"tsx\",\"tsx\"],\n  [\"vue\",\"vue\"],\n]);\n\nconst getSupportedLanguage = document => {\n  if (document.isUntitled) {\n    return null;\n  }\n\n  const ext = document.fileName.split(\".\").slice(-1)[0];\n  if (extToLangMap.has(ext)) {\n    return extToLangMap.get(ext);\n  }\n  return null;\n};\n\nexport {\n  compact,\n  delayPromise,\n  flatten,\n  head,\n  last,\n  log,\n  escapeCommandArguments,\n  detailExist,\n  detailGet,\n  detailLang,\n  detailNotEmpty,\n  parseJSON,\n  promisifyReadResponse,\n  promisifyRequest,\n  secondsSince,\n  promisifiedKiteAPIRequest,\n  stopPropagationAndDefault,\n  truncate,\n  uniq,\n  stripTags,\n  editorsForDocument,\n  params,\n  merge,\n  getDetails,\n  getFunctionDetails,\n  kiteOpen,\n  getSupportedLanguage,\n};\n","module.exports = require(\"buffer\");;","module.exports = require(\"child_process\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"http\");;","module.exports = require(\"https\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","module.exports = require(\"process\");;","module.exports = require(\"querystring\");;","module.exports = require(\"stream\");;","module.exports = require(\"url\");;","module.exports = require(\"util\");;","module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(4275);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}